/*
    http://www.JSON.org/json2.js
    2011-02-23

    Public Domain.

    NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.

    See http://www.JSON.org/js.html


    This code should be minified before deployment.
    See http://javascript.crockford.com/jsmin.html

    USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO
    NOT CONTROL.


    This file creates a global JSON object containing two methods: stringify
    and parse.

        JSON.stringify(value, replacer, space)
            value       any JavaScript value, usually an object or array.

            replacer    an optional parameter that determines how object
                        values are stringified for objects. It can be a
                        function or an array of strings.

            space       an optional parameter that specifies the indentation
                        of nested structures. If it is omitted, the text will
                        be packed without extra whitespace. If it is a number,
                        it will specify the number of spaces to indent at each
                        level. If it is a string (such as '\t' or '&nbsp;'),
                        it contains the characters used to indent at each level.

            This method produces a JSON text from a JavaScript value.

            When an object value is found, if the object contains a toJSON
            method, its toJSON method will be called and the result will be
            stringified. A toJSON method does not serialize: it returns the
            value represented by the name/value pair that should be serialized,
            or undefined if nothing should be serialized. The toJSON method
            will be passed the key associated with the value, and this will be
            bound to the value

            For example, this would serialize Dates as ISO strings.

                Date.prototype.toJSON = function (key) {
                    function f(n) {
                        // Format integers to have at least two digits.
                        return n < 10 ? '0' + n : n;
                    }

                    return this.getUTCFullYear()   + '-' +
                         f(this.getUTCMonth() + 1) + '-' +
                         f(this.getUTCDate())      + 'T' +
                         f(this.getUTCHours())     + ':' +
                         f(this.getUTCMinutes())   + ':' +
                         f(this.getUTCSeconds())   + 'Z';
                };

            You can provide an optional replacer method. It will be passed the
            key and value of each member, with this bound to the containing
            object. The value that is returned from your method will be
            serialized. If your method returns undefined, then the member will
            be excluded from the serialization.

            If the replacer parameter is an array of strings, then it will be
            used to select the members to be serialized. It filters the results
            such that only members with keys listed in the replacer array are
            stringified.

            Values that do not have JSON representations, such as undefined or
            functions, will not be serialized. Such values in objects will be
            dropped; in arrays they will be replaced with null. You can use
            a replacer function to replace those with JSON values.
            JSON.stringify(undefined) returns undefined.

            The optional space parameter produces a stringification of the
            value that is filled with line breaks and indentation to make it
            easier to read.

            If the space parameter is a non-empty string, then that string will
            be used for indentation. If the space parameter is a number, then
            the indentation will be that many spaces.

            Example:

            text = JSON.stringify(['e', {pluribus: 'unum'}]);
            // text is '["e",{"pluribus":"unum"}]'


            text = JSON.stringify(['e', {pluribus: 'unum'}], null, '\t');
            // text is '[\n\t"e",\n\t{\n\t\t"pluribus": "unum"\n\t}\n]'

            text = JSON.stringify([new Date()], function (key, value) {
                return this[key] instanceof Date ?
                    'Date(' + this[key] + ')' : value;
            });
            // text is '["Date(---current time---)"]'


        JSON.parse(text, reviver)
            This method parses a JSON text to produce an object or array.
            It can throw a SyntaxError exception.

            The optional reviver parameter is a function that can filter and
            transform the results. It receives each of the keys and values,
            and its return value is used instead of the original value.
            If it returns what it received, then the structure is not modified.
            If it returns undefined then the member is deleted.

            Example:

            // Parse the text. Values that look like ISO date strings will
            // be converted to Date objects.

            myData = JSON.parse(text, function (key, value) {
                var a;
                if (typeof value === 'string') {
                    a =
/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(value);
                    if (a) {
                        return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],
                            +a[5], +a[6]));
                    }
                }
                return value;
            });

            myData = JSON.parse('["Date(09/09/2001)"]', function (key, value) {
                var d;
                if (typeof value === 'string' &&
                        value.slice(0, 5) === 'Date(' &&
                        value.slice(-1) === ')') {
                    d = new Date(value.slice(5, -1));
                    if (d) {
                        return d;
                    }
                }
                return value;
            });


    This is a reference implementation. You are free to copy, modify, or
    redistribute.
*/
/*jslint evil: true, strict: false, regexp: false */
/*members "", "\b", "\t", "\n", "\f", "\r", "\"", JSON, "\\", apply,
    call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,
    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,
    lastIndex, length, parse, prototype, push, replace, slice, stringify,
    test, toJSON, toString, valueOf
*/
// Create a JSON object only if one does not already exist. We create the
// methods in a closure to avoid creating global variables.
function registerNamespaces(){for(var a=0;a<arguments.length;a++){var b=arguments[a].split("."),c=window;for(var d=0;d<b.length;d++)c[b[d]]||(c[b[d]]=new Object),c=c[b[d]]}}function Array_push(){var a=0;for(a=0;a<arguments.length;a++)this[this.length]=arguments[a];return this.length}function Array_pop(){var a=this[this.length-1];return this.length--,a}function Array_unshift(){this.reverse();for(var a=arguments.length-1;a>=0;a--)this[this.length]=arguments[a];return this.reverse(),this.length}function isWhitespace(a){return a==" "||a=="\t"||a=="\r"||a=="\n"}function String_trim(a){if(this.length==0)return this;a||(a=" \t\r\n");var b=0;while(b<this.length&&a.indexOf(this.charAt(b))!=-1)b++;var c=this.length-1;while(c>b&&a.indexOf(this.charAt(c))!=-1)c--;return b>0||c<this.length-1?this.substring(b,c+1):this}function String_endsWith(a){if(!a)return!0;if(a.length>this.length)return!1;var b=this.length-a.length;for(var c=0;c<a.length;c++)if(a.charAt(c)!=this.charAt(b+c))return!1;return!0}function inherits(a,b){typeof b.prototype=="function"&&inherits(a,b.prototype);for(var c in b.prototype){if(c=="prototype")continue;a[c]=b.prototype[c]}}function sprintf(){if(!arguments||arguments.length<1||!RegExp)return;var a=arguments[0],c=/([^%]*)%('.|0|\x20)?(-)?(\d+)?(\.\d+)?(%|b|c|d|u|f|o|s|x|X)(.*)/,d=b=[],e=0,f=0;while(d=c.exec(a)){var g=d[1],h=d[2],i=d[3],j=d[4],k=d[5],l=d[6],m=d[7];f++;if(l=="%")s="%";else{e++,e>=arguments.length&&alert("Error! Not enough function arguments ("+(arguments.length-1)+", excluding the string)\nfor the number of substitution parameters in string ("+e+" so far).");var n=arguments[e],o="";h&&h.substr(0,1)=="'"?o=g.substr(1,1):h&&(o=h);var p=!0;i&&i==="-"&&(p=!1);var q=-1;j&&(q=parseInt(j));var r=-1;k&&l=="f"&&(r=parseInt(k.substring(1)));var s=n;l=="b"?s=parseInt(n).toString(2):l=="c"?s=String.fromCharCode(parseInt(n)):l=="d"?s=parseInt(n)?parseInt(n):0:l=="u"?s=Math.abs(n):l=="f"?s=r>-1?Math.round(parseFloat(n)*Math.pow(10,r))/Math.pow(10,r):parseFloat(n):l=="o"?s=parseInt(n).toString(8):l=="s"?s=n:l=="x"?s=(""+parseInt(n).toString(16)).toLowerCase():l=="X"&&(s=(""+parseInt(n).toString(16)).toUpperCase())}a=g+s+m}return a}function popup(a,b,c,d){var e=arguments.length,f,g,h=e>4?arguments[4]:"statusbar=no,menubar=no,toolbar=no,scrollbars=yes,resizable=yes,top=0",i=e>7?arguments[7]:!1,j;return e>5?(i?(j=window.screenY?window.screenY:self.screenTop,j=j?j:0):j=0,j+=arguments[5],h+=h?",":"",h+="top="+j+",screenY="+j):h+="top=0,screenY=0",e>6&&(i?(j=window.screenX?window.screenX:self.screenLeft,j=j?j:0):j=0,j+=arguments[6],h+=",left="+j+",screenX="+j),screen.height?f=screen.height:window.document.body.clientHeight?f=window.document.body.clientHeight:window.innerHeight?f=window.innerHeight:document.documentElement.clientHeight?f=document.documentElement.clientHeight:f=580,d!=0&&d>f&&(d=f),d!=0&&c!=0?h+=",height="+d+",width="+c:c!=0&&(h+=",width="+c),g=window.open(a,b,h,!1),g&&g.focus(),g}function plx_Browser(){var a=document;this.agt=navigator.userAgent.toLowerCase(),this.major=parseInt(navigator.appVersion),this.dom=a.getElementById?1:0,this.ns=a.layers,this.ns4up=this.ns&&this.major>=4,this.ns4=navigator.appName=="Netscape"&&parseInt(navigator.appVersion)==4,this.ns6=this.dom&&navigator.appName=="Netscape",this.op=this.agt.indexOf("opera")!=-1,this.ie=a.all,this.ie4=a.all&&!this.dom?1:0,this.ie4up=this.ie&&this.major>=4,this.ie5=a.all&&this.dom,this.win=this.agt.indexOf("win")!=-1||this.agt.indexOf("16bit")!=-1,this.mac=this.agt.indexOf("mac")!=-1,this.gecko=this.agt.indexOf("gecko")!=-1,this.safari=this.agt.indexOf("safari")!=-1,this.sp2=this.agt.indexOf("sv1")!=-1}function showPlaxoABChooser(a,b,c,d){Plaxo.abl||(Plaxo.abl=new Plaxo.ABLauncher),c||(c="www.plaxo.com"),d||(d={}),Plaxo.abl.showABChooser(a,c,b,d)}function fbEnsureInit(a){FB==undefined?setTimeout(function(){fbEnsureInit(a)},50):a&&a()}function fbConnect(a,b,c){fbEnsureInit(function(){FB.login(function(b){if(b.authResponse){var d=b.authResponse.accessToken;FB.api(a,function(a){c(d,a)})}},{scope:b})})}function facebook_connect_post_registration(a,b){fbConnect("/me","read_friendlists,offline_access",function(c,d){$.ajax({type:"POST",dataType:"json",url:"/api/account/facebook",data:JSON.stringify({fb_uid:d.id,fb_auth_token:c}),success:function(){a&&a()},failure:function(){b&&b()}})})}function facebook_connect_registration(a){fbConnect("/me","offline_access,email",function(b,c){var d={full_name:c.name,fb_auth_token:b,fb_uid:c.id,email:c.email};FB.api("/me/picture?type=normal",function(b){d.avatar_url=b,a.success(d)})})}function facebook_connect_avatar(a){fbConnect("/me","offline_access",function(b,c){var d={fb_auth_token:b,fb_uid:c.id};FB.api("/me/picture?type=normal",function(b){d.avatar_url=b,a.success(d)})})}function facebook_connect_friends(a){fbConnect("/me/friends","",function(b,c){var d=c.data;a.success(d)})}function facebook_connect_user_picture(a){FB.api("/"+a.id+"/picture?type=square",function(b){a.success(b)})}function fbAsyncInit(){FB.init({appId:CommonPlace.facebookAppId,status:!0,cookie:!0,xfbml:!0,channelUrl:"//www.ourcommonplace.com/channel"}),window.fbApiInit=!0}function fbAsyncLoad(){(function(a){var b,c="facebook-jssdk",d=a.getElementsByTagName("script")[0];if(a.getElementById(c))return;b=a.createElement("script"),b.id=c,b.async=!0,b.src="//connect.facebook.net/en_US/all.js",d.parentNode.insertBefore(b,d)})(document)}function onABCommComplete(){text="",$($("textarea#invite_email").val().split(", ")).each(function(a,b){text+=b.replace(/(.*)<(.*)>/,"$2")+", "}),$("textarea#invite_email").val(text.substring(0,text.length-2))}function fbAsyncInit(){FB.init({appId:CommonPlace.facebookAppId,status:!0,cookie:!0,xfbml:!0,channelUrl:"//www.ourcommonplace.com/channel"}),fbApiInit=!0}var JSON;JSON||(JSON={}),function(){function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)typeof rep[c]=="string"&&(d=rep[c],e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}"use strict",typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var Showdown={};Showdown.converter=function(){var a,b,c,d=0;this.makeHtml=function(d){return a=new Array,b=new Array,c=new Array,d=d.replace(/~/g,"~T"),d=d.replace(/\$/g,"~D"),d=d.replace(/\r\n/g,"\n"),d=d.replace(/\r/g,"\n"),d="\n\n"+d+"\n\n",d=E(d),d=d.replace(/^[ \t]+$/mg,""),d=f(d),d=e(d),d=h(d),d=C(d),d=d.replace(/~D/g,"$$"),d=d.replace(/~T/g,"~"),d=d.replace(/https?\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!]/g,function(a,b){var c=d.slice(0,b),e=d.slice(b);return c.match(/<[^>]+$/)&&e.match(/^[^>]*>/)?a:(href=a.replace(/^http:\/\/github.com\//,"https://github.com/"),"<a href='"+href+"'>"+a+"</a>")}),d=d.replace(/[a-z0-9_\-+=.]+@[a-z0-9\-]+(\.[a-z0-9-]+)+/ig,function(a){return"<a href='mailto:"+a+"'>"+a+"</a>"}),d};var e=function(c){var c=c.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|\Z)/gm,function(c,d,e,f,g){return d=d.toLowerCase(),a[d]=y(e),f?f+g:(g&&(b[d]=g.replace(/"/g,"&quot;")),"")});return c},f=function(a){a=a.replace(/\n/g,"\n\n");var b="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del",c="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math";return a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,g),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,g),a=a.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,g),a=a.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,g),a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,g),a=a.replace(/\n\n/g,"\n"),a},g=function(a,b){var d=b;return d=d.replace(/\n\n/g,"\n"),d=d.replace(/^\n/,""),d=d.replace(/\n+$/g,""),d="\n\n~K"+(c.push(d)-1)+"K\n\n",d},h=function(a){a=o(a);var b=s("<hr />");return a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,b),a=a.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,b),a=a.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,b),a=q(a),a=r(a),a=w(a),a=f(a),a=x(a),a},i=function(a){return a=t(a),a=j(a),a=z(a),a=m(a),a=k(a),a=A(a),a=y(a),a=v(a),a=a.replace(/  +\n/g," <br />\n"),a},j=function(a){var b=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return a=a.replace(b,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=F(b,"\\`*_"),b}),a},k=function(a){return a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,l),a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,l),a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,l),a},l=function(c,d,e,f,g,h,i,j){j==undefined&&(j="");var k=d,l=e,m=f.toLowerCase(),n=g,o=j;/^javascript:/.test(n)&&(n="");if(n==""){m==""&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m;if(a[m]!=undefined)n=a[m],b[m]!=undefined&&(o=b[m]);else{if(!(k.search(/\(\s*\)$/m)>-1))return k;n=""}}n=F(n,"*_");var p='<a href="'+n+'"';return o!=""&&(o=o.replace(/"/g,"&quot;"),o=F(o,"*_"),p+=' title="'+o+'"'),p+=">"+l+"</a>",p},m=function(a){return a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,n),a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,n),a},n=function(c,d,e,f,g,h,i,j){var k=d,l=e,m=f.toLowerCase(),n=g,o=j;o||(o="");if(n==""){m==""&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m;if(a[m]==undefined)return k;n=a[m],b[m]!=undefined&&(o=b[m])}l=l.replace(/"/g,"&quot;"),n=F(n,"*_");var p='<img src="'+n+'" alt="'+l+'"';return o=o.replace(/"/g,"&quot;"),o=F(o,"*_"),p+=' title="'+o+'"',p+=" />",p},o=function(a){function b(a){return a.replace(/[^\w]/g,"").toLowerCase()}return a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,c){return s('<h1 id="'+b(c)+'">'+i(c)+"</h1>")}),a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,c){return s('<h2 id="'+b(c)+'">'+i(c)+"</h2>")}),a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,c,d){var e=c.length;return s("<h"+e+' id="'+b(d)+'">'+i(d)+"</h"+e+">")}),a},p,q=function(a){a+="~0";var b=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return d?a=a.replace(b,function(a,b,c){var d=b,e=c.search(/[*+-]/g)>-1?"ul":"ol";d=d.replace(/\n{2,}/g,"\n\n\n");var f=p(d);return f=f.replace(/\s+$/,""),f="<"+e+">"+f+"</"+e+">\n",f}):(b=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(b,function(a,b,c,d){var e=b,f=c,g=d.search(/[*+-]/g)>-1?"ul":"ol",f=f.replace(/\n{2,}/g,"\n\n\n"),h=p(f);return h=e+"<"+g+">\n"+h+"</"+g+">\n",h})),a=a.replace(/~0/,""),a};p=function(a){return d++,a=a.replace(/\n{2,}$/,"\n"),a+="~0",a=a.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(a,b,c,d,e){var f=e,g=b,j=c;return g||f.search(/\n{2,}/)>-1?f=h(D(f)):(f=q(D(f)),f=f.replace(/\n$/,""),f=i(f)),"<li>"+f+"</li>\n"}),a=a.replace(/~0/g,""),d--,a};var r=function(a){return a+="~0",a=a.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){var d=b,e=c;return d=u(D(d)),d=E(d),d=d.replace(/^\n+/g,""),d=d.replace(/\n+$/g,""),d="<pre><code>"+d+"\n</code></pre>",s(d)+e}),a=a.replace(/~0/,""),a},s=function(a){return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(c.push(a)-1)+"K\n\n"},t=function(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,d,e){var f=d;return f=f.replace(/^([ \t]*)/g,""),f=f.replace(/[ \t]*$/g,""),f=u(f),b+"<code>"+f+"</code>"}),a},u=function(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=F(a,"*_{}[]\\",!1),a},v=function(a){return a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\w)_(\w)/g,"$1~E95E$2"),a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>"),a},w=function(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c=b;return c=c.replace(/^[ \t]*>[ \t]?/gm,"~0"),c=c.replace(/~0/g,""),c=c.replace(/^[ \t]+$/gm,""),c=h(c),c=c.replace(/(^|\n)/g,"$1  "),c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /mg,"~0"),c=c.replace(/~0/g,""),c}),s("<blockquote>\n"+c+"\n</blockquote>")}),a},x=function(a){a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");var b=a.split(/\n{2,}/g),d=new Array,e=b.length;for(var f=0;f<e;f++){var g=b[f];g.search(/~K(\d+)K/g)>=0?d.push(g):g.search(/\S/)>=0&&(g=i(g),g=g.replace(/\n/g,"<br />"),g=g.replace(/^([ \t]*)/g,"<p>"),g+="</p>",d.push(g))}e=d.length;for(var f=0;f<e;f++)while(d[f].search(/~K(\d+)K/)>=0){var h=c[RegExp.$1];h=h.replace(/\$/g,"$$$$"),d[f]=d[f].replace(/~K\d+K/,h)}return d.join("\n\n")},y=function(a){return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;"),a},z=function(a){return a=a.replace(/\\(\\)/g,G),a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,G),a},A=function(a){return a=a.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),a=a.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(a,b){return B(C(b))}),a},B=function(a){function b(a){var b="0123456789ABCDEF",c=a.charCodeAt(0);return b.charAt(c>>4)+b.charAt(c&15)}var c=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+b(a)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(/./g,function(a){if(a=="@")a=c[Math.floor(Math.random()*2)](a);else if(a!=":"){var b=Math.random();a=b>.9?c[2](a):b>.45?c[1](a):c[0](a)}return a}),a='<a href="'+a+'">'+a+"</a>",a=a.replace(/">.+:/g,'">'),a},C=function(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)}),a},D=function(a){return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a=a.replace(/~0/g,""),a},E=function(a){return a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"~A~B"),a=a.replace(/~B(.+?)~A/g,function(a,b,c){var d=b,e=4-d.length%4;for(var f=0;f<e;f++)d+=" ";return d}),a=a.replace(/~A/g,"    "),a=a.replace(/~B/g,""),a},F=function(a,b,c){var d="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";c&&(d="\\\\"+d);var e=new RegExp(d,"g");return a=a.replace(e,G),a},G=function(a,b){var c=b.charCodeAt(0);return"~E"+c+"E"}},typeof exports!="undefined"&&(exports.Showdown=Showdown),function(a,b){function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function J(){return!1}function K(){return!0}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function bj(a,b){if(b.nodeType!==1||!f.hasData(a))return;var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?".":"")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}function bk(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c!=="input"||a.type!=="checkbox"&&a.type!=="radio"){if(c==="option")b.selected=a.defaultSelected;else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bo(a){var b=c.createElement("div");return bh.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)}function bC(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?bx:by,g=0,h=e.length;if(d>0){if(c!=="border")for(;g<h;g++)c||(d-=parseFloat(f.css(a,"padding"+e[g]))||0),c==="margin"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,"border"+e[g]+"Width"))||0;return d+"px"}d=bz(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<h;g++)d+=parseFloat(f.css(a,"padding"+e[g]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+e[g]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+"px"}function bZ(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));return(k||!l)&&!g["*"]&&(l=b$(a,c,d,e,"*",g)),l}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function ca(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+"["+(typeof e=="object"||f.isArray(e)?b:"")+"]",e,c,d)});else if(!c&&b!=null&&typeof b=="object")for(var e in b)ca(a+"["+e+"]",b[e],c,d);else d(a,b)}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j)return j!==f[0]&&f.unshift(j),d[j]}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cj(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cs(){return setTimeout(ct,0),cr=f.now()}function ct(){cr=b}function cu(a,b){var c={};return f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a}),c}function cv(a){if(!ck[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){cl||(cl=c.createElement("iframe"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,"display"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(e.isReady)return;try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};return e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!d&&c.body)return this.context=c,this[0]=c.body,this.selector=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?g=[null,a,null]:g=i.exec(a);if(g&&(g[1]||!d)){if(g[1])return d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes),e.merge(this,a);h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}return this.context=c,this.selector=a,this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}return e.isFunction(a)?f.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),e.makeArray(a,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return e.each(this,a,b)},ready:function(a){return e.bindReady(),A.add(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&
(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){return a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f),e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(A)return;A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a&&typeof a=="object"&&"setInterval"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":a.toString().replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||e.guid++,g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c=="object"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){return f&&f instanceof e&&!(f instanceof a)&&(f=a(f)),e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test("Â ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())}),e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?m(g):h==="function"&&(!a.unique||!o.has(g))&&c.push(g)},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++)if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){return c=[],this},disable:function(){return c=d=e=b,this},disabled:function(){return!c},lock:function(){return d=b,(!e||e===!0)&&o.disable(),this},locked:function(){return!d},fireWith:function(b,c){return d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c)),this},fire:function(){return o.fireWith(this,arguments),this},fired:function(){return!!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return i.done(a).fail(b).progress(c),this},always:function(){return i.done.apply(i,arguments).fail.apply(i,arguments),this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;return i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i),i},when:function(a){function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}var b=i.call(arguments,0),c=0,d=b.length,e=new Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement("div"),r=c.documentElement;q.setAttribute("className","t"),q.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=q.getElementsByTagName("*"),e=q.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=q.getElementsByTagName("input")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:q.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent("onclick",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML="",a.getComputedStyle&&(j=c.createElement("div"),j.style.width="0",j.style.marginRight="0",q.style.width="2px",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent)for(o in{submit:1,change:1,focusin:1})n="on"+o,p=n in q,p||(q.setAttribute(n,"return;"),p=typeof q[n]=="function"),b[o+"Bubbles"]=p;return k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName("body")[0];if(!r)return;j=1,k="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",m="visibility:hidden;border:0;",n="style='"+k+"border:5px solid #000;padding:0;'",o="<div "+n+"><div></div></div>"+"<table "+n+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",a=c.createElement("div"),a.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+j+"px",r.insertBefore(a,r.firstChild),q=c.createElement("div"),a.appendChild(q),q.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",l=q.getElementsByTagName("td"),p=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML="",q.style.width=q.style.paddingLeft="1px",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!="undefined"&&(q.style.display="inline",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display="",q.innerHTML="<div style='width:4px;'></div>",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position="fixed",e.style.top="20px",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top="",d.style.overflow="hidden",d.style.position="relative",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i)}),b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?f.cache[a[f.expando]]:a[f.expando],!!a&&!m(a)},data:function(a,c,d,e){if(!f.acceptData(a))return;var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);return g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d),o&&!h[c]?g.events:(k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h,i)},removeData:function(a,b,c){if(!f.acceptData(a))return;var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a=="undefined"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],"parsedAttrs")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++)g=e[i].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]));f._data(this[0],"parsedAttrs",!0)}}return h}return typeof a=="object"?this.each(function(){f.data(this,a)}):(d=a.split("."),d[1]=d[1]?"."+d[1]:"",c===b?(h=this.triggerHandler("getData"+d[1]+"!",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h)),h===b&&d[1]?this.data(d[0]):h):this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler("setData"+d[1]+"!",e),f.data(this,a,c),b.triggerHandler("changeData"+d[1]+"!",e)}))},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){return typeof a!="string"&&(c=a,a="fx"),c===b?f.queue(this[0],a):this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){return a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);return m(),d.promise()}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){return a=f.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return f.isFunction(a)?this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];if(!arguments.length){if(g)return c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type],c&&"get"in c&&(d=c.get(g,"value"))!==b?d:(d=g.value,typeof d=="string"?d.replace(q,""):d==null?"":d);return}return e=f.isFunction(a),this.each(function(d){var g=f(this),h;if(this.nodeType!==1)return;e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h})}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}return j&&!h.length&&i.length?f(i[g]).val():h},set:function(a,b){var c=f.makeArray(b);return f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!a||j===3||j===8||j===2)return;if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}return h&&"set"in h&&i&&(g=h.set(a,d,c))!==b?g:(a.setAttribute(c,""+d),d)}return h&&"get"in h&&i&&(g=h.get(a,c))!==null?g:(g=a.getAttribute(c),g===null?b:g)},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++)e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,""),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return w&&f.nodeName(a,"button")?w.get(a,b):b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!a||i===3||i===8||i===2)return;return h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]),d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);return e||(e=c.createAttribute(d),a.setAttributeNode(e)),e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/\bhover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))return;d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f=="undefined"||!!a&&f.event.triggered===a.type?b:f.event.dispatch.apply(i.elem,arguments)},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!g||!(o=g.events))return;b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();return c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n)),c.result}return},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!=="click")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;return a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0),a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];return a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return f.event.remove(this,"._change"),z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;return g===1&&(h=e,e=function(a){return f().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++)),this
.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return f(a.delegateTarget).off(e.namespace?e.type+"."+e.namespace:e.type,e.selector,e.handler),this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=J),this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return f(this.context).on(a,this.selector,b,c),this},die:function(a,b){return f(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;return f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length!==1||w[0]!=="~"&&w[0]!=="+"||!d.parentNode?d:d.parentNode,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);return l&&(m(l,h,e,f),m.uniqueSort(e)),e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}return d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q){if(g!=null)break;m.error(a)}q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=e++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not"){if(!((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))){var g=m.filter(b[3],c,d,!0^f);return d||e.push.apply(e,g),!1}b[3]=m(b[3],null,null,c)}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}return j=a.nodeIndex-e,c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)return;m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)return;a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}return c=c.length>1?f.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?typeof a=="string"?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);return L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse()),this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.isFunction(a)?this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))}):typeof a!="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a)):f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,f.clean(arguments)),a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){return this[0]&&this[0].parentNode?f.isFunction(a)?this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=f(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})):this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];return b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1),{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1)return e[b](this[0]),this;for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test("<"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}return d=e=null,h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k=="number"&&(k+="");if(!k)continue;if(typeof k=="string")if(!_.test(k))k=b.createTextNode(k);else{k=k.replace(Y,"<$1></$2>");var l=(Z.exec(k)||["",""])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement("div");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=$.test(k),q=l==="table"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]==="<table>"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],"tbody")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof (r=k.length)=="number")for(i=0;i<r;i++)bn(k[i]);else bn(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||be.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],"script")&&(!h[j].type||h[j].type.toLowerCase()==="text/javascript"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName("script"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\([^)]*\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\d+(?:px)?$/i,bu=/^-?\d/,bv=/^([\-+])=([\-+.\de]+)/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Left","Right"],by=["Top","Bottom"],bz,bA,bB;f.fn.css=function(a,c){return arguments.length===2&&c===b?this:f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b)return k&&"get"in k&&(g=k.get(a,!1,e))!==b?g:j[c];h=typeof d,h==="string"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(bz)return bz(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c)return a.offsetWidth!==0?bC(a,b,d):(f.swap(a,bw,function(){e=bC(a,b,d)}),e)},set:function(a,b){if(!bt.test(b))return b;b=parseFloat(b);if(b>=0)return b+"px"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bq.test(g)?g.replace(bq,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;return f.swap(a,{display:"inline-block"},function(){b?c=bz(a,"margin-right","marginRight"):c=a.style.marginRight}),c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;return b=b.replace(bs,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f||0,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),f===""?"auto":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\[\]$/,bF=/\r?\n/g,bG=/#.*$/,bH=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\/\//,bM=/\?/,bN=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=["*/"]+["*"];try{bV=e.href}catch(bY){bV=c.createElement("a"),bV.href="",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bS)return bS.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;return f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bN,"")).find(g):c)),d&&i.each(d,[c,b,a])}}),this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(
a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,"\r\n")}}):{name:b.name,value:c.replace(bF,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){return f.isFunction(d)&&(g=g||e,e=d,d=b),f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b),a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s===2)return;s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cc(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return s||(d.mimeType=a),this},abort:function(a){return a=a||"abort",p&&p.abort(a),w(0,a),this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bG,"").replace(bL,bW[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]==="http:"?80:443))==(bW[3]||(bW[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,"$1_="+x);d.url=y+(y===d.url?(bM.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bX+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(!d.beforeSend||d.beforeSend.call(e,v,d)!==!1&&s!==2){for(u in{success:1,error:1,complete:1})v[u](d[u]);p=b$(bU,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(!(s<2))throw z;w(-1,z)}}return v}return v.abort(),!1},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)ca(g,a[g],c,e);return d.join("&").replace(bD,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cd++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=b.contentType==="application/x-www-form-urlencoded"&&typeof b.data=="string";if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";return b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){return g||f.error(h+" was not called"),g[0]},b.dataTypes[0]="json","script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return f.globalEval(a),a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch)ch[a](0,1)}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp,cq=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(cu("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),e===""&&f.css(d,"display")==="none"&&f._data(d,"olddisplay",cv(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cu("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";return f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(cu("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),o?(f._data(this,"toggle"+i,o==="show"?"hide":"show"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?"":"px"),n!=="px"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]==="-="?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,""));return!0}var e=f.speed(b,c,d);return f.isEmptyObject(a)?this.each(e.complete,[!1]):(a=f.extend({},a),e.queue===!1?this.each(g):this.queue(e.queue,g))},stop:function(a,c,d){return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu("show",1),slideUp:cu("hide",1),slideToggle:cu("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)},d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a}return this.elem[this.prop]},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,"fxshow"+e.prop)===b&&f._data(e.elem,"fxshow"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}return i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(["width","height"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position==="fixed")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position==="relative"||k.position==="static")l+=i.offsetTop,m+=i.offsetLeft;return f.support.fixedPosition&&k.position==="fixed"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft)),{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each(["Left","Top"],function(a,c){var d="scroll"+c;f.fn[d]=function(c){var e,g;return c===b?(e=this[0],e?(g=cy(e),g?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]):null):this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,"padding")):this[d]():null},f.fn["outer"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?"margin":"border")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement["client"+c],h=e.document.body;return e.document.compatMode==="CSS1Compat"&&g||h&&h["client"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a=="string"?a:a+"px")}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})}(window),function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&d(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.8.13",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode)return;for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})}(jQuery),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)a(e).triggerHandler("remove");c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e=this.options[b];c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),d=d||{};if(c.originalEvent)for(var f=a.event.props.length,g;f;)g=a.event.props[--f],c[g]=c.originalEvent[g];return this.element.trigger(c,d),!(a.isFunction(e)&&e.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(a,b){var c=!1;a(document).mousedown(function(a){c=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){if(c)return;this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which==1,f=typeof this.options.cancel=="string"?a(b.target).parents().add(b.target).filter(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted)return b.preventDefault(),!0}return!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0},_mouseMove:function(b){return!a.browser.msie||document.documentMode>=9||!!b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})}(jQuery),function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f=a.fn.position,g=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return f.apply(this,arguments);b=a.extend({},b);var g=a(b.of),h=g[0],i=(b.collision||"flip").split(" "),j=b.offset?b.offset.split(" "):[0,0],k,l,m;return h.nodeType===9?(k=g.width(),l=g.height(),m={top:0,left:0}):h.setTimeout?(k=g.width(),l=g.height(),m={top:g.scrollTop(),left:g.scrollLeft()}):h.preventDefault?(b.at="left top",k=l=0,m={top:b.of.pageY,left:b.of.pageX}):(k=g.outerWidth(),l=g.outerHeight(),m=g.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),i.length===1&&(i[1]=i[0]),j[0]=parseInt(j[0],10)||0,j.length===1&&(j[1]=j[0]),j[1]=parseInt(j[1],10)||0,b.at[0]==="right"?m.left+=k:b.at[0]===e&&(m.left+=k/2),b.at[1]==="bottom"?m.top+=l:b.at[1]===e&&(m.top+=l/2),m.left+=j[0],m.top+=j[1],this.each(function(){var c=a(this),d=c.outerWidth(),f=c.outerHeight(),g=parseInt(a.curCSS(this,"marginLeft",!0))||0,h=parseInt(a.curCSS(this,"marginTop",!0))||0,n=d+g+(parseInt(a.curCSS(this,"marginRight",!0))||0),o=f+h+(parseInt(a.curCSS(this,"marginBottom",!0))||0),p=a.extend({},m),q;b.my[0]==="right"?p.left-=d:b.my[0]===e&&(p.left-=d/2),b.my[1]==="bottom"?p.top-=f:b.my[1]===e&&(p.top-=f/2),p.left=Math.round(p.left),p.top=Math.round(p.top),q={left:p.left-g,top:p.top-h},a.each(["left","top"],function(c,e){a.ui.position[i[c]]&&a.ui.position[i[c]][e](p,{targetWidth:k,targetHeight:l,elemWidth:d,elemHeight:f,collisionPosition:q,collisionWidth:n,collisionHeight:o,offset:j,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(p,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]===e)return;var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,h=c.at[0]==="left"?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0},top:function(b,c){if(c.at[1]===e)return;var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,h=c.at[1]==="top"?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];return!c||!c.ownerDocument?null:b?this.each(function(){a.offset.setOffset(this,b)}):g.call(this)})}(jQuery),function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!this.element.data("draggable"))return;return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target
).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(b,!0),!0)},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",b)!==!1&&d._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[(b.containment=="document"?0:a(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(b.containment=="document"?0:a(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment),d=c[0];if(!d)return;var e=c.offset(),f=a(d).css("overflow")!="hidden";this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.13"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),e=a(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(!(l-f<g&&g<m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!="inner"){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!="outer"){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}}}),a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(!e.length)return;var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a,b){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];for(var c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(b,c){b=="accept"&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return;this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return;this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance))return e=!0,!1}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.13"}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return i<=e&&f<=j&&k<=g&&h<=l;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case"touch":return(g>=k&&g<=l||h>=k&&h<=l||g<k&&h>l)&&(e>=i&&e<=j||f>=i&&f<=j||e<i&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf();a:for(var g=0;g<d.length;g++){if(d[g].options.disabled||b&&!d[g].accept.call(d[g].element[0],b.currentItem||b.element))continue;for(var h=0;h<f.length;h++)if(f[h]==d[g].element[0]){d[g].proportions.height=0;continue a}d[g].visible=d[g].element.css("display")!="none";if(!d[g].visible)continue;e=="mousedown"&&d[g]._activate.call(d[g],c),d[g].offset=d[g].element.offset(),d[g].proportions={width:d[g].element[0].offsetWidth,height:d[g].element[0].offsetHeight}}},drop:function(b,c){var d=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options)return;!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=d||this._drop.call(this,c)),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c))}),d},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var d=a.ui.intersect(b,this,this.options.tolerance),e=!d&&this.isover==1?"isout":d&&this.isover==0?"isover":null;if(!e)return;var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a.data(g[0],"droppable"),f.greedyChild=e=="isover"?1:0)}f&&e=="isover"&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this[e=="isout"?"isover":"isout"]=0,this[e=="isover"?"_over":"_out"].call(this,c),f&&e=="isout"&&(f.isout=0,f.isover=1,f._over.call(f,c))})}}}(jQuery),function(a,b){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&a.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g="ui-resizable-"+f,h=a('<div class="ui-resizable-handle '+g+'"></div>');/sw|se|ne|nw/.test(f)&&h.css({zIndex:++c.zIndex}),"se"==f&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),e=0;e=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();var f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(f,e),this._proportionallyResize()}if(!a(this.handles[c]).length)continue}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){if(c.disabled)return;a(this).removeClass("ui-resizable-autohide"),b._handles.show()},function(){if(c.disabled)return;b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(b){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left}),a.browser.opera&&/relative/.test(f.css("position"))&&f.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy();var g=c(this.helper.css("left")),h=c(this.helper.css("top"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio=typeof d.aspectRatio=="number"?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;var i=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor",i=="auto"?this.axis+"-resize":i),f.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c=this.helper,d=this.options,e={},f=this,g=this.originalMousePosition,h=this.axis,i=b.pageX-g.left||0,j=b.pageY-g.top||0,k=this._change[h];if(!k)return!1;var l=k.apply(this,[b,i,j]),m=a.browser.msie&&a.browser.version<7,n=this.sizeDiff;if(this._aspectRatio||b.shiftKey)l=this._updateRatio(l,b);return l=this._respectSize(l,b),this._propagate("resize",b),c.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",b,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateCache:function(a){var b=this.options;this.offset=this.helper.offset(),d(a.left)&&(this.position.left=a.left),d(a.top)&&(this.position.top=a.top),d(a.height)&&(this.size.height=a.height),d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a,b){var c=this.options,d=this.position,e=this.size,f=this.axis;return a.height?a.width=e.height*this.aspectRatio:a.width&&(a.height=e.width/this.aspectRatio),f=="sw"&&(a.left=d.left+(e.width-a.width),a.top=null),f=="nw"&&(a.top=d.top+(e.height-a.height),a.left=d.left+(e.width-a.width)),a},_respectSize:function(a,b){var c=this.helper,e=this.options,f=this._aspectRatio||b.shiftKey,g=this.axis,h=d(a.width)&&e.maxWidth&&e.maxWidth<a.width,i=d(a.height)&&e.maxHeight&&e.maxHeight<a.height,j=d(a.width)&&e.minWidth&&e.minWidth>a.width,k=d(a.height)&&e.minHeight&&e.minHeight>a.height;j&&(a.width=e.minWidth),k&&(a.height=e.minHeight),h&&(a.width=e.maxWidth),i&&(a.height=e.maxHeight);var l=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,n=/sw|nw|w/.test(g),o=/nw|ne|n/.test(g);j&&n&&(a.left=l-e.minWidth),h&&n&&(a.left=l-e.maxWidth),k&&o&&(a.top=m-e.minHeight),i&&o&&(a.top=m-e.maxHeight);var p=!a.width&&!a.height;return p&&!a.left&&a.top?a.top=null:p&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){var b=this.options;if(!this._proportionallyResizeElements.length)return;var c=this.helper||this.element;for(var d=0;d<this._proportionallyResizeElements.length;d++){var e=this._proportionallyResizeElements[d];if(!this.borderDif){var f=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],g=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];this.borderDif=a.map(f,function(a,b){var c=parseInt(a,10)||0,d=parseInt(g[b],10)||0;return c+d})}if(!(!a.browser.msie||!a(c).is(":hidden")&&!a(c).parents(":hidden").length))continue;e.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var d=a.browser.msie&&a.browser.version<7,e=d?1:0,f=d?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+f,height:this.element.outerHeight()+f,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{left:f.left+b,width:e.width-b}},n:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{top:f.top+c,height:e.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply
(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),b!="resize"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.13"}),a.ui.plugin.add("resizable","alsoResize",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10),position:b.css("position")})})};typeof e.alsoResize=="object"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],f(e.alsoResize)):a.each(e.alsoResize,function(a){f(a)}):f(e.alsoResize)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,e){a(b).each(function(){var b=a(this),f=a(this).data("resizable-alsoresize"),g={},i=e&&e.length?e:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(i,function(a,b){var c=(f[b]||0)+(h[b]||0);c&&c>=0&&(g[b]=c||null)}),a.browser.opera&&/relative/.test(b.css("position"))&&(d._revertToRelativePosition=!0,b.css({position:"absolute",top:"auto",left:"auto"})),b.css(g)})};typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(a,b){i(a,b)}):i(e.alsoResize)},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.css({position:b.data("resizable-alsoresize").position})})};d._revertToRelativePosition&&(d._revertToRelativePosition=!1,typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(a){f(a)}):f(e.alsoResize)),a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],"left")?0:d.sizeDiff.height,i=g?0:d.sizeDiff.width,j={width:d.size.width-i,height:d.size.height-h},k=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(a.extend(j,l&&k?{top:l,left:k}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var c={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),10)};f&&f.length&&a(f[0]).css({width:c.width,height:c.height}),d._updateCache(c),d._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(b,d){var e=a(this).data("resizable"),f=e.options,g=e.element,h=f.containment,i=h instanceof a?h.get(0):/parent/.test(h)?g.parent().get(0):h;if(!i)return;e.containerElement=a(i);if(/document/.test(h)||h==document)e.containerOffset={left:0,top:0},e.containerPosition={left:0,top:0},e.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var j=a(i),k=[];a(["Top","Right","Left","Bottom"]).each(function(a,b){k[a]=c(j.css("padding"+b))}),e.containerOffset=j.offset(),e.containerPosition=j.position(),e.containerSize={height:j.innerHeight()-k[3],width:j.innerWidth()-k[1]};var l=e.containerOffset,m=e.containerSize.height,n=e.containerSize.width,o=a.ui.hasScroll(i,"left")?i.scrollWidth:n,p=a.ui.hasScroll(i)?i.scrollHeight:m;e.parentData={element:i,left:l.left,top:l.top,width:o,height:p}}},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.containerSize,g=d.containerOffset,h=d.size,i=d.position,j=d._aspectRatio||b.shiftKey,k={top:0,left:0},l=d.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(k=g),i.left<(d._helper?g.left:0)&&(d.size.width=d.size.width+(d._helper?d.position.left-g.left:d.position.left-k.left),j&&(d.size.height=d.size.width/e.aspectRatio),d.position.left=e.helper?g.left:0),i.top<(d._helper?g.top:0)&&(d.size.height=d.size.height+(d._helper?d.position.top-g.top:d.position.top),j&&(d.size.width=d.size.height*e.aspectRatio),d.position.top=d._helper?g.top:0),d.offset.left=d.parentData.left+d.position.left,d.offset.top=d.parentData.top+d.position.top;var m=Math.abs((d._helper?d.offset.left-k.left:d.offset.left-k.left)+d.sizeDiff.width),n=Math.abs((d._helper?d.offset.top-k.top:d.offset.top-g.top)+d.sizeDiff.height),o=d.containerElement.get(0)==d.element.parent().get(0),p=/relative|absolute/.test(d.containerElement.css("position"));o&&p&&(m-=d.parentData.left),m+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-m,j&&(d.size.height=d.size.width/d.aspectRatio)),n+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-n,j&&(d.size.width=d.size.height*d.aspectRatio))},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.position,g=d.containerOffset,h=d.containerPosition,i=d.containerElement,j=a(d.helper),k=j.offset(),l=j.outerWidth()-d.sizeDiff.width,m=j.outerHeight()-d.sizeDiff.height;d._helper&&!e.animate&&/relative/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m}),d._helper&&!e.animate&&/static/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m})}}),a.ui.plugin.add("resizable","ghost",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size;d.ghost=d.originalElement.clone(),d.ghost.css({opacity:.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:""),d.ghost.appendTo(d.helper)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size,g=d.originalSize,h=d.originalPosition,i=d.axis,j=e._aspectRatio||b.shiftKey;e.grid=typeof e.grid=="number"?[e.grid,e.grid]:e.grid;var k=Math.round((f.width-g.width)/(e.grid[0]||1))*(e.grid[0]||1),l=Math.round((f.height-g.height)/(e.grid[1]||1))*(e.grid[1]||1);/^(se|s|e)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l):/^(ne)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l):/^(sw)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.left=h.left-k):(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l,d.position.left=h.left-k)}});var c=function(a){return parseInt(a,10)||0},d=function(a){return!isNaN(parseInt(a,10))}}(jQuery),function(a,b){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(b){var c=this;this.opos=[b.pageX,b.pageY];if(this.options.disabled)return;var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var e=!b.metaKey||!d.$element.hasClass("ui-selected");return d.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),d.unselecting=!e,d.selecting=e,d.selected=e,e?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element}),!1}})},_mouseDrag:function(b){var c=this;this.dragged=!0;if(this.options.disabled)return;var d=this.options,e=this.opos[0],f=this.opos[1],g=b.pageX,h=b.pageY;if(e>g){var i=g;g=e,e=i}if(f>h){var i=h;h=f,f=i}return this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(!i||i.element==c.element[0])return;var j=!1;d.tolerance=="touch"?j=!(i.left>g||i.right<e||i.top>h||i.bottom<f):d.tolerance=="fit"&&(j=i.left>e&&i.right<g&&i.top>f&&i.bottom<h),j?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,c._trigger("selecting",b,{selecting:i.element}))):(i.selecting&&(b.metaKey&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),c._trigger("unselecting",b,{unselecting:i.element}))),i.selected&&!b.metaKey&&!i.startselected&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,c._trigger("unselecting",b,{unselecting:i.element})))}),!1},_mouseStop:function(b){var c=this;this.dragged=!1;var d=this.options;return a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),a.extend(a.ui.selectable,{version:"1.8.13"})}(jQuery),function(a,b){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData("sortable-item");return this},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(b);var d=null,e=this,f=a(b.target).parents().each(function(){if(a.data(this,"sortable-item")==e)return d=a(this),!1});a.data(b.target,"sortable-item")==e&&(d=a(b.target));if(!d)return!1;if(this.options.handle&&!c){var g=!1;a(this.options.handle,d).find("*").andSelf().each(function(){this==b.target&&(g=!0)});if(!g)return!1}return this.currentItem=d,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,d){var e=this.options,f=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(var g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger("activate",b,f._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(!h)continue;if(g!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=g&&!a.ui.contains(this.placeholder[0],g)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],g):!0)){this.direction=h==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(f))break;this._rearrange(b,f),this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(!b)return;a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,e=d.placeholder.offset();d.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("deactivate",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&d+j<i&&b+k>f&&b+k<g;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&g=="right"||f=="down"?2:1:f&&(f=="down"?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&d||f=="left"&&!d:e&&(e=="down"&&c||e=="up"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=this,d=[],e=[],f=this._connectWith();if(f&&b)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],"sortable");j&&j!=this&&!j.options.disabled&&e.push([a.isFunction(j.options.items)?j.options.items.call(j.element):a(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var g=e.length-1;g>=0;g--)e[g][0].each(function(){d.push(this)});return a(d)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data(sortable-item)");for(var b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=this,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],f=this._connectWith();if(f)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],"sortable");j&&j!=this&&!j.options.disabled&&(e.push([a.isFunction(j.options.items)?j.options.items.call(j.element[0],b,{item:this.currentItem}):a(j.options.items,j.element),j]),this.containers.push(j))}}for(var g=e.length-1;g>=0;g--){var k=e[g][1],l=e[g][0];for(var i=0,m=l.length;i<m;i++){var n=a(l[i]);n.data("sortable-item",k),c.push({item:n,instance:k,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0])continue;var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return e||(b.style.visibility="hidden"),b},update:function(a,b){if(e&&!d.forcePlaceholderSize)return;b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){var c=null,d=null;for(var e=this.containers.length-1;e>=0;e--){if(a.ui.contains(this.currentItem[0],this.containers[e].element[0]))continue;if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.ui.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0)}if(!c)return;if(this.containers.length===1)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){var f=1e4,g=null,h=this.positionAbs[this.containers[d].floating?"left":"top"];for(var i=this.items.length-1;i>=0;i--){if(!a.ui.contains(this.containers[d].element[0],this.items[i].item[0]))continue;var j=this.items[i][this.containers[d].floating?"left":"top"];Math.abs(j-h)<f&&(f=Math.abs(j-h),g=this.items[i])}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;return d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(d[0].style.width==""||c.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==""||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e=a(c).css("overflow")!="hidden";this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition){this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top));if(c.grid){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var d=[],e=this;!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS)if(this._storedCSS[f]=="auto"||this._storedCSS[f]=="static")this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||
this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger("remove",a,this._uiHash())});for(var f=this.containers.length-1;f>=0;f--)a.ui.contains(this.containers[f].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[f])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[f])))}for(var f=this.containers.length-1;f>=0;f--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!c){for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:"1.8.13"})}(jQuery),function(a,b){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,c=b.options;b.running=0,b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),b.headers=b.element.find(c.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){if(c.disabled)return;a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){if(c.disabled)return;a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){if(c.disabled)return;a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){if(c.disabled)return;a(this).removeClass("ui-state-focus")}),b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(c.navigation){var d=b.element.find("a").filter(c.navigationFilter).eq(0);if(d.length){var e=d.closest(".ui-accordion-header");e.length?b.active=e:b.active=d.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||c.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),b.active.next().addClass("ui-accordion-content-active"),b._createIcons(),b.resize(),b.element.attr("role","tablist"),b.headers.attr("role","tab").bind("keydown.accordion",function(a){return b._keydown(a)}).next().attr("role","tabpanel"),b.headers.not(b.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),b.active.length?b.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0),a.browser.safari||b.headers.find("a").attr("tabIndex",-1),c.event&&b.headers.bind(c.event.split(" ").join(".accordion ")+".accordion",function(a){b._clickHandler.call(b,a,this),a.preventDefault()})},_createIcons:function(){var b=this.options;b.icons&&(a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(b.autoHeight||b.fillHeight)&&c.css("height",""),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b=="active"&&this.activate(c),b=="icons"&&(this._destroyIcons(),c&&this._createIcons()),b=="disabled"&&this.headers.add(this.headers.next())[c?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(this.options.disabled||b.altKey||b.ctrlKey)return;var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}return f?(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),!1):!0},resize:function(){var b=this.options,c;if(b.fillSpace){if(a.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}c=this.element.parent().height(),a.browser.msie&&this.element.parent().css("overflow",d),this.headers.each(function(){c-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else b.autoHeight&&(c=0,this.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c));return this},activate:function(a){this.options.active=a;var b=this._findActive(a)[0];return this._clickHandler({target:b},b),this},_findActive:function(b){return b?typeof b=="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===!1?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,c){var d=this.options;if(d.disabled)return;if(!b.target){if(!d.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),this.active.next().addClass("ui-accordion-content-active");var e=this.active.next(),f={options:d,newHeader:a([]),oldHeader:d.active,newContent:a([]),oldContent:e},g=this.active=a([]);this._toggle(g,e,f);return}var h=a(b.currentTarget||c),i=h[0]===this.active[0];d.active=d.collapsible&&i?!1:this.headers.index(h);if(this.running||!d.collapsible&&i)return;var j=this.active,g=h.next(),e=this.active.next(),f={options:d,newHeader:i&&d.collapsible?a([]):h,oldHeader:this.active,newContent:i&&d.collapsible?a([]):g,oldContent:e},k=this.headers.index(this.active[0])>this.headers.index(h[0]);this.active=i?a([]):h,this._toggle(g,e,f,i,k),j.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),i||(h.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected),h.next().addClass("ui-accordion-content-active"));return},_toggle:function(b,c,d,e,f){var g=this,h=g.options;g.toShow=b,g.toHide=c,g.data=d;var i=function(){if(!g)return;return g._completed.apply(g,arguments)};g._trigger("changestart",null,g.data),g.running=c.size()===0?b.size():c.size();if(h.animated){var j={};h.collapsible&&e?j={toShow:a([]),toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace}:j={toShow:b,toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace},h.proxied||(h.proxied=h.animated),h.proxiedDuration||(h.proxiedDuration=h.duration),h.animated=a.isFunction(h.proxied)?h.proxied(j):h.proxied,h.duration=a.isFunction(h.proxiedDuration)?h.proxiedDuration(j):h.proxiedDuration;var k=a.ui.accordion.animations,l=h.duration,m=h.animated;m&&!k[m]&&!a.easing[m]&&(m="slide"),k[m]||(k[m]=function(a){this.slide(a,{easing:m,duration:l||700})}),k[m](j)}else h.collapsible&&e?b.toggle():(c.hide(),b.show()),i(!0);c.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),b.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running;if(this.running)return;this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data)}}),a.extend(a.ui.accordion,{version:"1.8.13",animations:{slide:function(b,c){b=a.extend({easing:"swing",duration:300},b,c);if(!b.toHide.size()){b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b);return}if(!b.toShow.size()){b.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},b);return}var d=b.toShow.css("overflow"),e=0,f={},g={},h=["height","paddingTop","paddingBottom"],i,j=b.toShow;i=j[0].style.width,j.width(parseInt(j.parent().width(),10)-parseInt(j.css("paddingLeft"),10)-parseInt(j.css("paddingRight"),10)-(parseInt(j.css("borderLeftWidth"),10)||0)-(parseInt(j.css("borderRightWidth"),10)||0)),a.each(h,function(c,d){g[d]="hide";var e=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);f[d]={value:e[1],unit:e[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(g,{step:function(a,c){c.prop=="height"&&(e=c.end-c.start===0?0:(c.now-c.start)/(c.end-c.start)),b.toShow[0].style[c.prop]=e*f[c.prop].value+f[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height",""),b.toShow.css({width:i,overflow:d}),b.complete()}})},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})}(jQuery),function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,d;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(b.options.disabled||b.element.attr("readonly"))return;d=!1;var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._move("previous",c),c.preventDefault();break;case e.DOWN:b._move("next",c),c.preventDefault();break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(d=!0,c.preventDefault());case e.TAB:if(!b.menu.active)return;b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}).bind("keypress.autocomplete",function(a){d&&(d=!1,a.preventDefault())}).bind("focus.autocomplete",function(){if(b.options.disabled)return;b.selectedItem=null,b.previous=b.element.val()}).bind("blur.autocomplete",function(a){if(b.options.disabled)return;clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150)}),this._initSource(),this.response=function(){return b._response.apply(b,arguments)},this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var d=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==d&&!a.ui.contains(d,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){var d=c.item.data("item.autocomplete");!1!==b._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(a,c){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b=this,d,e;a.isArray(this.options.source)?(d=this.options.source,this.source=function(b,c){c(a.ui.autocomplete.filter(d,b.term))}):typeof this.options.source=="string"?(e=this.options.source,this.source=function(d,f){b.xhr&&b.xhr.abort(),b.xhr=a.ajax({url:e,data:d,dataType:"json",autocompleteRequest:++c,success:function(a,b){this.autocompleteRequest===c&&f(a)},error:function(){this.autocompleteRequest===c&&f([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)===!1)return;return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this.response)},_response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b=="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term),this.menu.deactivate();return}this.menu[a](b)},widget:function(){return this.menu.element}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})}(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(!a(c.target).closest(".ui-menu-item a").length)return;c.preventDefault(),b.select(c)}),this.refresh()},refresh:function(){var b=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){if(!this.active)return;this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(!this.active){this.activate(c,this.element.children(b));return}var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last()){this.activate(b,this.element.children(".ui-menu-item:first"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:last")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first()){this.activate(b,this.element.children(".ui-menu-item:last"));return}var c=this.active.offset().top,d=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return b<10&&b>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(b,result)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery),function(a,b){var c,d="ui-button ui-widget ui-state-default ui-corner-all",e="ui-state-hover ui-state-active ",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",g=function(b){a(":ui-button",b.target.form).each(function(){var b=a(this).data("button");setTimeout(function(){b.refresh()},1)})},h=function(b){var c=b.name,d=b.form,e=a([]);return c&&(d?e=a(d).find("[name='"+c+"']"):e=a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",g),typeof this.options.disabled!="boolean"&&(this.options.disabled=this.element.attr("disabled")),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,e=this.options,f=this.type==="checkbox"||this.type==="radio",i="ui-state-hover"+(f?"":" ui-state-active"),j="ui-state-focus";e.label===null&&(e.label=this.buttonElement.html()),this.element.is(":disabled")&&(e.disabled=!0),this.buttonElement.addClass(d).attr("role","button").bind("mouseenter.button",function(){if(e.disabled)return;a(this).addClass("ui-state-hover"),this===c&&a(this).addClass("ui-state-active")}).bind("mouseleave.button",function(){if(e.disabled)return;a(this).removeClass(i)}).bind("focus.button",function(){a(this).addClass(j)}).bind("blur.button",function(){a(this).removeClass(j)}).bind("click.button",function(a){e.disabled&&a.stopImmediatePropagation()}),f&&this.element.bind("change.button",function(){b.refresh()}),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(e.disabled)return!1;a(this).toggleClass("ui-state-active"),b.buttonElement.attr("aria-pressed",b.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(e.disabled)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed",!0);var c=b.element[0];h(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",!1)}):(this.buttonElement.bind("mousedown.button",function(){if(e.disabled)return!1;a(this).addClass("ui-state-active"),c=this,a(document).one("mouseup",function(){c=null})}).bind("mouseup.button",function(){if(e.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(e.disabled)return!1;(b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",e.disabled)},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().filter(":last"),b="label[for="+this.element.attr("id")+"]";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible");var c=this.element.is(":checked");c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",c)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(d+" "+e+" "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="disabled"&&(c?this.element.attr("disabled",!0):this.element.removeAttr("disabled")),this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?h(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",!0):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",!1)}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",!0):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",!1))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var b=this.buttonElement.removeClass(f),c=a("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,g=[];d.primary||d.secondary?(this.options.text&&g.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(g.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):g.push("ui-button-text-only"),b.addClass(g.join(" "))}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})}(jQuery),function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},f=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var b=this,d=b.options,e=d.title||"&#160;",f=a.ui.dialog.getTitleId(b.element),g=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass(c+d.dialogClass).css({zIndex:d.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){d.closeOnEscape&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).attr({role:"dialog","aria-labelledby":f}).mousedown(function(a){b.moveToTop(!1,a)}),h=b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g),i=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g),j=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass("ui-state-hover")},function(){j.removeClass("ui-state-hover")}).focus(function(){j.addClass("ui-state-focus")}).blur(function(){j.removeClass("ui-state-focus")}).click(function(a){return b.close(a),!1}).appendTo(i),k=(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(j),l=a("<span></span>").addClass("ui-dialog-title").attr("id",f).html(e).prependTo(i);a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose)&&(d.beforeClose=d.beforeclose),i.find("*").add(i).disableSelection(),d.draggable&&a.fn.draggable&&b._makeDraggable(),d.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(d.buttons),b._isOpen=!1,a.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle),a},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!1===c._trigger("beforeClose",b))return;return c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d),c},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options,f;return e.modal&&!b||!e.stack&&!e.modal?d._trigger("focus",c):(e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),d.overlay&&(a.ui.dialog.maxZ+=1,d.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),f={scrollTop:d.element.attr("scrollTop"),scrollLeft:d.element.attr("scrollLeft")},a.ui.dialog.maxZ+=1,d.uiDialog.css("z-index",a.ui.dialog.maxZ),d.element.attr(f),d._trigger("focus",c),d)},open:function(){if(this._isOpen)return;var b=this,c=b.options,d=b.uiDialog;return b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keypress.ui-dialog",function(b){if(b.keyCode!==a.ui.keyCode.TAB)return;var c=a(":tabbable",this),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey)return d.focus(1),!1;if(b.target===d[0]&&b.shiftKey)return e.focus(1),!1}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open"),b},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);c.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof b=="object"&&b!==null&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a('<button type="button"></button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(g);a.each(d,function(a,b){if(a==="click")return;a in f?e[a](b):e.attr(a,b)}),a.fn.button&&e.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function f(a){return{position:a.position,offset:a.offset}}var b=this,c=b.options,d=a(document),e;b.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,g){e=c.height==="auto"?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),b._trigger("dragStart",d,f(g))},drag:function(a,c){b._trigger("drag",a,f(c))},stop:function(g,h){c.position=[h.position.left-d.scrollLeft(),h.position.top-d.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(e),b._trigger("dragStop",g,f(h)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function h(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var d=this,e=d.options,f=d.uiDialog.css("position"),g=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:g,start:function(b,c){a(this).addClass("ui-dialog-resizing"),d._trigger("resizeStart",b,h(c))},resize:function(a,b){d._trigger("resize",a,h(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),e.height=a(this).height(),e.width=a(this).width(),d._trigger("resizeStop",b,h(c)),a.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof 
b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e=this,f=e.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":e._createButtons(d);break;case"closeText":e.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":f.removeClass(e.options.dialogClass).addClass(c+d);break;case"disabled":d?f.addClass("ui-dialog-disabled"):f.removeClass("ui-dialog-disabled");break;case"draggable":var g=f.is(":data(draggable)");g&&!d&&f.draggable("destroy"),!g&&d&&e._makeDraggable();break;case"position":e._position(d);break;case"resizable":var h=f.is(":data(resizable)");h&&!d&&f.resizable("destroy"),h&&typeof d=="string"&&f.resizable("option","handles",d),!h&&d!==!1&&e._makeResizable(d);break;case"title":a(".ui-dialog-title",e.uiDialogTitlebar).html(""+(d||"&#160;"))}a.Widget.prototype._setOption.apply(e,arguments)},_size:function(){var b=this.options,c,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),b.minWidth>b.width&&(b.width=b.minWidth),c=this.uiDialog.css({height:"auto",width:b.width}).height(),d=Math.max(0,b.minHeight-c);if(b.height==="auto")if(a.support.minHeight)this.element.css({minHeight:d,height:"auto"});else{this.uiDialog.show();var f=this.element.css("height","auto").height();e||this.uiDialog.hide(),this.element.height(Math.max(f,d))}else this.element.height(Math.max(b.height-c,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.13",uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<c?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<c?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=d.values&&d.values.length||1,h=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(d.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),d.range&&(d.range===!0&&(d.values||(d.values=[this._valueMin(),this._valueMin()]),d.values.length&&d.values.length!==2&&(d.values=[d.values[0],d.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(d.range==="min"||d.range==="max"?" ui-slider-range-"+d.range:"")));for(var i=e.length;i<g;i+=1)h.push(f);this.handles=e.add(a(h.join("")).appendTo(b.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){d.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){d.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)}),this.handles.keydown(function(d){var e=!0,f=a(this).data("index.ui-slider-handle"),g,h,i,j;if(b.options.disabled)return;switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:e=!1;if(!b._keySliding){b._keySliding=!0,a(this).addClass("ui-state-active"),g=b._start(d,f);if(g===!1)return}}j=b.options.step,b.options.values&&b.options.values.length?h=i=b.values(f):h=i=b.value();switch(d.keyCode){case a.ui.keyCode.HOME:i=b._valueMin();break;case a.ui.keyCode.END:i=b._valueMax();break;case a.ui.keyCode.PAGE_UP:i=b._trimAlignValue(h+(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:i=b._trimAlignValue(h-(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(h===b._valueMax())return;i=b._trimAlignValue(h+j);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(h===b._valueMin())return;i=b._trimAlignValue(h-j)}return b._slide(d,f,i),e}).keyup(function(c){var d=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,d),b._change(c,d),a(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options,d,e,f,g,h,i,j,k,l;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),d={x:b.pageX,y:b.pageY},e=this._normValueFromMouse(d),f=this._valueMax()-this._valueMin()+1,h=this,this.handles.each(function(b){var c=Math.abs(e-h.values(b));f>c&&(f=c,g=a(this),i=b)}),c.range===!0&&this.values(1)===c.min&&(i+=1,g=a(this.handles[i])),j=this._start(b,i),j===!1?!1:(this._mouseSliding=!0,h._handleIndex=i,g.addClass("ui-state-active").focus(),k=g.offset(),l=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:b.pageX-k.left-g.width()/2,top:b.pageY-k.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,i,e),this._animateOff=!0,!0))},_mouseStart:function(a){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return this.orientation==="horizontal"?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),this.orientation==="vertical"&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),this.options.values.length===2&&this.options.range===!0&&(b===0&&c>d||b===1&&c<d)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){if(arguments.length){this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(b,c){var d,e,f;if(arguments.length>1){this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);return}if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();d=this.options.values,e=arguments[0];for(f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.attr("disabled","disabled"),this.element.addClass("ui-disabled")):(this.handles.removeAttr("disabled"),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(d=0;d<e;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),a},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b),b;c=this.options.values.slice();for(d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b;return alignValue=a-c,Math.abs(c)*2>=b&&(alignValue+=c>0?b:-b),parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,d=this,e=this._animateOff?!1:c.animate,f,g={},h,i,j,k;this.options.values&&this.options.values.length?this.handles.each(function(b,i){f=(d.values(b)-d._valueMin())/(d._valueMax()-d._valueMin())*100,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",a(this).stop(1,1)[e?"animate":"css"](g,c.animate),d.options.range===!0&&(d.orientation==="horizontal"?(b===0&&d.range.stop(1,1)[e?"animate":"css"]({left:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({width:f-h+"%"},{queue:!1,duration:c.animate})):(b===0&&d.range.stop(1,1)[e?"animate":"css"]({bottom:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({height:f-h+"%"},{queue:!1,duration:c.animate}))),h=f}):(i=this.value(),j=this._valueMin(),k=this._valueMax(),f=k!==j?(i-j)/(k-j)*100:0,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",this.handle.stop(1,1)[e?"animate":"css"](g,c.animate),b==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[e?"animate":"css"]({width:f+"%"},c.animate),b==="max"&&this.orientation==="horizontal"&&this.range[e?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:c.animate}),b==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[e?"animate":"css"]({height:f+"%"},c.animate),b==="max"&&this.orientation==="vertical"&&this.range[e?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:c.animate}))}}),a.extend(a.ui.slider,{version:"1.8.13"})}(jQuery),function(a,b){function e(){return++c}function f(){return++d}var c=0,d=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){if(a=="selected"){if(this.options.collapsible&&b==this.options.selected)return;this.select(b)}else this.options[a]=b,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+e()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+f());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function m(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var d=this,e=this.options,f=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var g=a(c).attr("href"),h=g.split("#")[0],i;h&&(h===location.toString().split("#")[0]||(i=a("base")[0])&&h===i.href)&&(g=c.hash,c.href=g);if(f.test(g))d.panels=d.panels.add(d.element.find(d._sanitizeSelector(g)));else if(g&&g!=="#"){a.data(c,"href.tabs",g),a.data(c,"load.tabs",g.replace(/#.*$/,""));var j=d._tabId(c);c.href="#"+j;var k=d.element.find("#"+j);k.length||(k=a(e.panelTemplate).attr("id",j).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(d.panels[b-1]||d.list),k.data("destroy.tabs",!0)),d.panels=d.panels.add(k)}else e.disabled.push(b)}),c?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),e.selected===b?(location.hash&&this.anchors.each(function(a,b){if(b.hash==location.hash)return e.selected=a,!1}),typeof e.selected!="number"&&e.cookie&&(e.selected=parseInt(d._cookie(),10)),typeof e.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),e.selected=e.selected||(this.lis.length?0:-1)):e.selected===null&&(e.selected=-1),e.selected=e.selected>=0&&this.anchors[e.selected]||e.selected<0?e.selected:0,e.disabled=a.unique(e.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a,b){return d.lis.index(a)}))).sort(),a.inArray(e.selected,e.disabled)!=-1&&e.disabled.splice(a.inArray(e.selected,e.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),e.selected>=0&&this.anchors.length&&(d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(e.selected).addClass("ui-tabs-selected ui-state-active"),d.element.queue("tabs",function(){d._trigger("show",null,d._ui(d.anchors[e.selected],d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash))[0]))}),this.load(e.selected)),a(window).bind("unload",function(){d.lis.add(d.anchors).unbind(".tabs"),d.lis=d.anchors=d.panels=null})):e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[e.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),e.cookie&&this._cookie(e.selected,e.cookie);for(var g=0,h;h=this.lis[g];g++)a(h)[a.inArray(g,e.disabled)!=-1&&!a(h).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");e.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(e.event!=="mouseover"){var i=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)},j=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){i("hover",a(this))}),this.lis.bind("mouseout.tabs",function(){j("hover",a(this))}),this.anchors.bind("focus.tabs",function(){i("focus",a(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){j("focus",a(this).closest("li"))})}var k,l;e.fx&&(a.isArray(e.fx)?(k=e.fx[0],l=e.fx[1]):k=l=e.fx);var n=l?function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.hide().removeClass("ui-tabs-hide").animate(l,l.duration||"normal",function(){m(c,l),d._trigger("show",null,d._ui(b,c[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),d._trigger("show",null,d._ui(b,c[0]))},o=k?function(a,b){b.animate(k,k.duration||"normal",function(){d.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),m(b,k),d.element.dequeue("tabs")})}:function(a,b,c){d.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),d.element.dequeue("tabs")};this.anchors.bind(e.event+".tabs",function(){var b=this,c=a(b).closest("li"),f=d.panels.filter(":not(.ui-tabs-hide)"),g=d.element.find(d._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!e.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||d.panels.filter(":animated").length||d._trigger("select",null,d._ui(this,g[0]))===!1)return this.blur(),!1;e.selected=d.anchors.index(this),d.abort();if(e.collapsible){if(c.hasClass("ui-tabs-selected"))return e.selected=-1,e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){o(b,f)}).dequeue("tabs"),this.blur(),!1;if(!f.length)return e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){n(b,g)}),d.load(d.anchors.index(this)),this.blur(),!1}e.cookie&&d._cookie(e.selected,e.cookie);if(!g.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";f.length&&d.element.queue("tabs",function(){o(b,f)}),d.element.queue("tabs",function(){n(b,g)}),d.load(d.anchors.index(this)),a.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$="+a+"]"))),a},destroy:function(){var b=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),b.cookie&&this._cookie(null,b.cookie),this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options,h=a(g.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),i=c.indexOf("#")?this._tabId(a("a",h)[0]):c.replace("#","");h.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var j=f.element.find("#"+i);return j.length||(j=a(g.panelTemplate).attr("id",i).data("destroy.tabs",!0)),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(h.appendTo(this.list),j.appendTo(this.list[0].parentNode)):(h.insertBefore(this.lis[e]),j.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a,b){return a>=e?++a:a}),this._tabify(),this.anchors.length==1&&(g.selected=0,h.addClass("ui-tabs-selected ui-state-active"),j.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();return d.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a,c){return a!=b}),function(a,c){return a>=b?--a:a}),this._tabify(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this},enable:function(b){b=this._getIndex(b);var c=this.options;if(a.inArray(b,c.disabled)==-1)return;return this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,function(a,c){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b])),this},disable:function(a){a=this._getIndex(a);var b=this,c=this.options;return a!=c.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),c.disabled.push(a),c.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a]))),this},select:function(a){a=this._getIndex(a);if(a==-1){if(!this.options.collapsible||this.options.selected==-1)return this;a=this.options.selected}return this.anchors.eq(a).trigger(this.options.event+".tabs"),this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,"load.tabs");this.abort();if(!f||this.element.queue("tabs").length!==0&&a.data(e,"cache.tabs")){this.element.dequeue("tabs");return}this.lis.eq(b).addClass("ui-state-processing");if(d.spinner){var g=a("span",e);g.data("label.tabs",g.html()).html(d.spinner)}return this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,"cache.tabs",!0),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f,g){c._cleanup(),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(a,b){return this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b),this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.13"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()}),f=c._unrotate||(c._unrotate=b?function(a){t=d.selected,e()}:function(a){a.clientX&&c.rotate(null)});return a?(this.element.bind("tabsshow",e),this.anchors.bind(d.event+".tabs",f),e()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(d.event+".tabs",f),delete this._rotate,delete this._unrotate),this}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.delegate(b,"mouseout",function(){$(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(b,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(a,b){$.extend(a,b);for(var c in b)if(b[c]==null||b[c]==undefined)a[c]=b[c];return a}function isArray(a){return a&&($.browser.safari&&typeof a=="object"&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.13"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]);if(c.hasClass(this.markerClassName))return;this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b)},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");(e=="focus"||e=="both")&&a.focus(this._showDatepicker);if(e=="button"||e=="both"){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(g==""?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){var b=0,c=0;for(var d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);if(c.hasClass(this.markerClassName))return;c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.dpDiv.show()},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=
c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(d=="div"||d=="span")&&b.removeClass(this.markerClassName).empty()},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName))return;var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?$.extend({},$.datepicker._defaults):d?b=="all"?$.extend({},d.settings):this._get(d,b):null;var e=b||{};typeof b=="string"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if($.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);return e[0]?$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]):$.datepicker._hideDatepicker(),!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<" "||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(a){$.datepicker.log(a)}return!0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=$("input",a.parentNode)[0]);if($.datepicker._isDisabledDatepicker(a)||$.datepicker._lastInput==a)return;var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&$.datepicker._curInst.dpDiv.stop(!0,!0);var c=$.datepicker._get(b,"beforeShow");extendRemove(b.settings,c?c.apply(a,[a,b]):{}),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var d=!1;$(a).parents().each(function(){return d|=$(this).css("position")=="fixed",!d}),d&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var e={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),e=$.datepicker._checkOffset(b,e,d),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":d?"fixed":"absolute",display:"none",left:e.left+"px",top:e.top+"px"});if(!b.inline){var f=$.datepicker._get(b,"showAnim"),g=$.datepicker._get(b,"duration"),h=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[f]?b.dpDiv.show(f,$.datepicker._get(b,"showOptions"),g,h):b.dpDiv[f||"show"](f?g:null,h),(!f||!g)&&h(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}},_updateDatepicker:function(a){var b=this,c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a));var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(e[0]!=1||e[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+$(document).scrollLeft(),i=document.documentElement.clientHeight+$(document).scrollTop();return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){var b=this._getInst(a),c=this._get(b,"isRTL");while(a&&(a.type=="hidden"||a.nodeType!=1||$.expr.filters.hidden(a)))a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!b||a&&b!=$.data(a,PROP_NAME))return;if(this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=function(){$.datepicker._tidyDialog(b),this._curInst=null};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,e):b.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?"fadeOut":"hide"](c?d:null,e),c||e();var f=this._get(b,"onClose");f&&f.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._datepickerShowing=!1,this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(!$.datepicker._curInst)return;var b=$(a.target);b[0].id!=$.datepicker._mainDivId&&b.parents("#"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.hasClass($.datepicker._triggerClass)&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)&&$.datepicker._hideDatepicker()},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);if(this._isDisabledDatepicker(d[0]))return;this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e)},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e._selectingMonthYear=!1,e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_clickMonthYear:function(a){var b=$(a),c=this._getInst(b[0]);c.input&&c._selectingMonthYear&&setTimeout(function(){c.input.focus()},0),c._selectingMonthYear=!c._selectingMonthYear},_selectDay:function(a,b,c,d){var e=$(a);if($(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0]))return;var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],typeof d.input[0]!="object"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!="string"?d:(new Date).getFullYear()%100+parseInt(d,10);var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;return c&&s++,c},o=function(a){var c=n(a),d=a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;return r+=f[0].length,parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;$.each(e,function(a,c){var d=c[1];if(b.substr(r,d.length).toLowerCase()==d.toLowerCase())return f=c[0],r+=d.length,!1});if(f!=-1)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0;for(var s=0;s<a.length;s++)if(m)a.charAt(s)=="'"&&!n("'")?m=!1:q();else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d?0:-100));if(l>-1){j=1,k=l;do{var u=this._getDaysInMonth(i,j-1);if(k<=u)break;j++,k-=u}while(!0)}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;return c&&m++,c},i=function(a,b,c){var d=""+b;if(h(a))while(d.length<c)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)a.charAt(m)=="'"&&!h("'")?l=!1:k+=a.charAt(m);else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",(b.getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864e5,3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=b.getTime()*1e4+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c};for(var e=0;e<a.length;e++)if(c)a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()==a.lastVal)return;var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);while(i){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=parseInt(i[1],10)*7;break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=b==null||b===""?c:typeof b=="string"?e(b):typeof b=="number"?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&f.toString()=="Invalid Date"?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=g[0]!=1||g[1]!=1,k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));p=l&&p<l?l:p;while(this._daylightSavingAdjust(new Date(o,n,1))>p)n--,n<0&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', -"+i+", 'M');\""+' title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', +"+i+", 'M');\""+' title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+a.id+"');\""+">"+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=this._get(a,"dayNamesShort"),C=this._get(a,"dayNamesMin"),D=this._get(a,"monthNames"),E=this._get(a,"monthNamesShort"),F=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths"),I=this._get(a,"calculateWeek")||this.iso8601Week,J=this._getDefaultDate(a),K="";for(var L=0;L<g[0];L++){var M="";for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=" ui-corner-all",Q="";if(j){Q+='<div class="ui-datepicker-group';if(g[1]>1)switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&L==0?c?t:r:"")+(/all|right/.test(P)&&L==0?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(var S=0;S<7;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=j?6:Math.ceil((V+U)/7),X=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Y=0;Y<W;Y++){Q+="<tr>";var Z=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(X)+"</td>":"";for(var S=0;S<7;S++){var _=F?F.apply(a.input?a.input[0]:null,[X]):[!0,""],ba=X.getMonth()!=n,bb=ba&&!H||!_[0]||l&&X<l||m&&X>m;Z+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":"")+(ba?" ui-datepicker-other-month":"")+(X.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==X.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(bb?" "+this._unselectableClass+" ui-state-disabled":"")+(ba&&!G?"":" "+_[1]+(X.getTime()==k.getTime()?" "+this._currentClass:"")+(X.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!ba||G)&&_[2]?' title="'+_[2]+'"':"")+(bb?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+a.id+"',"+X.getMonth()+","+X.getFullYear()+', this);return false;"')+">"+(ba&&!G?"&#xa0;":bb?'<span class="ui-state-default">'+X.getDate()+"</span>":'<a class="ui-state-default'+(X.getTime()==b.getTime()?" ui-state-highlight":"")+(X.getTime()==k.getTime()?" ui-state-active":"")+(ba?" ui-priority-secondary":"")+'" href="#">'+X.getDate()+"</a>")+"</td>",X.setDate(X.getDate()+1),X=this._daylightSavingAdjust(X)}Q+=Z+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),M+=Q}K+=M}return K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" "+'onclick="DP_jQuery_'+dpuuid+".datepicker._clickMonthYear('#"+a.id+"');\""+">";for(var p=0;p<12;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" "+'onclick="DP_jQuery_'+dpuuid+".datepicker._clickMonthYear('#"+a.id+"');\""+">";for(;t<=u;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}return l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>",l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return e=d&&e>d?d:e,e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b=="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!="isDisabled"&&a!="getDate"&&a!="widget"?a=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){typeof a=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.13",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(a,b){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){return a===b?this._value():(this._setOption("value",a),this)},_setOption:function(b,c){b==="value"&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;return typeof a!="number"&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}}),a.extend(a.ui.progressbar,{version:"1.8.13"})}(jQuery),jQuery.effects||function(a,b){function c(b){var c;return b&&b.constructor==Array&&b.length==3?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:(c=/rgba\(0, 0, 0, 0\)/.exec(b))?e.transparent:e[a.trim(b).toLowerCase()]}function d(b,d){var e;do{e=a.curCSS(b,d);if(e!=""&&e!="transparent"||a.nodeName(b,"body"))break;d="backgroundColor"}while(b=b.parentNode);return c(e)}function h(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]]){var e=a.length;while(e--)c=a[e],typeof a[c]=="string"&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c])}else for(c in a)typeof a[c]=="string"&&(b[c]=a[c]);return b}function i(b){var c,d;for(c in b)d=b[c],(d==null||a.isFunction(d)||c in g||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function j(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function k(b,c,d,e){typeof b=="object"&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={});if(typeof c=="number"||a.fx.speeds[c])e=d,d=c,c={};return a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:typeof d=="number"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete,[b,c,d,e]}function l(b){return!b||typeof b=="number"||a.fx.speeds[b]?!0:typeof b=="string"&&!a.effects[b]?!0:!1}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.
start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},f=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,e){return a.isFunction(d)&&(e=d,d=null),this.queue(function(){var g=a(this),k=g.attr("style")||" ",l=i(h.call(this)),m,n=g.attr("class");a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),m=i(h.call(this)),g.attr("class",n),g.animate(j(l,m),{queue:!1,duration:c,easding:d,complete:function(){a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),typeof g.attr("style")=="object"?(g.attr("style").cssText="",g.attr("style").cssText=k):g.attr("style",k),e&&e.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return typeof d=="boolean"||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.13",save:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){return b=="toggle"&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});return b.wrap(d),d=b.parent(),b.css("position")=="static"?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),d.css(c).show()},removeWrapper:function(a){return a.parent().is(".ui-effects-wrapper")?a.parent().replaceWith(a):a},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){unit=b.cssUnit(c),unit[0]>0&&(e[c]=unit[0]*d+unit[1])}),e}}),a.fn.extend({effect:function(b,c,d,e){var f=k.apply(this,arguments),g={options:f[1],duration:f[2],callback:f[3]},h=g.options.mode,i=a.effects[b];return a.fx.off||!i?h?this[h](g.duration,g.callback):this.each(function(){g.callback&&g.callback.call(this)}):i.call(this,g)},_show:a.fn.show,show:function(a){if(l(a))return this._show.apply(this,arguments);var b=k.apply(this,arguments);return b[1].mode="show",this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(l(a))return this._hide.apply(this,arguments);var b=k.apply(this,arguments);return b[1].mode="hide",this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(l(b)||typeof b=="boolean"||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=k.apply(this,arguments);return c[1].mode="toggle",this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),(c/=f/2)<1?e/2*c*c*(((g*=1.525)+1)*c-g)+d:e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){return c<f/2?a.easing.easeInBounce(b,c*2,0,e,f)*.5+d:a.easing.easeOutBounce(b,c*2-f,0,e,f)*.5+e*.5+d}})}(jQuery),function(a,b){a.effects.blind=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h=f=="vertical"?"height":"width",i=f=="vertical"?g.height():g.width();e=="show"&&g.css(h,0);var j={};j[h]=e=="show"?i:0,g.animate(j,b.duration,b.options.easing,function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"up",g=b.options.distance||20,h=b.options.times||5,i=b.duration||250;/show|hide/.test(e)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg",g=b.options.distance||(j=="top"?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/3);e=="show"&&c.css("opacity",0).css(j,k=="pos"?-g:g),e=="hide"&&(g/=h*2),e!="hide"&&h--;if(e=="show"){var l={opacity:1};l[j]=(k=="pos"?"+=":"-=")+g,c.animate(l,i/2,b.options.easing),g/=2,h--}for(var m=0;m<h;m++){var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing),g=e=="hide"?g*2:g/2}if(e=="hide"){var l={opacity:0};l[j]=(k=="pos"?"-=":"+=")+g,c.animate(l,i/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}else{var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a,b){a.effects.clip=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","height","width"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h=c[0].tagName=="IMG"?g:c,i={size:f=="vertical"?"height":"width",position:f=="vertical"?"top":"left"},j=f=="vertical"?h.height():h.width();e=="show"&&(h.css(i.size,0),h.css(i.position,j/2));var k={};k[i.size]=e=="show"?j:0,k[i.position]=e=="show"?0:j/2,h.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.drop=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","opacity"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var g=f=="up"||f=="down"?"top":"left",h=f=="up"||f=="left"?"pos":"neg",i=b.options.distance||(g=="top"?c.outerHeight({margin:!0})/2:c.outerWidth({margin:!0})/2);e=="show"&&c.css("opacity",0).css(g,h=="pos"?-i:i);var j={opacity:e=="show"?1:0};j[g]=(e=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode=b.options.mode=="toggle"?a(this).is(":visible")?"hide":"show":b.options.mode;var e=a(this).show().css("visibility","hidden"),f=e.offset();f.top-=parseInt(e.css("marginTop"),10)||0,f.left-=parseInt(e.css("marginLeft"),10)||0;var g=e.outerWidth(!0),h=e.outerHeight(!0);for(var i=0;i<c;i++)for(var j=0;j<d;j++)e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*(g/d),top:-i*(h/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/d,height:h/c,left:f.left+j*(g/d)+(b.options.mode=="show"?(j-Math.floor(d/2))*(g/d):0),top:f.top+i*(h/c)+(b.options.mode=="show"?(i-Math.floor(c/2))*(h/c):0),opacity:b.options.mode=="show"?0:1}).animate({left:f.left+j*(g/d)+(b.options.mode=="show"?0:(j-Math.floor(d/2))*(g/d)),top:f.top+i*(h/c)+(b.options.mode=="show"?0:(i-Math.floor(c/2))*(h/c)),opacity:b.options.mode=="show"?1:0},b.duration||500);setTimeout(function(){b.options.mode=="show"?e.css({visibility:"visible"}):e.css({visibility:"visible"}).hide(),b.callback&&b.callback.apply(e[0]),e.dequeue(),a("div.ui-effects-explode").remove()},b.duration||500)})}}(jQuery),function(a,b){a.effects.fade=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide");c.animate({opacity:d},{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.fold=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.size||15,g=!!b.options.horizFirst,h=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(c,d),c.show();var i=a.effects.createWrapper(c).css({overflow:"hidden"}),j=e=="show"!=g,k=j?["width","height"]:["height","width"],l=j?[i.width(),i.height()]:[i.height(),i.width()],m=/([0-9]+)%/.exec(f);m&&(f=parseInt(m[1],10)/100*l[e=="hide"?0:1]),e=="show"&&i.css(g?{height:0,width:f}:{height:f,width:0});var n={},p={};n[k[0]]=e=="show"?l[0]:f,p[k[1]]=e=="show"?l[1]:0,i.animate(n,h,b.options.easing).animate(p,h,b.options.easing,function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a,b){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),d=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(c,b.options.mode||"show"),f={backgroundColor:c.css("backgroundColor")};e=="hide"&&(f.opacity=0),a.effects.save(c,d),c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(f,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),e=="show"&&!a.support.opacity&&this.style.removeAttribute("filter"),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"show");times=(b.options.times||5)*2-1,duration=b.duration?b.duration/2:a.fx.speeds._default/2,isVisible=c.is(":visible"),animateTo=0,isVisible||(c.css("opacity",0).show(),animateTo=1),(d=="hide"&&isVisible||d=="show"&&!isVisible)&&times--;for(var e=0;e<times;e++)c.animate({opacity:animateTo},duration,b.options.easing),animateTo=(animateTo+1)%2;c.animate({opacity:animateTo},duration,b.options.easing,function(){animateTo==0&&c.hide(),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}).dequeue()})}}(jQuery),function(a,b){a.effects.puff=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide"),e=parseInt(b.options.percent,10)||150,f=e/100,g={height:c.height(),width:c.width()};a.extend(b.options,{fade:!0,mode:d,percent:d=="hide"?e:100,from:d=="hide"?g:{height:g.height*f,width:g.width*f}}),c.effect("scale",b.options,b.duration,b.callback),c.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var c=a(this),d=a.extend(!0,{},b.options),e=a.effects.setMode(c,b.options.mode||"effect"),f=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:e=="hide"?0:100),g=b.options.direction||"both",h=b.options.origin;e!="effect"&&(d.origin=h||["middle","center"],d.restore=!0);var i={height:c.height(),width:c.width()};c.from=b.options.from||(e=="show"?{height:0,width:0}:i);var j={y:g!="horizontal"?f/100:1,x:g!="vertical"?f/100:1};c.to={height:i.height*j.y,width:i.width*j.x},b.options.fade&&(e=="show"&&(c.from.opacity=0,c.to.opacity=1),e=="hide"&&(c.from.opacity=1,c.to.opacity=0)),d.from=c.from,d.to=c.to,d.mode=e,c.effect("size",d,b.duration,b.callback),c.dequeue()})},a.effects.size=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","width","height","overflow","opacity"],e=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],g=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],j=a.effects.setMode(c,b.options.mode||"effect"),k=b.options.restore||!1,l=b.options.scale||"both",m=b.options.origin,n={height:c.height(),width:c.width()};c.from=b.options.from||n,c.to=b.options.to||n;if(m){var p=a.effects.getBaseline(m,n);c.from.top=(n.height-c.from.height)*p.y,c.from.left=(n.width-c.from.width)*p.x,c.to.top=(n.height-c.to.height)*p.y,c.to.left=(n.width-c.to.width)*p.x}var q={from:{y:c.from.height/n.height,x:c.from.width/n.width},to:{y:c.to.height/n.height,x:c.to.width/n.width}};if(l=="box"||l=="both")q.from.y!=q.to.y&&(d=d.concat(h),c.from=a.effects.setTransition(c,h,q.from.y,c.from),c.to=a.effects.setTransition(c,h,q.to.y,c.to)),q.from.x!=q.to.x&&(d=d.concat(i),c.from=a.effects.setTransition(c,i,q.from.x,c.from),c.to=a.effects.setTransition(c,i,q.to.x,c.to));(l=="content"||l=="both")&&q.from.y!=q.to.y&&(d=d.concat(g),c.from=a.effects.setTransition(c,g,q.from.y,c.from),c.to=a.effects.setTransition(c,g,q.to.y,c.to)),a.effects.save(c,k?d:e),c.show(),a.effects.createWrapper(c),c.css("overflow","hidden").css(c.from);if(l=="content"||l=="both")h=h.concat(["marginTop","marginBottom"]).concat(g),i=i.concat(["marginLeft","marginRight"]),f=d.concat(h).concat(i),c.find("*[width]").each(function(){child=a(this),k&&a.effects.save(child,f);var c={height:child.height(),width:child.width()};child.from={height:c.height*q.from.y,width:c.width*q.from.x},child.to={height:c.height*q.to.y,width:c.width*q.to.x},q.from.y!=q.to.y&&(child.from=a.effects.setTransition(child,h,q.from.y,child.from),child.to=a.effects.setTransition(child,h,q.to.y,child.to)),q.from.x!=q.to.x&&(child.from=a.effects.setTransition(child,i,q.from.x,child.from),child.to=a.effects.setTransition(child,i,q.to.x,child.to)),child.css(child.from),child.animate(child.to,b.duration,b.options.easing,function(){k&&a.effects.restore(child,f)})});c.animate(c.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){c.to.opacity===0&&c.css("opacity",c.from.opacity),j=="hide"&&c.hide(),a.effects.restore(c,k?d:e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.shake=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"left",g=b.options.distance||20,h=b.options.times||3,i=b.duration||b.options.duration||140;a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg",l={},m={},n={};l[j]=(k=="pos"?"-=":"+=")+g,m[j]=(k=="pos"?"+=":"-=")+g*2,n[j]=(k=="pos"?"-=":"+=")+g*2,c.animate(l,i,b.options.easing);for(var p=1;p<h;p++)c.animate(m,i,b.options.easing).animate(n,i,b.options.easing);c.animate(m,i,b.options.easing).animate(l,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),function(a,b){a.effects.slide=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"show"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c).css({overflow:"hidden"});var g=f=="up"||f=="down"?"top":"left",h=f=="up"||f=="left"?"pos":"neg",i=b.options.distance||(g=="top"?c.outerHeight({margin:!0}):c.outerWidth({margin:!0}));e=="show"&&c.css(g,h=="pos"?isNaN(i)?"-"+i:-i:i);var j={};j[g]=(e=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),function(a,b){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),e=d.offset(),f={top:e.top,left:e.left,height:d.innerHeight(),width:d.innerWidth()},g=c.offset(),h=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:g.top,left:g.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(f,b.duration,b.options.easing,function(){h.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),function(a){function h(c,h){var j=c==window,l=h&&h.message!==undefined?h.message:undefined;h=a.extend({},a.blockUI.defaults,h||{}),h.overlayCSS=a.extend({},a.blockUI.defaults.overlayCSS,h.overlayCSS||{});var p=a.extend({},a.blockUI.defaults.css,h.css||{}),q=a.extend({},a.blockUI.defaults.themedCSS,h.themedCSS||{});l=l===undefined?h.message:l,j&&f&&i(window,{fadeOut:0});if(l&&typeof l!="string"&&(l.parentNode||l.jquery)){var r=l.jquery?l[0]:l,s={};a(c).data("blockUI.history",s),s.el=r,s.parent=r.parentNode,s.display=r.style.display,s.position=r.style.position,s.parent&&s.parent.removeChild(r)}a(c).data("blockUI.onUnblock",h.onUnblock);var t=h.baseZ,u=a.browser.msie||h.forceIframe?a('<iframe class="blockUI" style="z-index:'+t++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+h.iframeSrc+'"></iframe>'):a('<div class="blockUI" style="display:none"></div>'),v=h.theme?a('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+t++ +';display:none"></div>'):a('<div class="blockUI blockOverlay" style="z-index:'+t++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),w,x;h.theme&&j?x='<div class="blockUI '+h.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(t+10)+';display:none;position:fixed">'+'<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(h.title||"&nbsp;")+"</div>"+'<div class="ui-widget-content ui-dialog-content"></div>'+"</div>":h.theme?x='<div class="blockUI '+h.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(t+10)+';display:none;position:absolute">'+'<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(h.title||"&nbsp;")+"</div>"+'<div class="ui-widget-content ui-dialog-content"></div>'+"</div>":j?x='<div class="blockUI '+h.blockMsgClass+' blockPage" style="z-index:'+(t+10)+';display:none;position:fixed"></div>':x='<div class="blockUI '+h.blockMsgClass+' blockElement" style="z-index:'+(t+10)+';display:none;position:absolute"></div>',w=a(x),l&&(h.theme?(w.css(q),w.addClass("ui-widget-content")):w.css(p)),!h.theme&&(!h.applyPlatformOpacityRules||!a.browser.mozilla||!/Linux/.test(navigator.platform))&&v.css(h.overlayCSS),v.css("position",j?"fixed":"absolute"),(a.browser.msie||h.forceIframe)&&u.css("opacity",0);var y=[u,v,w],z=j?a("body"):a(c);a.each(y,function(){this.appendTo(z)}),h.theme&&h.draggable&&a.fn.draggable&&w.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var A=d&&(!a.boxModel||a("object,embed",j?null:c).length>0);if(e||A){j&&h.allowBodyStretch&&a.boxModel&&a("html,body").css("height","100%");if((e||!a.boxModel)&&!j)var B=o(c,"borderTopWidth"),C=o(c,"borderLeftWidth"),D=B?"(0 - "+B+")":0,E=C?"(0 - "+C+")":0;a.each([u,v,w],function(a,b){var c=b[0].style;c.position="absolute";if(a<2)j?c.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.boxModel?0:"+h.quirksmodeOffsetHack+') + "px"'):c.setExpression("height",'this.parentNode.offsetHeight + "px"'),j?c.setExpression("width",'jQuery.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):c.setExpression("width",'this.parentNode.offsetWidth + "px"'),E&&c.setExpression("left",E),D&&c.setExpression("top",D);else if(h.centerY)j&&c.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),c.marginTop=0;else if(!h.centerY&&j){var d=h.css&&h.css.top?parseInt(h.css.top):0,e="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+d+') + "px"';c.setExpression("top",e)}})}l&&(h.theme?w.find(".ui-widget-content").append(l):w.append(l),(l.jquery||l.nodeType)&&a(l).show()),(a.browser.msie||h.forceIframe)&&h.showOverlay&&u.show();if(h.fadeIn){var F=h.onBlock?h.onBlock:b,G=h.showOverlay&&!l?F:b,H=l?F:b;h.showOverlay&&v._fadeIn(h.fadeIn,G),l&&w._fadeIn(h.fadeIn,H)}else h.showOverlay&&v.show(),l&&w.show(),h.onBlock&&h.onBlock();k(1,c,h),j?(f=w[0],g=a(":input:enabled:visible",f),h.focusInput&&setTimeout(m,20)):n(w[0],h.centerX,h.centerY);if(h.timeout){var I=setTimeout(function(){j?a.unblockUI(h):a(c).unblock(h)},h.timeout);a(c).data("blockUI.timeout",I)}}function i(b,c){var d=b==window,e=a(b),h=e.data("blockUI.history"),i=e.data("blockUI.timeout");i&&(clearTimeout(i),e.removeData("blockUI.timeout")),c=a.extend({},a.blockUI.defaults,c||{}),k(0,b,c),c.onUnblock===null&&(c.onUnblock=e.data("blockUI.onUnblock"),e.removeData("blockUI.onUnblock"));var l;d?l=a("body").children().filter(".blockUI").add("body > .blockUI"):l=a(".blockUI",b),d&&(f=g=null),c.fadeOut?(l.fadeOut(c.fadeOut),setTimeout(function(){j(l,h,c,b)},c.fadeOut)):j(l,h,c,b)}function j(b,c,d,e){b.each(function(a,b){this.parentNode&&this.parentNode.removeChild(this)}),c&&c.el&&(c.el.style.display=c.display,c.el.style.position=c.position,c.parent&&c.parent.appendChild(c.el),a(e).removeData("blockUI.history")),typeof d.onUnblock=="function"&&d.onUnblock(e,d)}function k(b,c,d){var e=c==window,g=a(c);if(!b&&(e&&!f||!e&&!g.data("blockUI.isBlocked")))return;e||g.data("blockUI.isBlocked",b);if(!d.bindEvents||b&&!d.showOverlay)return;var h="mousedown mouseup keydown keypress";b?a(document).bind(h,d,l):a(document).unbind(h,l)}function l(b){if(b.keyCode&&b.keyCode==9&&f&&b.data.constrainTabKey){var c=g,d=!b.shiftKey&&b.target===c[c.length-1],e=b.shiftKey&&b.target===c[0];if(d||e)return setTimeout(function(){m(e)},10),!1}var h=b.data;return a(b.target).parents("div."+h.blockMsgClass).length>0?!0:a(b.target).parents().children().filter("div.blockUI").length==0}function m(a){if(!g)return;var b=g[a===!0?g.length-1:0];b&&b.focus()}function n(a,b,c){var d=a.parentNode,e=a.style,f=(d.offsetWidth-a.offsetWidth)/2-o(d,"borderLeftWidth"),g=(d.offsetHeight-a.offsetHeight)/2-o(d,"borderTopWidth");b&&(e.left=f>0?f+"px":"0"),c&&(e.top=g>0?g+"px":"0")}function o(b,c){return parseInt(a.css(b,c))||0}if(/1\.(0|1|2)\.(0|1|2)/.test(a.fn.jquery)||/^1.1/.test(a.fn.jquery)){alert("blockUI requires jQuery v1.2.3 or later!  You are using v"+a.fn.jquery);return}a.fn._fadeIn=a.fn.fadeIn;var b=function(){},c=document.documentMode||0,d=a.browser.msie&&(a.browser.version<8&&!c||c<8),e=a.browser.msie&&/MSIE 6.0/.test(navigator.userAgent)&&!c;a.blockUI=function(a){h(window,a)},a.unblockUI=function(a){i(window,a)},a.growlUI=function(b,c,d,e){var f=a('<div class="growlUI"></div>');b&&f.append("<h1>"+b+"</h1>"),c&&f.append("<h2>"+c+"</h2>"),d==undefined&&(d=3e3),a.blockUI({message:f,fadeIn:700,fadeOut:1e3,centerY:!1,timeout:d,showOverlay:!1,onUnblock:e,css:a.blockUI.defaults.growlCSS})},a.fn.block=function(b){return this.unblock({fadeOut:0}).each(function(){a.css(this,"position")=="static"&&(this.style.position="relative"),a.browser.msie&&(this.style.zoom=1),h(this,b)})},a.fn.unblock=function(a){return this.each(function(){i(this,a)})},a.blockUI.version=2.39,a.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,applyPlatformOpacityRules:!0,onBlock:null,onUnblock:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg"};var f=null,g=[]}(jQuery),function(a){a.fn.badger=function(a,b){var c=this.find("#Badger").html();if(!a)c&&this.find("#Badger").remove();else{var d=this.find("#Badge").text();a.charAt(0)=="+"?isNaN(a.substr(1))?a=d+a.substr(1):a=Math.round(Number(d)+Number(a.substr(1))):a.charAt(0)=="-"&&(isNaN(a.substr(1))?a=d-a.substr(1):a=Math.round(Number(d)-Number(a.substr(1)))),c?this.find("#Badge").html(a):this.append('<div class="badger-outter" id="Badger"><div class="badger-inner"><p class="badger-badge pie-element" id="Badge">'+a+"</p></div></div>"),isNaN(a)?this.find("#Badge").removeClass("badger-number").addClass("badger-text"):this.find("#Badge").removeClass("badger-text").addClass("badger-number"),b&&b(a)}}}(jQuery),function(a,b,c,d,e){var f=a("<div>")[0],g=/url\(["']?(.*?)["']?\)/,h=[],i={top:0,left:0,bottom:1,right:1,center:.5};if("backgroundSize"in f.style&&!a.debugBGS)return;a.cssHooks.backgroundSize={set:function(b,c){var d=!a.data(b,"bgsImg"),e,f,g;a.data(b,"bgsValue",c),d?(h.push(b),a.refreshBackgroundDimensions(b,!0),f=a("<div>").css({position:"absolute",zIndex:-1,top:0,right:0,left:0,bottom:0,overflow:"hidden"}),g=a("<img>").css({position:"absolute"}).appendTo(f),f.prependTo(b),a.data(b,"bgsImg",g[0]),e=(a.css(b,"backgroundPosition")||a.css(b,"backgroundPositionX")+" "+a.css(b,"backgroundPositionY")).split(" "),a.data(b,"bgsPos",[i[e[0]]||parseFloat(e[0])/100,i[e[1]]||parseFloat(e[1])/100]),a.css(b,"zIndex")=="auto"&&(b.style.zIndex=0),a.css(b,"position")=="static"&&(b.style.position="relative"),a.refreshBackgroundImage(b)):a.refreshBackground(b)},get:function(b){return a.data(b,"bgsValue")||""}},a.cssHooks.backgroundImage={set:function(b,c){return a.data(b,"bgsImg")?a.refreshBackgroundImage(b,c):c}},a.refreshBackgroundDimensions=function(b,c){var d=a(b),e={width:d.innerWidth(),height:d.innerHeight()},f=a.data(b,"bgsDim"),g=!f||e.width!=f.width||e.height!=f.height;a.data(b,"bgsDim",e),g&&!c&&a.refreshBackground(b)},a.refreshBackgroundImage=function(b,c){var d=a.data(b,"bgsImg"),e=(g.exec(c||a.css(b,"backgroundImage"))||[])[1],f=d&&d.src,h=e!=f,i,j;if(h){d.style.height=d.style.width="auto",d.onload=function(){var c={width:d.width,height:d.height};if(c.width==1&&c.height==1)return;a.data(b,"bgsImgDim",c),a.data(b,"bgsConstrain",!1),a.refreshBackground(b),d.style.visibility="visible",d.onload=null},d.style.visibility="hidden",d.src=e;if(d.readyState||d.complete)d.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",d.src=e;b.style.backgroundImage="none"}},a.refreshBackground=function(b){var c=a.data(b,"bgsValue"),e=a.data(b,"bgsDim"),f=a.data(b,"bgsImgDim"),g=a(a.data(b,"bgsImg")),h=a.data(b,"bgsPos"),i=a.data(b,"bgsConstrain"),j,k=e.width/e.height,l=f.width/f.height,m;c=="contain"?l>k?(a.data(b,"bgsConstrain",j="width"),m=d.floor((e.height-e.width/l)*h[1]),g.css({top:m}),j!=i&&g.css({width:"100%",height:"auto",left:0})):(a.data(b,"bgsConstrain",j="height"),m=d.floor((e.width-e.height*l)*h[0]),g.css({left:m}),j!=i&&g.css({height:"100%",width:"auto",top:0})):c=="cover"&&(l>k?(a.data(b,"bgsConstrain",j="height"),m=d.floor((e.height*l-e.width)*h[0]),g.css({left:-m}),j!=i&&g.css({height:"100%",width:"auto",top:0})):(a.data(b,"bgsConstrain",j="width"),m=d.floor((e.width/l-e.height)*h[1
]),g.css({top:-m}),j!=i&&g.css({width:"100%",height:"auto",left:0})))};var j=a.event,k,l={_:0},m=0,n,o;k=j.special.throttledresize={setup:function(){a(this).on("resize",k.handler)},teardown:function(){a(this).off("resize",k.handler)},handler:function(b,c){var d=this,e=arguments;n=!0,o||(a(l).animate(l,{duration:Infinity,step:function(){m++;if(m>k.threshold&&n||c)b.type="throttledresize",j.dispatch.apply(d,e),n=!1,m=0;m>9&&(a(l).stop(),o=!1,m=0)}}),o=!0)},threshold:1},a(b).on("throttledresize",function(){a(h).each(function(){a.refreshBackgroundDimensions(this)})})}(jQuery,window,document,Math),function(){function bq(a,b){var c;a||(a={});for(c in b)a[c]=b[c];return a}function br(a,b){return parseInt(a,b||10)}function bs(a){return typeof a=="string"}function bt(a){return typeof a=="object"}function bu(a){return Object.prototype.toString.call(a)==="[object Array]"}function bv(a){return typeof a=="number"}function bw(a){return c.log(a)/c.LN10}function bx(a){return c.pow(10,a)}function by(a,b){var c=a.length;while(c--)if(a[c]===b){a.splice(c,1);break}}function bz(a){return a!==F&&a!==null}function bA(a,b,c){var d,e="setAttribute",f;if(bs(b))bz(c)?a[e](b,c):a&&a.getAttribute&&(f=a.getAttribute(b));else if(bz(b)&&bt(b))for(d in b)a[e](d,b[d]);return f}function bB(a){return bu(a)?a:[a]}function bC(){var a=arguments,b,c,d=a.length;for(b=0;b<d;b++){c=a[b];if(typeof c!="undefined"&&c!==null)return c}}function bD(a,b){o&&b&&b.opacity!==F&&(b.filter="alpha(opacity="+b.opacity*100+")"),bq(a.style,b)}function bE(b,c,d,e,f){var g=a.createElement(b);return c&&bq(g,c),f&&bD(g,{padding:0,border:N,margin:0}),d&&bD(g,d),e&&e.appendChild(g),g}function bF(a,b){var c=function(){};return c.prototype=new a,bq(c.prototype,b),c}function bG(a,b,c,d){var e=B.lang,f=a,g=isNaN(b=i(b))?2:b,h=c===undefined?e.decimalPoint:c,j=d===undefined?e.thousandsSep:d,k=f<0?"-":"",l=String(br(f=i(+f||0).toFixed(g))),m=l.length>3?l.length%3:0;return k+(m?l.substr(0,m)+j:"")+l.substr(m).replace(/(\d{3})(?=\d)/g,"$1"+j)+(g?h+i(f-l).toFixed(g).slice(2):"")}function bH(b){var c={left:b.offsetLeft,top:b.offsetTop};b=b.offsetParent;while(b)c.left+=b.offsetLeft,c.top+=b.offsetTop,b!==a.body&&b!==a.documentElement&&(c.left-=b.scrollLeft,c.top-=b.scrollTop),b=b.offsetParent;return c}function bI(){this.color=0,this.symbol=0}function bJ(a,b,c,d,e,f,g){var h=g.x,i=g.y,j=h-a+c-25,k=i-b+d+10,l;return j<7&&(j=c+h+15),j+a>c+e&&(j-=j+a-(c+e),k-=b,l=!0),k<5?(k=5,l&&i>=k&&i<=k+b&&(k=i+b-5)):k+b>d+f&&(k=d+f-b-5),{x:j,y:k}}function bK(a,b){var c=a.length,d;for(d=0;d<c;d++)a[d].ss_i=d;a.sort(function(a,c){var d=b(a,c);return d===0?a.ss_i-c.ss_i:d});for(d=0;d<c;d++)delete a[d].ss_i}function bL(a){var b;for(b in a)a[b]&&a[b].destroy&&a[b].destroy(),delete a[b]}function bM(a,b){D=bC(a,b.animation)}function bQ(){var a=B.global.useUTC;U=a?Date.UTC:function(a,b,c,d,e,f){return(new Date(a,b,bC(c,1),bC(d,0),bC(e,0),bC(f,0))).getTime()},V=a?"getUTCMinutes":"getMinutes",W=a?"getUTCHours":"getHours",X=a?"getUTCDay":"getDay",Y=a?"getUTCDate":"getDate",Z=a?"getUTCMonth":"getMonth",$=a?"getUTCFullYear":"getFullYear",_=a?"setUTCMinutes":"setMinutes",ba=a?"setUTCHours":"setHours",bb=a?"setUTCDate":"setDate",bc=a?"setUTCMonth":"setMonth",bd=a?"setUTCFullYear":"setFullYear"}function bR(a){return B=bj(B,a),bQ(),B}function bS(){return B}function bT(a){A||(A=bE(G)),a&&A.appendChild(a),A.innerHTML=""}function cc(){}function cg(j,k){function cU(a){function ch(a,b){var c=this;c.pos=a,c.minor=b,c.isNew=!0,b||c.addLabel()}function ci(a){var b=this;return a&&(b.options=a,b.id=a.id),b}function cj(a,b,c,d){var e=this;e.isNegative=b,e.options=a,e.x=c,e.stack=d,e.alignOptions={align:a.align||(cI?b?"left":"right":"center"),verticalAlign:a.verticalAlign||(cI?"middle":b?"bottom":"top"),y:bC(a.y,cI?4:b?14:-6),x:bC(a.x,cI?b?-6:6:0)},e.textAlign=a.textAlign||(cI?b?"right":"left":"center")}function cl(){var a=[],c=[],d;K=N=null,Q=[],bg(cH,function(e){d=!1,bg(["xAxis","yAxis"],function(a){e.isCartesian&&(a==="xAxis"&&b||a==="yAxis"&&!b)&&(e.options[a]===o.index||e.options[a]===F&&o.index===0)&&(e[a]=p,Q.push(e),d=!0)}),!e.visible&&l.ignoreHiddenSeries&&(d=!1);if(d){var f,g,h,i,j,k;b||(f=e.options.stacking,bt=f==="percent",f&&(j=e.options.stack,i=e.type+bC(j,""),k="-"+i,e.stackKey=i,g=a[i]||[],a[i]=g,h=c[k]||[],c[k]=h),bt&&(K=0,N=99));if(e.isCartesian){bg(e.data,function(a){var c=a.x,d=a.y,e=d<0,l=e?h:g,m=e?k:i,p,q;K===null&&(K=N=a[v]),b?c>N?N=c:c<K&&(K=c):bz(d)&&(f&&(l[c]=bz(l[c])?l[c]+d:d),p=l?l[c]:d,q=bC(a.low,p),bt||(p>N?N=p:q<K&&(K=q)),f&&(n[m]||(n[m]={}),n[m][c]||(n[m][c]=new cj(o.stackLabels,e,c,j)),n[m][c].setTotal(p)))});if(/(area|column|bar)/.test(e.type)&&!b){var m=0;K>=m?(K=m,bp=!0):N<m&&(N=m,bs=!0)}}}})}function cm(a,b){var d,f;bH=b?1:c.pow(10,e(c.log(a)/c.LN10)),d=a/bH;if(!b){b=[1,2,2.5,5,10];if(o.allowDecimals===!1||t)bH===1?b=[1,2,5,10]:bH<=.1&&(b=[1/bH])}for(f=0;f<b.length;f++){a=b[f];if(d<=(b[f]+(b[f+1]||b[f]))/2)break}return a*=bH,a}function cn(){bI=[];var a,b=B.global.useUTC,c=1e3/z,d=6e4/z,f=36e5/z,g=864e5/z,h=6048e5/z,i=2592e6/z,j=31556952e3/z,k=[["second",c,[1,2,5,10,15,30]],["minute",d,[1,2,5,10,15,30]],["hour",f,[1,2,3,4,6,8,12]],["day",g,[1,2]],["week",h,[1,2]],["month",i,[1,2,3,4,6]],["year",j,null]],l=k[6],m=l[1],n=l[2];for(a=0;a<k.length;a++){l=k[a],m=l[1],n=l[2];if(k[a+1]){var p=(m*n[n.length-1]+k[a+1][1])/2;if(bD<=p)break}}m===j&&bD<5*m&&(n=[1,2,5]);var q=cm(bD/m,n),r,s=new Date(be*z);s.setMilliseconds(0),m>=c&&s.setSeconds(m>=d?0:q*e(s.getSeconds()/q)),m>=d&&s[_](m>=f?0:q*e(s[V]()/q)),m>=f&&s[ba](m>=g?0:q*e(s[W]()/q)),m>=g&&s[bb](m>=i?1:q*e(s[Y]()/q)),m>=i&&(s[bc](m>=j?0:q*e(s[Z]()/q)),r=s[$]()),m>=j&&(r-=r%q,s[bd](r)),m===h&&s[bb](s[Y]()-s[X]()+o.startOfWeek),a=1,r=s[$]();var t=s.getTime()/z,u=s[Z](),v=s[Y]();while(t<T&&a<cv)bI.push(t),m===j?t=U(r+a*q,0)/z:m===i?t=U(r,u+a*q)/z:!!b||m!==g&&m!==h?t+=m*q:t=U(r,u,v+a*q*(m===g?1:7)),a++;bI.push(t),bT=o.dateTimeLabelFormats[l[0]]}function co(a){var b,f=a;return bH=bC(bH,c.pow(10,e(c.log(bD)/c.LN10))),bH<1&&(b=d(1/bH)*10,f=d(a*b)/b),f}function cp(){var a,b=co(e(be/bD)*bD),c=co(f(T/bD)*bD);bI=[],a=co(b);while(a<=c)bI.push(a),a=co(a+bD)}function cq(){var a,c,d,e,f=o.tickInterval,i=o.tickPixelInterval,j=o.maxZoom||(b&&!bz(o.min)&&!bz(o.max)?h(ck.smallestInterval*5,N-K):null),l;w=k?cv:cu,bo?(d=ck[b?"xAxis":"yAxis"][o.linkedTo],e=d.getExtremes(),be=bC(e.min,e.dataMin),T=bC(e.max,e.dataMax)):(be=bC(R,o.min,K),T=bC(S,o.max,N)),t&&(be=bw(be),T=bw(T)),T-be<j&&(l=(j-T+be)/2,be=g(be-l,bC(o.min,be-l),K),T=h(be+j,bC(o.max,be+j),N)),!bU&&!bt&&!bo&&bz(be)&&bz(T)&&(a=T-be||1,!bz(o.min)&&!bz(R)&&bi&&(K<0||!bp)&&(be-=a*bi),!bz(o.max)&&!bz(S)&&bn&&(N>0||!bs)&&(T+=a*bn)),be===T?bD=1:bo&&!f&&i===d.options.tickPixelInterval?bD=d.tickInterval:bD=bC(f,bU?1:(T-be)*i/w),!s&&!bz(o.tickInterval)&&(bD=cm(bD)),p.tickInterval=bD,bE=o.minorTickInterval==="auto"&&bD?bD/5:o.minorTickInterval,s?cn():cp();if(!bo){if(bU||b&&ck.hasColumn){c=(bU?1:bD)*.5;if(bU||!bz(bC(o.min,R)))be-=c;if(bU||!bz(bC(o.max,S)))T+=c}var m=bI[0],n=bI[bI.length-1];o.startOnTick?be=m:be>m&&bI.shift(),o.endOnTick?T=n:T<n&&bI.pop(),cG||(cG={x:0,y:0}),!s&&bI.length>cG[v]&&(cG[v]=bI.length)}}function cr(){if(cG&&!s&&!bU&&!bo){var a=bQ,b=bI.length;bQ=cG[v];if(b<bQ){while(bI.length<bQ)bI.push(co(bI[bI.length-1]+bD));x*=(b-1)/(bQ-1),T=bI[bI.length-1]}bz(a)&&bQ!==a&&(p.isDirty=!0)}}function cs(){var a,c;bf=be,bh=T,cl(),cq(),y=x,x=w/(T-be||1);if(!b)for(a in n)for(c in n[a])n[a][c].cum=n[a][c].total;p.isDirty||(p.isDirty=be!==bf||T!==bh)}function ct(a,b,c,d){c=bC(c,!0),bm(p,"setExtremes",{min:a,max:b},function(){R=a,S=b,c&&ck.redraw(d)})}function cx(){return{min:be,max:T,dataMin:K,dataMax:N,userMin:R,userMax:S}}function cy(a){return be>a?a=be:T<a&&(a=T),D(a,0,1)}function cz(a){var b=(new ci(a)).render();return bB.push(b),b}function cA(){var a=Q.length&&bz(be)&&bz(T),b=0,c=0,d=o.title,e=o.labels,f=[-1,1,1,-1][m],h;G||(G=cJ.g("axis").attr({zIndex:7}).add(),H=cJ.g("grid").attr({zIndex:1}).add()),bR=0;if(a||bo)bg(bI,function(a){bJ[a]?bJ[a].addLabel():bJ[a]=new ch(a);if(m===0||m===2||{1:"left",3:"right"}[m]===e.align)bR=g(bJ[a].getLabelSize(),bR)}),ca&&(bR+=(ca-1)*16);else for(h in bJ)bJ[h].destroy(),delete bJ[h];d&&d.text&&(q||(q=p.axisTitle=cJ.text(d.text,0,0,d.useHTML).attr({zIndex:7,rotation:d.rotation||0,align:d.textAlign||{low:"left",middle:"center",high:"right"}[d.align]}).css(d.style).add(),q.isNew=!0),b=q.getBBox()[k?"height":"width"],c=bC(d.margin,k?5:10)),u=f*(o.offset||bP[m]),bS=bR+(m!==2&&bR&&f*o.labels[k?"y":"x"])+c,bP[m]=g(bP[m],bS+b+f*u)}function cB(){var a=o.title,b=o.stackLabels,c=o.alternateGridColor,d=o.lineWidth,e,f,g,h=ck.hasRendered,i=h&&bz(bf)&&!isNaN(bf),l=Q.length&&bz(be)&&bz(T);w=k?cv:cu,x=w/(T-be||1),A=k?bO:bN;if(l||bo){if(bE&&!bU){var r=be+(bI[0]-be)%bE;for(;r<=T;r+=bE)bK[r]||(bK[r]=new ch(r,!0)),i&&bK[r].isNew&&bK[r].render(null,!0),bK[r].isActive=!0,bK[r].render()}bg(bI,function(a,b){if(!bo||a>=be&&a<=T)i&&bJ[a].isNew&&bJ[a].render(b,!0),bJ[a].isActive=!0,bJ[a].render(b)}),c&&bg(bI,function(a,b){b%2===0&&a<T&&(bM[a]||(bM[a]=new ci),bM[a].options={from:a,to:bI[b+1]!==F?bI[b+1]:T,color:c},bM[a].render(),bM[a].isActive=!0)}),h||bg((o.plotLines||[]).concat(o.plotBands||[]),function(a){bB.push((new ci(a)).render())})}bg([bJ,bK,bM],function(a){var b;for(b in a)a[b].isActive?a[b].isActive=!1:(a[b].destroy(),delete a[b])}),d&&(e=bO+(j?cv:0)+u,f=cc-bN-(j?cu:0)+u,g=cJ.crispLine([O,k?bO:e,k?f:bv,P,k?cb-bF:e,k?f:cc-bN],d),I?I.animate({d:g}):I=cJ.path(g).attr({stroke:o.lineColor,"stroke-width":d,zIndex:7}).add());if(q){var s=k?bO:bv,t=br(a.style.fontSize||12),v={low:s+(k?0:w),middle:s+w/2,high:s+(k?w:0)}[a.align],y=(k?bv+cu:bO)+(k?1:-1)*(j?-1:1)*bS+(m===2?t:0);q[q.isNew?"attr":"animate"]({x:k?v:y+(j?cv:0)+u+(a.x||0),y:k?y-(j?cu:0)+u:v+(a.y||0)}),q.isNew=!1}if(b&&b.enabled){var z,B,C,D=p.stackTotalGroup;D||(p.stackTotalGroup=D=cJ.g("stack-labels").attr({visibility:L,zIndex:6}).translate(bO,bv).add());for(z in n){B=n[z];for(C in B)B[C].render(D)}}p.isDirty=!1}function cC(a){var b=bB.length;while(b--)bB[b].id===a&&bB[b].destroy()}function cD(){cw.resetTracker&&cw.resetTracker(),cB(),bg(bB,function(a){a.render()}),bg(Q,function(a){a.isDirty=!0})}function cE(b,c){p.categories=a.categories=bU=b,bg(Q,function(a){a.translate(),a.setTooltipPoints(!0)}),p.isDirty=!0,bC(c,!0)&&ck.redraw()}function cF(){var a;bl(p);for(a in n)bL(n[a]),n[a]=null;p.stackTotalGroup&&(p.stackTotalGroup=p.stackTotalGroup.destroy()),bg([bJ,bK,bM,bB],function(a){bL(a)}),bg([I,G,H,q],function(a){a&&a.destroy()}),I=G=H=q=null}var b=a.isX,j=a.opposite,k=cI?!b:b,m=k?j?0:2:j?1:3,n={},o=bj(b?bV:bW,[b$,bY,bZ,bX][m],a),p=this,q,r=o.type,s=r==="datetime",t=r==="logarithmic",u=o.offset||0,v=b?"x":"y",w,x,y,A=k?bO:bN,D,E,G,H,I,K,N,Q,R,S,T=null,be=null,bf,bh,bi=o.minPadding,bn=o.maxPadding,bo=bz(o.linkedTo),bp,bs,bt,bu=o.events,bA,bB=[],bD,bE,bH,bI,bJ={},bK={},bM={},bQ,bR,bS,bT,bU=o.categories,b_=o.labels.formatter||function(){var a=this.value,b;return bT?b=C(bT,a):bD%1e6===0?b=a/1e6+"M":bD%1e3===0?b=a/1e3+"k":!bU&&a>=1e3?b=bG(a,0):b=a,b},ca=k&&o.labels.staggerLines,cd=o.reversed,cg=bU&&o.tickmarkPlacement==="between"?.5:0;ch.prototype={addLabel:function(){var a=this.pos,b=o.labels,c,e=!(a===be&&!bC(o.showFirstLabel,1)||a===T&&!bC(o.showLastLabel,0)),f=bU&&k&&bU.length&&!b.step&&!b.staggerLines&&!b.rotation&&cv/bU.length||!k&&cv/2,h,i=bU&&bz(bU[a])?bU[a]:a,j=this.label;c=b_.call({isFirst:a===bI[0],isLast:a===bI[bI.length-1],dateTimeLabelFormat:bT,value:t?bx(i):i}),h=f&&{width:g(1,d(f-2*(b.padding||10)))+M},h=bq(h,b.style),j===F?this.label=bz(c)&&e&&b.enabled?cJ.text(c,0,0,b.useHTML).attr({align:b.align,rotation:b.rotation}).css(h).add(G):null:j&&j.attr({text:c}).css(h)},getLabelSize:function(){var a=this.label;return a?(this.labelBBox=a.getBBox())[k?"height":"width"]:0},render:function(a,b){var c=this,d=!c.minor,e=c.label,f=c.pos,g=o.labels,h=c.gridLine,i=d?o.gridLineWidth:o.minorGridLineWidth,l=d?o.gridLineColor:o.minorGridLineColor,m=d?o.gridLineDashStyle:o.minorGridLineDashStyle,n,p=c.mark,q,r=d?o.tickLength:o.minorTickLength,s=d?o.tickWidth:o.minorTickWidth||0,t=d?o.tickColor:o.minorTickColor,v=d?o.tickPosition:o.minorTickPosition,w=g.step,y=b&&cf||cc,z,B,C;B=k?D(f+cg,null,null,b)+A:bO+u+(j?(b&&ce||cb)-bF-bO:0),C=k?y-bN+u-(j?cu:0):y-D(f+cg,null,null,b)-A,i&&(n=E(f+cg,i,b),h===F&&(z={stroke:l,"stroke-width":i},m&&(z.dashstyle=m),d&&(z.zIndex=1),c.gridLine=h=i?cJ.path(n).attr(z).add(H):null),!b&&h&&n&&h.animate({d:n})),s&&(v==="inside"&&(r=-r),j&&(r=-r),q=cJ.crispLine([O,B,C,P,B+(k?0:-r),C+(k?r:0)],s),p?p.animate({d:q}):c.mark=cJ.path(q).attr({stroke:t,"stroke-width":s}).add(G)),e&&!isNaN(B)&&(B=B+g.x-(cg&&k?cg*x*(cd?-1:1):0),C=C+g.y-(cg&&!k?cg*x*(cd?1:-1):0),bz(g.y)||(C+=br(e.styles.lineHeight)*.9-e.getBBox().height/2),ca&&(C+=a/(w||1)%ca*16),w&&e[a%w?"hide":"show"](),e[c.isNew?"attr":"animate"]({x:B,y:C})),c.isNew=!1},destroy:function(){bL(this)}},ci.prototype={render:function(){var a=this,b=a.options,d=b.label,e=a.label,f=b.width,i=b.to,j=b.from,l=b.value,m,n=b.dashStyle,o=a.svgElem,p=[],q,r,s,u,v,w,x=b.color,y=b.zIndex,z=b.events,A;t&&(j=bw(j),i=bw(i),l=bw(l));if(f)p=E(l,f),A={stroke:x,"stroke-width":f},n&&(A.dashstyle=n);else{if(!bz(j)||!bz(i))return;j=g(j,be),i=h(i,T),m=E(i),p=E(j),p&&m?p.push(m[4],m[5],m[1],m[2]):p=null,A={fill:x}}bz(y)&&(A.zIndex=y);if(o)p?o.animate({d:p},null,o.onGetPath):(o.hide(),o.onGetPath=function(){o.show()});else if(p&&p.length){a.svgElem=o=cJ.path(p).attr(A).add();if(z){q=function(b){o.on(b,function(c){z[b].apply(a,[c])})};for(r in z)q(r)}}return d&&bz(d.text)&&p&&p.length&&cv>0&&cu>0?(d=bj({align:k&&m&&"center",x:k?!m&&4:10,verticalAlign:!k&&m&&"middle",y:k?m?16:10:m?6:-4,rotation:k&&!m&&90},d),e||(a.label=e=cJ.text(d.text,0,0).attr({align:d.textAlign||d.align,rotation:d.rotation,zIndex:y}).css(d.style).add()),s=[p[1],p[4],bC(p[6],p[1])],u=[p[2],p[5],bC(p[7],p[2])],v=h.apply(c,s),w=h.apply(c,u),e.align(d,!1,{x:v,y:w,width:g.apply(c,s)-v,height:g.apply(c,u)-w}),e.show()):e&&e.hide(),a},destroy:function(){var a=this;bL(a),by(bB,a)}},cj.prototype={destroy:function(){bL(this)},setTotal:function(a){this.total=a,this.cum=a},render:function(a){var b=this,c=b.options.formatter.call(b);b.label?b.label.attr({text:c,visibility:J}):b.label=ck.renderer.text(c,0,0).css(b.options.style).attr({align:b.textAlign,rotation:b.options.rotation,visibility:J}).add(a)},setOffset:function(a,b){var c=this,d=c.isNegative,e=p.translate(c.total),f=p.translate(0),g=i(e-f),h=ck.xAxis[0].translate(c.x)+a,j=ck.plotHeight,k={x:cI?d?e:e-g:h,y:cI?j-h-b:d?j-e-g:j-e,width:cI?g:b,height:cI?b:g};c.label&&c.label.align(c.alignOptions,null,k).attr({visibility:L})}},D=function(a,b,c,d,e){var f=1,g=0,h=d?y:x,i=d?bf:be,j;return h||(h=x),c&&(f*=-1,g=w),cd&&(f*=-1,g-=f*w),b?(cd&&(a=w-a),j=a/h+i,t&&e&&(j=bx(j))):(t&&e&&(a=bw(a)),j=f*(a-i)*h+g),j},E=function(a,b,c){var e,f,g,h,i=D(a,null,null,c),j=c&&cf||cc,l=c&&ce||cb,m;e=g=d(i+A),f=h=d(j-i-A);if(isNaN(i))m=!0;else if(k){f=bv,h=j-bN;if(e<bO||e>bO+cv)m=!0}else{e=bO,g=l-bF;if(f<bv||f>bv+cu)m=!0}return m?null:cJ.crispLine([O,e,f,P,g,h],b||0)},cI&&b&&cd===F&&(cd=!0),bq(p,{addPlotBand:cz,addPlotLine:cz,adjustTickAmount:cr,categories:bU,getExtremes:cx,getPlotLinePath:E,getThreshold:cy,isXAxis:b,options:o,plotLinesAndBands:bB,getOffset:cA,render:cB,setCategories:cE,setExtremes:ct,setScale:cs,setTickPositions:cq,translate:D,redraw:cD,removePlotBand:cC,removePlotLine:cC,reversed:cd,stacks:n,destroy:cF});for(bA in bu)bk(p,bA,bu[bA]);cs()}function cV(){function b(b,c,d,e){if(!a[b]){var f=cJ.text(c,0,0).css(j.toolbar.itemStyle).align({align:"right",x:-bF-20,y:bv+30}).on("click",e).attr({align:"right",zIndex:20}).add();a[b]=f}}function c(b){bT(a[b].element),a[b]=null}var a={};return{add:b,remove:c}}function cW(a){function t(){bg(f,function(a){a&&a.destroy()}),bg([r,s,q],function(a){a&&a.destroy()}),r=s=q=null}function u(){var a=this,b=a.points||bB(a),c=b[0].series.xAxis,d=a.x,e=c&&c.options.type==="datetime",f=bs(d)||e,g;return g=f?['<span style="font-size: 10px">'+(e?C("%A, %b %e, %Y",d):d)+"</span>"]:[],bg(b,function(a){g.push(a.point.tooltipFormatter(f))}),g.join("<br/>")}function v(a,b){o=l?a:(2*o+a)/3,p=l?b:(p+b)/2,q.translate(o,p),i(a-o)>1||i(b-p)>1?cK=function(){v(a,b)}:cK=null}function w(){if(!l){var a=ck.hoverPoints;q.hide(),bg(f,function(a){a&&a.hide()}),a&&bg(a,function(a){a.setState()}),ck.hoverPoints=null,l=!0}}function x(c){var g,i,o,p,t,x=0,y={},z,A=[],B=c.tooltipPos,C=a.formatter||u,D=ck.hoverPoints,E;h?(D&&bg(D,function(a){a.setState()}),ck.hoverPoints=c,bg(c,function(a){a.setState(S),x+=a.plotY,A.push(a.getLabelConfig())}),t=c[0].plotX,x=d(x)/c.length,y={x:c[0].category},y.points=A,c=c[0]):y=c.getLabelConfig(),z=C.call(y),b=c.series,t=h?t:c.plotX,x=h?x:c.plotY,g=d(B?B[0]:cI?cv-x:t),i=d(B?B[1]:cI?cu-t:x),o=h||!c.series.isCartesian||co(g,i),z===!1||!o?w():(l&&(q.show(),l=!1),s.attr({text:z}),p=s.getBBox(),m=p.width+2*j,n=p.height+2*j,r.attr({width:m,height:n,stroke:a.borderColor||c.color||b.color||"#606060"}),E=bJ(m,n,bO,bv,cv,cu,{x:g,y:i}),v(d(E.x-k),d(E.y-k)));if(e){e=bB(e);var F,G=e.length,H,I;while(G--)I=c.series[G?"yAxis":"xAxis"],e[G]&&I&&(F=I.getPlotLinePath(c[G?"y":"x"],1),f[G]?f[G].attr({d:F,visibility:L}):(H={"stroke-width":e[G].width||1,stroke:e[G].color||"#C0C0C0",zIndex:2},e[G].dashStyle&&(H.dashstyle=e[G].dashStyle),f[G]=cJ.path(F).attr(H).add()))}}var b,c=a.borderWidth,e=a.crosshairs,f=[],g=a.style,h=a.shared,j=br(g.padding),k=c+j,l=!0,m,n,o=0,p=0;g.padding=0;var q=cJ.g("tooltip").attr({zIndex:8}).add(),r=cJ.rect(k,k,0,0,a.borderRadius,c).attr({fill:a.backgroundColor,"stroke-width":c}).add(q).shadow(a.shadow),s=cJ.text("",j+k,br(g.fontSize)+j+k,a.useHTML).attr({zIndex:1}).css(g).add(q);return q.hide(),{shared:h,refresh:x,hide:w,destroy:t}}function cX(c){function t(c){var e,f=q&&a.width/a.body.scrollWidth-1,g,h,i,j;c=c||b.event,c.target||(c.target=c.srcElement),e=c.touches?c.touches.item(0):c;if(c.type!=="mousemove"||b.opera||f)cC=bH(bS),g=cC.left,h=cC.top;return o?(i=c.x,j=c.y):e.layerX===F?(i=e.pageX-g,j=e.pageY-h):(i=c.layerX,j=c.layerY),f&&(i+=d((f+1)*g-g),j+=d((f+1)*h-h)),bq(c,{chartX:i,chartY:j})}function u(a){var b={xAxis:[],yAxis:[]};return bg(cF,function(c){var d=c.translate,e=c.isXAxis,f=cI?!e:e;b[e?"xAxis":"yAxis"].push({axis:c,value:d(f?a.chartX-bO:cu-a.chartY+bv,!0)})}),b}function v(a){var b,d,e=ck.hoverPoint,f=ck.hoverSeries,g,j,k=cb,l=cI?a.chartY:a.chartX-bO;if(cp&&c.shared){d=[],g=cH.length;for(j=0;j<g;j++)cH[j].visible&&cH[j].tooltipPoints.length&&(b=cH[j].tooltipPoints[l],b._dist=i(l-b.plotX),k=h(k,b._dist),d.push(b));g=d.length;while(g--)d[g]._dist>k&&d.splice(g,1);d.length&&d[0].plotX!==cM&&(cp.refresh(d),cM=d[0].plotX)}f&&f.tracker&&(b=f.tooltipPoints[l],b&&b!==e&&b.onMouseOver())}function x(){var a=ck.hoverSeries,b=ck.hoverPoint;b&&b.onMouseOut(),a&&a.onMouseOut(),cp&&cp.hide(),cM=null}function y(){if(k){var b={xAxis:[],yAxis:[]},c=k.getBBox(),d=c.x-bO,e=c.y-bv;j&&(bg(cF,function(a){var f=a.translate,i=a.isXAxis,j=cI?!i:i,k=f(j?d:cu-e-c.height,!0,0,0,1),l=f(j?d+c.width:cu-e,!0,0,0,1);b[i?"xAxis":"yAxis"].push({axis:a,min:h(k,l),max:g(k,l)})}),bm(ck,"selection",b,cS)),k=k.destroy()}ck.mouseIsDown=cq=j=!1,bl(a,w?"touchend":"mouseup",y)}function z(a){var b=bz(a.pageX)?a.pageX:a.page.x,c=bz(a.pageX)?a.pageY:a.page.y;cC&&!co(b-cC.left-bO,c-cC.top-bv)&&x()}function A(){var b=!0;bS.onmousedown=function(b){b=t(b),!w&&b.preventDefault&&b.preventDefault(),ck.mouseIsDown=cq=!0,e=b.chartX,f=b.chartY,bk(a,w?"touchend":"mouseup",y)};var c=function(a){if(a&&a.touches&&a.touches.length>1)return;a=t(a),w||(a.returnValue=!1);var c=a.chartX,d=a.chartY,g=!co(c-bO,d-bv);cC||(cC=bH(bS)),w&&a.type==="touchstart"&&(bA(a.target,"isTracker")?ck.runTrackerClick||a.preventDefault():!cm&&!g&&a.preventDefault()),g&&(c<bO?c=bO:c>bO+cv&&(c=bO+cv),d<bv?d=bv:d>bv+cu&&(d=bv+cu));if(cq&&a.type!=="touchstart"){j=Math.sqrt(Math.pow(e-c,2)+Math.pow(f-d,2));if(j>10){cD&&(n||p)&&co(e-bO,f-bv)&&(k||(k=cJ.rect(bO,bv,r?1:cv,s?1:cu,0).attr({fill:l.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()));if(k&&r){var h=c-e;k.attr({width:i(h),x:(h>0?0:h)+e})}if(k&&s){var m=d-f;k.attr({height:i(m),y:(m>0?0:m)+f})}}}else g||v(a);return b=g,g||!cD};bS.onmousemove=c,bk(bS,"mouseleave",x),bk(a,"mousemove",z),bS.ontouchstart=function(a){(n||p)&&bS.onmousedown(a),c(a)},bS.ontouchmove=c,bS.ontouchend=function(){j&&x()},bS.onclick=function(a){var b=ck.hoverPoint;a=t(a),a.cancelBubble=!0;if(!j)if(b&&bA(a.target,"isTracker")){var c=b.plotX,d=b.plotY;bq(b,{pageX:cC.left+bO+(cI?cv-d:c),pageY:cC.top+bv+(cI?cu-c:d)}),bm(b.series,"click",bq(a,{point:b})),b.firePointEvent("click",a)}else bq(a,u(a)),co(a.chartX-bO,a.chartY-bv)&&bm(ck,"click",a);j=!1}}function B(){ck.trackerGroup&&(ck.trackerGroup=cx=ck.trackerGroup.destroy()),bl(a,"mousemove",z),bS.onclick=bS.onmousedown=bS.onmousemove=bS.ontouchstart=bS.ontouchend=bS.ontouchmove=null}var e,f,j,k,m=l.zoomType,n=/x/.test(m),p=/y/.test(m),r=n&&!cI||p&&cI,s=p&&!cI||n&&cI;cy=function(){cx?(cx.translate(bO,bv),cI&&cx.attr({width:ck.plotWidth,height:ck.plotHeight}).invert()):ck.trackerGroup=cx=cJ.g("tracker").attr({zIndex:9}).add()},cy(),c.enabled&&(ck.tooltip=cp=cW(c)),A(),cL=setInterval(function(){cK&&cK()},32),bq(this,{zoomX:n,zoomY:p,resetTracker:x,destroy:B})}function cZ(a){var b=a.type||l.type||l.defaultSeriesType,c=bp[b],d,e=ck.hasRendered;return e&&(cI&&b==="column"?c=bp.bar:!cI&&b==="bar"&&(c=bp.column)),d=new c,d.init(ck,a),!e&&d.inverted&&(cI=!0),d.isCartesian&&(cD=d.isCartesian),cH.push(d),d}function c$(a,b,c){var d;return a&&(bM(c,ck),b=bC(b,!0),bm(ck,"addSeries",{options:a},function(){d=cZ(a),d.isDirty=!0,ck.isDirtyLegend=!0,b&&ck.redraw()})),d}function c_(){l.alignTicks!==!1&&bg(cF,function(a){a.adjustTickAmount()}),cG=null}function da(a){var b=ck.isDirtyLegend,c,d=ck.isDirtyBox,e=cH.length,f=e,g=ck.clipRect,h;bM(a,ck);while(f--){h=cH[f];if(h.isDirty&&h.options.stacking){c=!0;break}}if(c){f=e;while(f--)h=cH[f],h.options.stacking&&(h.isDirty=!0)}bg(cH,function(a){a.isDirty&&(a.cleanData(),a.getSegments(),a.options.legendType==="point"&&(b=!0))}),b&&cz.renderLegend&&(cz.renderLegend(),ck.isDirtyLegend=!1),cD&&(cE||(cG=null,bg(cF,function(a){a.setScale()})),c_(),cO(),bg(cF,function(a){if(a.isDirty||d)a.redraw(),d=!0})),d&&(cN(),cy(),g&&(bo(g),g.animate({width:ck.plotSizeX,height:ck.plotSizeY}))),bg(cH,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.xAxis)&&a.redraw()}),cw&&cw.resetTracker&&cw.resetTracker(),bm(ck,"redraw")}function db(a){var b=j.loading;cr||(cr=bE(G,{className:"highcharts-loading"},bq(b.style,{left:bO+M,top:bv+M,width:cv+M,height:cu+M,zIndex:10,display:N}),bS),cs=bE("span",null,b.labelStyle,cr)),cs.innerHTML=a||j.lang.loading,ct||(bD(cr,{opacity:0,display:""}),bn(cr,{opacity:b.style.opacity},{duration:b.showDuration}),ct=!0)}function dc(){bn(cr,{opacity:0},{duration:j.loading.hideDuration,complete:function(){bD(cr,{display:N})}}),ct=!1}function dd(a){var b,c,d;for(b=0;b<cF.length;b++)if(cF[b].options.id===a)return cF[b];for(b=0;b<cH.length;b++)if(cH[b].options.id===a)return cH[b];for(b=0;b<cH.length;b++){d=cH[b].data;for(c=0;c<d.length;c++)if(d[c].id===a)return d[c]}return null}function de(){var a=j.xAxis||{},b=j.yAxis||{},c;a=bB(a),bg(a,function(a,b){a.index=b,a.isX=!0}),b=bB(b),bg(b,function(a,b){a.index=b}),cF=a.concat(b),ck.xAxis=[],ck.yAxis=[],cF=bi(cF,function(a){return c=new cU(a),ck[c.isXAxis?"xAxis":"yAxis"].push(c),c}),c_()}function df(){var a=[];return bg(cH,function(b){a=a.concat(bh(b.data,function(a){return a.selected}))}),a}function dg(){return bh(cH,function(a){return a.selected})}function dh(a,b){bf=bj(j.title,a),bu=bj(j.subtitle,b),bg([["title",a,bf],["subtitle",b,bu]],function(a){var b=a[0],c=ck[b],d=a[1],e=a[2];c&&d&&(c=c.destroy()),e&&e.text&&!c&&(ck[b]=cJ.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+b,zIndex:1}).css(e.style).add().align(e,!1,be))})}function di(){b_=(bR||bQ).offsetWidth,ca=(bR||bQ).offsetHeight,ck.chartWidth=cb=l.width||b_||600,ck.chartHeight=cc=l.height||(ca>19?ca:400)}function dj(){bQ=l.renderTo,bU=K+y++,bs(bQ)&&(bQ=a.getElementById(bQ)),bQ.innerHTML="",bQ.offsetWidth||(bR=bQ.cloneNode(0),bD(bR,{position:H,top:"-9999px",display:""}),a.body.appendChild(bR)),di(),ck.container=bS=bE(G,{className:"highcharts-container"+(l.className?" "+l.className:""),id:bU},bq({position:I,overflow:J,width:cb+M,height:cc+M,textAlign:"left"},l.style),bR||bQ),ck.renderer=cJ=l.forExport?new cd(bS,cb,cc,!0):new v(bS,cb,cc);var c,d;r&&bS.getBoundingClientRect&&(c=function(){bD(bS,{left:0,top:0}),d=bS.getBoundingClientRect(),bD(bS,{left:-(d.left-br(d.left))+M,top:-(d.top-br(d.top))+M})},c(),bk(b,"resize",c),bk(ck,"destroy",function(){bl(b,"resize",c)}))}function dk(){function c(){var b=l.width||bQ.offsetWidth,c=l.height||bQ.offsetHeight;if(b&&c){if(b!==b_||c!==ca)clearTimeout(a),a=setTimeout(function(){cR(b,c,!1)},100);b_=b,ca=c}}var a;bk(b,"resize",c),bk(ck,"destroy",function(){bl(b,"resize",c)})}function dl(){bm(ck,"endResize",null,function(){cE-=1})}function dm(){var a=j.labels,b=j.credits,c;dh(),cz=ck.legend=new cY,cO(),bg(cF,function(a){a.setTickPositions(!0)}),c_(),cO(),cN(),cD&&bg(cF,function(a){a.render()}),ck.seriesGroup||(ck.seriesGroup=cJ.g("series-group").attr({zIndex:3}).add()),bg(cH,function(a){a.translate(),a.setTooltipPoints(),a.render()}),a.items&&bg(a.items,function(){var b=bq(a.style,this.style),c=br(b.left)+bO,d=br(b.top)+bv+12;delete b.left,delete b.top,cJ.text(this.html,c,d).attr({zIndex:2}).css(b).add()}),ck.toolbar||(ck.toolbar=cV()),b.enabled&&!ck.credits&&(c=b.href,ck.credits=cJ.text(b.text,0,0).on("click",function(){c&&(location.href=c)}).attr({align:b.position.align,zIndex:8}).css(b.style).add().align(b.position)),cy(),ck.hasRendered=!0,bR&&(bQ.appendChild(bS),bT(bR))}function dn(){var a,c=bS&&bS.parentNode;if(ck===null)return;bm(ck,"destroy"),bl(b,"unload",dn),bl(ck),a=cF.length;while(a--)cF[a]=cF[a].destroy();a=cH.length;while(a--)cH[a]=cH[a].destroy();bg(["title","subtitle","seriesGroup","clipRect","credits","tracker"],function(a){var b=ck[a];b&&(ck[a]=b.destroy())}),bg([cg,cj,ch,cz,cp,cJ,cw],function(a){a&&a.destroy&&a.destroy()}),cg=cj=ch=cz=cp=cJ=cw=null,bS&&(bS.innerHTML="",bl(bS),c&&bT(bS),bS=null),clearInterval(cL);for(a in ck)delete ck[a];ck=null}function dp(){var c="onreadystatechange",d="complete";if(!t&&b==b.top&&a.readyState!==d){a.attachEvent(c,function(){a.detachEvent(c,dp),a.readyState===d&&dp()});return}dj(),cP(),cQ(),bg(j.series||[],function(a){cZ(a)}),ck.inverted=cI=bC(cI,j.chart.inverted),de(),ck.render=dm,ck.tracker=cw=new cX(j.tooltip),dm(),bm(ck,"load"),k&&k.apply(ck,[ck]),bg(ck.callbacks,function(a){a.apply(ck,[ck])})}bV=bj(bV,B.xAxis),bW=bj(bW,B.yAxis),B.xAxis=B.yAxis=null,j=bj(B,j);var l=j.chart,m=l.margin,n=bt(m)?m:[m,m,m,m],p=bC(l.marginTop,n[0]),s=bC(l.marginRight,n[1]),u=bC(l.marginBottom,n[2]),x=bC(l.marginLeft,n[3]),A=l.spacingTop,E=l.spacingRight,Q=l.spacingBottom,T=l.spacingLeft,be,bf,bu,bv,bF,bN,bO,bP,bQ,bR,bS,bU,b_,ca,cb,cc,ce,cf,cg,ch,ci,cj,ck=this,cl=l.events,cm=cl&&!!cl.click,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD=l.showAxes,cE=0,cF=[],cG,cH=[],cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cY=function(){function z(b,c){var d=b.legendItem,e=b.legendLine,f=b.legendSymbol,g=j.color,h=c?a.itemStyle.color:g,i=c?b.color:g,k=c?b.pointAttr[R]:{stroke:g,fill:g};d&&d.css({fill:h}),e&&e.attr({stroke:i}),f&&f.attr(k)}function A(a,b,c){var d=a.legendItem,e=a.legendLine,f=a.legendSymbol,g=a.checkbox;d&&d.attr({x:b,y:c}),e&&e.translate(b,c-4),f&&f.attr({x:b+f.xOff,y:c+f.yOff}),g&&(g.x=b,g.y=c)}function B(a){var b=a.checkbox;bg(["legendItem","legendLine","legendSymbol"],function(b){a[b]&&a[b].destroy()}),b&&bT(a.checkbox)}function C(){r&&(r=r.destroy()),u&&(u=u.destroy())}function D(){bg(e,function(a){var b=a.checkbox,c=u.alignAttr;b&&bD(b,{left:c.translateX+a.legendItemWidth+b.x-40+M,top:c.translateY+b.y-11+M})})}function E(e){var f,l,r,s,t,x,y=e.legendItem,B=e.series||e,C=B.options,D=C&&C.borderWidth||0;if(!y){x=/^(bar|pie|area|column)$/.test(B.type),e.legendItem=y=cJ.text(a.labelFormatter.call(e),0,0).css(e.visible?h:j).on("mouseover",function(){e.setState(S),y.css(i)}).on("mouseout",function(){y.css(e.visible?h:j),e.setState()}).on("click",function(){var a="legendItemClick",b=function(){e.setVisible()};e.firePointEvent?e.firePointEvent(a,null,b):bm(e,a,null,b)}).attr({zIndex:2}).add(u);if(!x&&C&&C.lineWidth){var E={"stroke-width":C.lineWidth,zIndex:2};C.dashStyle&&(E.dashstyle=C.dashStyle),e.legendLine=cJ.path([O,-c-d,0,P,-d,0]).attr(E).add(u)}x?r=cJ.rect(s=-c-d,t=-11,c,12,2).attr({zIndex:3}).add(u):C&&C.marker&&C.marker.enabled&&(r=cJ.symbol(e.symbol,s=-c/2-d,t=-4,C.marker.radius).attr({zIndex:3}).add(u)),r&&(r.xOff=s+D%2/2,r.yOff=t+D%2/2),e.legendSymbol=r,z(e,e.visible),C&&C.showCheckbox&&(e.checkbox=bE("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},a.itemCheckboxStyle,bS),bk(e.checkbox,"click",function(a){var b=a.target;bm(e,"checkboxClick",{checked:b.checked},function(){e.select()})}))}f=y.getBBox(),l=e.legendItemWidth=a.itemWidth||c+d+f.width+k,q=f.height,b&&n-m+l>(w||cb-2*k-m)&&(n=m,o+=q),p=o,A(e,n,o),b?n+=l:o+=q,v=w||g(b?n-m:l,v)}function F(){n=m,o=l,v=0,p=0,u||(u=cJ.g("legend").attr({zIndex:7}).add()),e=[],bg(x,function(a){var b=a.options;if(!b.showInLegend)return;e=e.concat(b.legendType==="point"?a.data:a)}),bK(e,function(a,b){return(a.options.legendIndex||0)-(b.options.legendIndex||0)}),y&&e.reverse(),bg(e,E),cA=w||v,cB=p-l+q;if(s||t)cA+=2*k,cB+=2*k,r?cA>0&&cB>0&&(r[r.isNew?"attr":"animate"](r.crisp(null,null,null,cA,cB)),r.isNew=!1):(r=cJ.rect(0,0,cA,cB,a.borderRadius,s||0).attr({stroke:a.borderColor,"stroke-width":s||0,fill:t||N}).add(u).shadow(a.shadow),r.isNew=!0),r[e.length?"show":"hide"]();var b=["left","right","top","bottom"],c,d=4;while(d--)c=b[d],f[c]&&f[c]!=="auto"&&(a[d<2?"align":"verticalAlign"]=c,a[d<2?"x":"y"]=br(f[c])*(d%2?-1:1));e.length&&u.align(bq(a,{width:cA,height:cB}),!0,be),cE||D()}var a=ck.options.legend;if(!a.enabled)return;var b=a.layout==="horizontal",c=a.symbolWidth,d=a.symbolPadding,e,f=a.style,h=a.itemStyle,i=a.itemHoverStyle,j=a.itemHiddenStyle,k=br(f.padding),l=18,m=4+k+c+d,n,o,p,q=0,r,s=a.borderWidth,t=a.backgroundColor,u,v,w=a.width,x=ck.series,y=a.reversed;return F(),bk(ck,"endResize",D),{colorizeItem:z,destroyItem:B,renderLegend:F,destroy:C}};co=function(a,b){return a>=0&&a<=cv&&b>=0&&b<=cu},cT=function(){bm(ck,"selection",{resetSelection:!0},cS),ck.toolbar.remove("zoom")},cS=function(a){var b=B.lang,c=ck.pointCount<100;ck.toolbar.add("zoom",b.resetZoom,b.resetZoomTitle,cT),!a||a.resetSelection?bg(cF,function(a){a.setExtremes(null,null,!1,c)}):bg(a.xAxis.concat(a.yAxis),function(a){var b=a.axis;ck.tracker[b.isXAxis?"zoomX":"zoomY"]&&b.setExtremes(a.min,a.max,!1,c)}),da()},cO=function(){var a=j.legend,b=bC(a.margin,10),c=a.x,d=a.y,e=a.align,f=a.verticalAlign,h;cP(),(ck.title||ck.subtitle)&&!bz(p)&&(h=g(ck.title&&!bf.floating&&!bf.verticalAlign&&bf.y||0,ck.subtitle&&!bu.floating&&!bu.verticalAlign&&bu.y||0),h&&(bv=g(bv,h+bC(bf.margin,15)+A))),a.enabled&&!a.floating&&(e==="right"?bz(s)||(bF=g(bF,cA-c+b+E)):e==="left"?bz(x)||(bO=g(bO,cA+c+b+T)):f==="top"?bz(p)||(bv=g(bv,cB+d+b+A)):f==="bottom"&&(bz(u)||(bN=g(bN,cB-d+b+Q)))),cD&&bg(cF,function(a){a.getOffset()}),bz(x)||(bO+=bP[3]),bz(p)||(bv+=bP[0]),bz(u)||(bN+=bP[2]),bz(s)||(bF+=bP[1]),cQ()},cR=function(a,b,c){var e=ck.title,f=ck.subtitle;cE+=1,bM(c,ck),cf=cc,ce=cb,ck.chartWidth=cb=d(a),ck.chartHeight=cc=d(b),bD(bS,{width:cb+M,height:cc+M}),cJ.setSize(cb,cc,c),cv=cb-bO-bF,cu=cc-bv-bN,cG=null,bg(cF,function(a){a.isDirty=!0,a.setScale()}),bg(cH,function(a){a.isDirty=!0}),ck.isDirtyLegend=!0,ck.isDirtyBox=!0,cO(),e&&e.align(null,null,be),f&&f.align(null,null,be),da(c),cf=null,bm(ck,"resize"),D===!1?dl():setTimeout(dl,D&&D.duration||500)},cQ=function(){ck.plotLeft=bO=d(bO),ck.plotTop=bv=d(bv),ck.plotWidth=cv=d(cb-bO-bF),ck.plotHeight=cu=d(cc-bv-bN),ck.plotSizeX=cI?cu:cv,ck.plotSizeY=cI?cv:cu,be={x:T,y:A,width:cb-T-E,height:cc-A-Q}},cP=function(){bv=bC(p,A),bF=bC(s,E),bN=bC(u,Q),bO=bC(x,T),bP=[0,0,0,0]},cN=function(){var a=l.borderWidth||0,b=l.backgroundColor,c=l.plotBackgroundColor,d=l.plotBackgroundImage,e,f={x:bO,y:bv,width:cv,height:cu};e=a+(l.shadow?8:0);if(a||b)cg?cg.animate(cg.crisp(null,null,null,cb-e,cc-e)):cg=cJ.rect(e/2,e/2,cb-e,cc-e,l.borderRadius,a).attr({stroke:l.borderColor,"stroke-width":a,fill:b||N}).add().shadow(l.shadow);c&&(ch?ch.animate(f):ch=cJ.rect(bO,bv,cv,cu,0).attr({fill:c}).add().shadow(l.plotShadow)),d&&(ci?ci.animate(f):ci=cJ.image(d,bO,bv,cv,cu).add()),l.plotBorderWidth&&(cj?cj.animate(cj.crisp(null,bO,bv,cv,cu)):cj=cJ.rect(bO,bv,cv,cu,0,l.plotBorderWidth).attr({stroke:l.plotBorderColor,"stroke-width":l.plotBorderWidth,zIndex:4}).add()),ck.isDirtyBox=!1},bk(b,"unload",dn),l.reflow!==!1&&bk(ck,"load",dk);if(cl)for(cn in cl)bk(ck,cn,cl[cn]);ck.
options=j,ck.series=cH,ck.addSeries=c$,ck.animation=bC(l.animation,!0),ck.destroy=dn,ck.get=dd,ck.getSelectedPoints=df,ck.getSelectedSeries=dg,ck.hideLoading=dc,ck.isInsidePlot=co,ck.redraw=da,ck.setSize=cR,ck.setTitle=dh,ck.showLoading=db,ck.pointCount=0,ck.counters=new bI,dp()}var a=document,b=window,c=Math,d=c.round,e=c.floor,f=c.ceil,g=c.max,h=c.min,i=c.abs,j=c.cos,k=c.sin,l=c.PI,m=l*2/360,n=navigator.userAgent,o=/msie/i.test(n)&&!b.opera,p=a.documentMode===8,q=/AppleWebKit/.test(n),r=/Firefox/.test(n),s="http://www.w3.org/2000/svg",t=!!a.createElementNS&&!!a.createElementNS(s,"svg").createSVGRect,u=r&&parseInt(n.split("Firefox/")[1],10)<4,v,w=a.documentElement.ontouchstart!==undefined,x={},y=0,z=1,A,B,C,D,E,F,G="div",H="absolute",I="relative",J="hidden",K="highcharts-",L="visible",M="px",N="none",O="M",P="L",Q="rgba(192,192,192,"+(t?1e-6:.002)+")",R="",S="hover",T="select",U,V,W,X,Y,Z,$,_,ba,bb,bc,bd,be=b.HighchartsAdapter,bf=be||{},bg=bf.each,bh=bf.grep,bi=bf.map,bj=bf.merge,bk=bf.addEvent,bl=bf.removeEvent,bm=bf.fireEvent,bn=bf.animate,bo=bf.stop,bp={};C=function(a,b,c){function d(a){return a.toString().replace(/^([0-9])$/,"0$1")}if(!bz(b)||isNaN(b))return"Invalid date";a=bC(a,"%Y-%m-%d %H:%M:%S");var e=new Date(b*z),f,g=e[W](),h=e[X](),i=e[Y](),j=e[Z](),k=e[$](),l=B.lang,m=l.weekdays,n={a:m[h].substr(0,3),A:m[h],d:d(i),e:i,b:l.shortMonths[j],B:l.months[j],m:d(j+1),y:k.toString().substr(2,2),Y:k,H:d(g),I:d(g%12||12),l:g%12||12,M:d(e[V]()),p:g<12?"AM":"PM",P:g<12?"am":"pm",S:d(e.getSeconds())};for(f in n)a=a.replace("%"+f,n[f]);return c?a.substr(0,1).toUpperCase()+a.substr(1):a},bI.prototype={wrapColor:function(a){this.color>=a&&(this.color=0)},wrapSymbol:function(a){this.symbol>=a&&(this.symbol=0)}},E={init:function(a,b,c){b=b||"";var d=a.shift,e=b.indexOf("C")>-1,f=e?7:3,g,h,i,j=b.split(" "),k=[].concat(c),l,m,n=function(a){i=a.length;while(i--)a[i]===O&&a.splice(i+1,0,a[i+1],a[i+2],a[i+1],a[i+2])};e&&(n(j),n(k)),a.isArea&&(l=j.splice(j.length-6,6),m=k.splice(k.length-6,6)),d&&(k=[].concat(k).splice(0,f).concat(k),a.shift=!1);if(j.length){g=k.length;while(j.length<g)h=[].concat(j).splice(j.length-f,f),e&&(h[f-6]=h[f-2],h[f-5]=h[f-1]),j=j.concat(h)}return l&&(j=j.concat(l),k=k.concat(m)),[j,k]},step:function(a,b,c,d){var e=[],f=a.length,g;if(c===1)e=d;else if(f===b.length&&c<1)while(f--)g=parseFloat(a[f]),e[f]=isNaN(g)?a[f]:c*parseFloat(b[f]-g)+g;else e=b;return e}},be&&be.init&&be.init(E);if(!be&&b.jQuery){var bN=jQuery;bg=function(a,b){var c=0,d=a.length;for(;c<d;c++)if(b.call(a[c],a[c],c,a)===!1)return c},bh=bN.grep,bi=function(a,b){var c=[],d=0,e=a.length;for(;d<e;d++)c[d]=b.call(a[d],a[d],d,a);return c},bj=function(){var a=arguments;return bN.extend(!0,null,a[0],a[1],a[2],a[3])},bk=function(a,b,c){bN(a).bind(b,c)},bl=function(b,c,d){var e=a.removeEventListener?"removeEventListener":"detachEvent";a[e]&&!b[e]&&(b[e]=function(){}),bN(b).unbind(c,d)},bm=function(a,b,c,d){var e=bN.Event(b),f="detached"+b;bq(e,c),a[b]&&(a[f]=a[b],a[b]=null),bN(a).trigger(e),a[f]&&(a[b]=a[f],a[f]=null),d&&!e.isDefaultPrevented()&&d(e)},bn=function(a,b,c){var d=bN(a);b.d&&(a.toD=b.d,b.d=1),d.stop(),d.animate(b,c)},bo=function(a){bN(a).stop()},bN.extend(bN.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}});var bO=jQuery.fx,bP=bO.step;bg(["cur","_default","width","height"],function(a,b){var c=b?bP:bO.prototype,d=c[a],e;d&&(c[a]=function(a){return a=b?a:this,e=a.elem,e.attr?e.attr(a.prop,a.now):d.apply(this,arguments)})}),bP.d=function(a){var b=a.elem;if(!a.started){var c=E.init(b,b.d,b.toD);a.start=c[0],a.end=c[1],a.started=!0}b.attr("d",E.step(a.start,a.end,a.pos,b.toD))}}var bU={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};B={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","June","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0"},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:bj(bU,{enabled:!1,y:-6,formatter:function(){return this.y}}),showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:H,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:!1,style:{padding:"5px"},itemStyle:{cursor:"pointer",color:"#3E576F"},itemHoverStyle:{cursor:"pointer",color:"#000000"},itemHiddenStyle:{color:"#C0C0C0"},itemCheckboxStyle:{position:H,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{hideDuration:100,labelStyle:{fontWeight:"bold",position:I,top:"1em"},showDuration:100,style:{position:H,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,shadow:!0,snap:w?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"#4572A7",cursor:"pointer"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var bV={dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:bU,lineColor:"#C0D0E0",lineWidth:1,max:null,min:null,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},bW=bj(bV,{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:bU.style}}),bX={labels:{align:"right",x:-8,y:null},title:{rotation:270}},bY={labels:{align:"left",x:8,y:null},title:{rotation:90}},bZ={labels:{align:"center",x:0,y:14},title:{rotation:0}},b$=bj(bZ,{labels:{y:-5}}),b_=B.plotOptions,ca=b_.line;b_.spline=bj(ca),b_.scatter=bj(ca,{lineWidth:0,states:{hover:{lineWidth:0}}}),b_.area=bj(ca,{}),b_.areaspline=bj(b_.area),b_.column=bj(ca,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{y:null,verticalAlign:null}}),b_.bar=bj(b_.column,{dataLabels:{align:"left",x:5,y:0}}),b_.pie=bj(ca,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}}),bQ();var cb=function(a){function d(a){c=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(a),c?b=[br(c[1]),br(c[2]),br(c[3]),parseFloat(c[4],10)]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a),c&&(b=[br(c[1],16),br(c[2],16),br(c[3],16),1]))}function e(c){var d;return b&&!isNaN(b[0])?c==="rgb"?d="rgb("+b[0]+","+b[1]+","+b[2]+")":c==="a"?d=b[3]:d="rgba("+b.join(",")+")":d=a,d}function f(a){if(bv(a)&&a!==0){var c;for(c=0;c<3;c++)b[c]+=br(a*255),b[c]<0&&(b[c]=0),b[c]>255&&(b[c]=255)}return this}function g(a){return b[3]=a,this}var b=[],c;return d(a),{get:e,brighten:f,setOpacity:g}};cc.prototype={init:function(b,c){this.element=a.createElementNS(s,c),this.renderer=b},animate:function(a,b,c){var d=bC(b,D,!0);d?(d=bj(d),c&&(d.complete=c),bn(this,a,d)):(this.attr(a),c&&c())},attr:function(b,c){var d,e,f,g,h=this.element,i=h.nodeName,j=this.renderer,k,l=this.shadows,m=this.htmlNode,n,o=this;bs(b)&&bz(c)&&(d=b,b={},b[d]=c);if(bs(b))d=b,i==="circle"?d={x:"cx",y:"cy"}[d]||d:d==="strokeWidth"&&(d="stroke-width"),o=bA(h,d)||this[d]||0,d!=="d"&&d!=="visibility"&&(o=parseFloat(o));else for(d in b){k=!1,e=b[d];if(d==="d")e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),this.d=e;else if(d==="x"&&i==="text"){for(f=0;f<h.childNodes.length;f++)g=h.childNodes[f],bA(g,"x")===bA(h,"x")&&bA(g,"x",e);this.rotation&&bA(h,"transform","rotate("+this.rotation+" "+e+" "+br(b.y||bA(h,"y"))+")")}else if(d==="fill")e=j.color(e,h,d);else if(i!=="circle"||d!=="x"&&d!=="y"){if(d==="translateX"||d==="translateY"||d==="rotation"||d==="verticalAlign")this[d]=e,this.updateTransform(),k=!0;else if(d==="stroke")e=j.color(e,h,d);else if(d==="dashstyle"){d="stroke-dasharray",e=e&&e.toLowerCase();if(e==="solid")e=N;else if(e){e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),f=e.length;while(f--)e[f]=br(e[f])*b["stroke-width"];e=e.join(",")}}else if(d==="isTracker")this[d]=e;else if(d==="width")e=br(e);else if(d==="align")d="text-anchor",e={left:"start",center:"middle",right:"end"}[e];else if(d==="title"){var p=a.createElementNS(s,"title");p.appendChild(a.createTextNode(e)),h.appendChild(p)}}else d={x:"cx",y:"cy"}[d]||d;d==="strokeWidth"&&(d="stroke-width"),q&&d==="stroke-width"&&e===0&&(e=1e-6),this.symbolName&&/^(x|y|r|start|end|innerR)/.test(d)&&(n||(this.symbolAttr(b),n=!0),k=!0);if(l&&/^(width|height|visibility|x|y|d)$/.test(d)){f=l.length;while(f--)bA(l[f],d,e)}(d==="width"||d==="height")&&i==="rect"&&e<0&&(e=0),d==="text"?(this.textStr=e,this.added&&j.buildText(this)):k||bA(h,d,e);if(m&&(d==="x"||d==="y"||d==="translateX"||d==="translateY"||d==="visibility")){var r=this,t,u=m.length?m:[this],v=u.length,w,x;for(x=0;x<v;x++)w=u[x],t=w.getBBox(),m=w.htmlNode,bD(m,bq(r.styles,{left:t.x+(r.translateX||0)+M,top:t.y+(r.translateY||0)+M})),d==="visibility"&&bD(m,{visibility:e})}}return o},symbolAttr:function(a){var b=this;bg(["x","y","r","start","end","width","height","innerR"],function(c){b[c]=bC(a[c],b[c])}),b.attr({d:b.renderer.symbols[b.symbolName](d(b.x*2)/2,d(b.y*2)/2,b.r,{start:b.start,end:b.end,width:b.width,height:b.height,innerR:b.innerR})})},clip:function(a){return this.attr("clip-path","url("+this.renderer.url+"#"+a.id+")")},crisp:function(a,b,c,d,f){var g=this,h,i={},j={},k;a=a||g.strokeWidth||0,k=a%2/2,j.x=e(b||g.x||0)+k,j.y=e(c||g.y||0)+k,j.width=e((d||g.width||0)-2*k),j.height=e((f||g.height||0)-2*k),j.strokeWidth=a;for(h in j)g[h]!==j[h]&&(g[h]=i[h]=j[h]);return i},css:function(a){var b=this,c=b.element,d=a&&a.width&&c.nodeName==="text",e,f="",g=function(a,b){return"-"+b.toLowerCase()};a&&a.color&&(a.fill=a.color),a=bq(b.styles,a),b.styles=a;if(o&&!t)d&&delete a.width,bD(b.element,a);else{for(e in a)f+=e.replace(/([A-Z])/g,g)+":"+a[e]+";";b.attr({style:f})}return d&&b.added&&b.renderer.buildText(b),b},on:function(a,b){var c=b;return w&&a==="click"&&(a="touchstart",c=function(a){a.preventDefault(),b()}),this.element["on"+a]=c,this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){var a=this;return a.inverted=!0,a.updateTransform(),a},updateTransform:function(){var a=this,b=a.translateX||0,c=a.translateY||0,d=a.inverted,e=a.rotation,f=[];d&&(b+=a.attr("width"),c+=a.attr("height")),(b||c)&&f.push("translate("+b+","+c+")"),d?f.push("rotate(90) scale(-1,1)"):e&&f.push("rotate("+e+" "+a.x+" "+a.y+")"),f.length&&bA(a.element,"transform",f.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(a,b,c){var e=this;a?(e.alignOptions=a,e.alignByTranslate=b,c||e.renderer.alignedObjects.push(e)):(a=e.alignOptions,b=e.alignByTranslate),c=bC(c,e.renderer);var f=a.align,g=a.verticalAlign,h=(c.x||0)+(a.x||0),i=(c.y||0)+(a.y||0),j={};return/^(right|center)$/.test(f)&&(h+=(c.width-(a.width||0))/{right:1,center:2}[f]),j[b?"translateX":"x"]=d(h),/^(bottom|middle)$/.test(g)&&(i+=(c.height-(a.height||0))/({bottom:1,middle:2}[g]||1)),j[b?"translateY":"y"]=d(i),e[e.placed?"animate":"attr"](j),e.placed=!0,e.alignAttr=j,e},getBBox:function(){var a,b,c,d=this.rotation,e=d*m;try{a=bq({},this.element.getBBox())}catch(f){a={width:0,height:0}}return b=a.width,c=a.height,d&&(a.width=i(c*k(e))+i(b*j(e)),a.height=i(c*j(e))+i(b*k(e))),a},show:function(){return this.attr({visibility:L})},hide:function(){return this.attr({visibility:J})},add:function(a){var b=this.renderer,c=a||b,d=c.element||b.box,e=d.childNodes,f=this.element,g=bA(f,"zIndex"),h,i,j;this.parentInverted=a&&a.inverted,this.textStr!==undefined&&b.buildText(this),a&&this.htmlNode&&(a.htmlNode||(a.htmlNode=[]),a.htmlNode.push(this)),g&&(c.handleZ=!0,g=br(g));if(c.handleZ)for(j=0;j<e.length;j++){h=e[j],i=bA(h,"zIndex");if(h!==f&&(br(i)>g||!bz(g)&&bz(i)))return d.insertBefore(f,h),this}return d.appendChild(f),this.added=!0,this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var a=this,b=a.element||{},c=a.shadows,d,e;b.onclick=b.onmouseout=b.onmouseover=b.onmousemove=null,bo(a),a.clipPath&&(a.clipPath=a.clipPath.destroy());if(a.stops){for(e=0;e<a.stops.length;e++)a.stops[e]=a.stops[e].destroy();a.stops=null}a.safeRemoveChild(b),c&&bg(c,function(b){a.safeRemoveChild(b)}),by(a.renderer.alignedObjects,a);for(d in a)delete a[d];return null},empty:function(){var a=this.element,b=a.childNodes,c=b.length;while(c--)a.removeChild(b[c])},shadow:function(a,b){var c=[],d,e,f=this.element,g=this.parentInverted?"(-1,-1)":"(1,1)";if(a){for(d=1;d<=3;d++)e=f.cloneNode(0),bA(e,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":.05*d,"stroke-width":7-2*d,transform:"translate"+g,fill:N}),b?b.element.appendChild(e):f.parentNode.insertBefore(e,f),c.push(e);this.shadows=c}return this}};var cd=function(){this.init.apply(this,arguments)};cd.prototype={Element:cc,init:function(a,b,c,d){var e=this,f=location,g;g=e.createElement("svg").attr({xmlns:s,version:"1.1"}),a.appendChild(g.element),e.box=g.element,e.boxWrapper=g,e.alignedObjects=[],e.url=o?"":f.href.replace(/#.*?$/,""),e.defs=this.createElement("defs").add(),e.forExport=d,e.gradients=[],e.setSize(b,c,!1)},destroy:function(){var a=this,b,c=a.gradients,d=a.defs;a.box=null,a.boxWrapper=a.boxWrapper.destroy();if(c){for(b=0;b<c.length;b++)a.gradients[b]=c[b].destroy();a.gradients=null}return d&&(a.defs=d.destroy()),a.alignedObjects=null,null},createElement:function(a){var b=new this.Element;return b.init(this,a),b},buildText:function(c){var d=c.element,e=bC(c.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),f=d.childNodes,g=/style="([^"]+)"/,h=/href="([^"]+)"/,i=bA(d,"x"),j=c.styles,k=j&&c.useHTML&&!this.forExport,l=c.htmlNode,m=j&&br(j.width),n=j&&j.lineHeight,o,p="getComputedStyle",q=f.length;while(q--)d.removeChild(f[q]);m&&!c.added&&this.box.appendChild(d),bg(e,function(e,f){var j,k=0,l;e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),j=e.split("|||"),bg(j,function(e){if(e!==""||j.length===1){var q={},r=a.createElementNS(s,"tspan");g.test(e)&&bA(r,"style",e.match(g)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),h.test(e)&&(bA(r,"onclick",'location.href="'+e.match(h)[1]+'"'),bD(r,{cursor:"pointer"})),e=(e.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),r.appendChild(a.createTextNode(e)),k?q.dx=3:q.x=i;if(!k){if(f){!t&&c.renderer.forExport&&bD(r,{display:"block"}),l=b[p]&&br(b[p](o,null).getPropertyValue("line-height"));if(!l||isNaN(l))l=n||o.offsetHeight||18;bA(r,"dy",l)}o=r}bA(r,q),d.appendChild(r),k++;if(m){var u=e.replace(/-/g,"- ").split(" "),v,w,x=[];while(u.length||x.length)w=d.getBBox().width,v=w>m,!v||u.length===1?(u=x,x=[],u.length&&(r=a.createElementNS(s,"tspan"),bA(r,{dy:n||16,x:i}),d.appendChild(r),w>m&&(m=w))):(r.removeChild(r.firstChild),x.unshift(u.pop())),u.length&&r.appendChild(a.createTextNode(u.join(" ").replace(/- /g,"-")))}}})});if(k){l||(l=c.htmlNode=bE("span",null,bq(j,{position:H,top:0,left:0}),this.box.parentNode)),l.innerHTML=c.textStr,q=f.length;while(q--)f[q].style.visibility=J}},crispLine:function(a,b){return a[1]===a[4]&&(a[1]=a[4]=d(a[1])+b%2/2),a[2]===a[5]&&(a[2]=a[5]=d(a[2])+b%2/2),a},path:function(a){return this.createElement("path").attr({d:a,fill:N})},circle:function(a,b,c){var d=bt(a)?a:{x:a,y:b,r:c};return this.createElement("circle").attr(d)},arc:function(a,b,c,d,e,f){return bt(a)&&(b=a.y,c=a.r,d=a.innerR,e=a.start,f=a.end,a=a.x),this.symbol("arc",a||0,b||0,c||0,{innerR:d||0,start:e||0,end:f||0})},rect:function(a,b,c,d,e,f){bt(a)&&(b=a.y,c=a.width,d=a.height,e=a.r,f=a.strokeWidth,a=a.x);var h=this.createElement("rect").attr({rx:e,ry:e,fill:N});return h.attr(h.crisp(f,a,b,g(c,0),g(d,0)))},setSize:function(a,b,c){var d=this,e=d.alignedObjects,f=e.length;d.width=a,d.height=b,d.boxWrapper[bC(c,!0)?"animate":"attr"]({width:a,height:b});while(f--)e[f].align()},g:function(a){var b=this.createElement("g");return bz(a)?b.attr({"class":K+a}):b},image:function(a,b,c,d,e){var f={preserveAspectRatio:N},g;return arguments.length>1&&bq(f,{x:b,y:c,width:d,height:e}),g=this.createElement("image").attr(f),g.element.setAttributeNS?g.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):g.element.setAttribute("hc-svg-href",a),g},symbol:function(a,b,c,e,f){var g,h=this.symbols[a],i=h&&h(d(b),d(c),e,f),j=/^url\((.*?)\)$/,k,l;if(i)g=this.path(i),bq(g,{symbolName:a,x:b,y:c,r:e}),f&&bq(g,f);else if(j.test(a)){var m=function(a,b){a.attr({width:b[0],height:b[1]}).translate(-d(b[0]/2),-d(b[1]/2))};k=a.match(j)[1],l=x[k],g=this.image(k).attr({x:b,y:c}),l?m(g,l):(g.attr({width:0,height:0}),bE("img",{onload:function(){var a=this;m(g,x[k]=[a.width,a.height])},src:k}))}else g=this.circle(b,c,e);return g},symbols:{square:function(a,b,c){var d=.707*c;return[O,a-d,b-d,P,a+d,b-d,a+d,b+d,a-d,b+d,"Z"]},triangle:function(a,b,c){return[O,a,b-1.33*c,P,a+c,b+.67*c,a-c,b+.67*c,"Z"]},"triangle-down":function(a,b,c){return[O,a,b+1.33*c,P,a-c,b-.67*c,a+c,b-.67*c,"Z"]},diamond:function(a,b,c){return[O,a,b-c,P,a+c,b,a,b+c,a-c,b,"Z"]},arc:function(a,b,c,d){var e=d.start,f=d.end-1e-6,g=d.innerR,h=j(e),i=k(e),m=j(f),n=k(f),o=d.end-e<l?0:1;return[O,a+c*h,b+c*i,"A",c,c,0,o,1,a+c*m,b+c*n,P,a+g*m,b+g*n,"A",g,g,0,o,0,a+g*h,b+g*i,"Z"]}},clipRect:function(a,b,c,d){var e,f=K+y++,g=this.createElement("clipPath").attr({id:f}).add(this.defs);return e=this.rect(a,b,c,d,0).add(g),e.id=f,e.clipPath=g,e},color:function(a,b,c){var d,e=/^rgba/;if(a&&a.linearGradient){var f=this,g="linearGradient",h=a[g],i=K+y++,j,k,l;return j=f.createElement(g).attr({id:i,gradientUnits:"userSpaceOnUse",x1:h[0],y1:h[1],x2:h[2],y2:h[3]}).add(f.defs),f.gradients.push(j),j.stops=[],bg(a.stops,function(a){var b;e.test(a[1])?(d=cb(a[1]),k=d.get("rgb"),l=d.get("a")):(k=a[1],l=1),b=f.createElement("stop").attr({offset:a[0],"stop-color":k,"stop-opacity":l}).add(j),j.stops.push(b)}),"url("+this.url+"#"+i+")"}return e.test(a)?(d=cb(a),bA(b,c+"-opacity",d.get("a")),d.get("rgb")):(b.removeAttribute(c+"-opacity"),a)},text:function(a,b,c,e){var f=B.chart.style,g;return b=d(bC(b,0)),c=d(bC(c,0)),g=this.createElement("text").attr({x:b,y:c,text:a}).css({fontFamily:f.fontFamily,fontSize:f.fontSize}),g.x=b,g.y=c,g.useHTML=e,g}},v=cd;var ce;if(!t){var cf=bF(cc,{init:function(a,b){var c=["<",b,' filled="f" stroked="f"'],d=["position: ",H,";"];(b==="shape"||b===G)&&d.push("left:0;top:0;width:10px;height:10px;"),p&&d.push("visibility: ",b===G?J:L),c.push(' style="',d.join(""),'"/>'),b&&(c=b===G||b==="span"||b==="img"?c.join(""):a.prepVML(c),this.element=bE(c)),this.renderer=a},add:function(a){var b=this,c=b.renderer,d=b.element,e=c.box,f=a&&a.inverted,g=a?a.element||a:e;return f&&c.invertChild(d,g),p&&g.gVis===J&&bD(d,{visibility:J}),g.appendChild(d),b.added=!0,b.alignOnAdd&&b.updateTransform(),b},attr:function(a,b){var c,e,f,g=this.element||{},h=g.style,i=g.nodeName,j=this.renderer,k=this.symbolName,l,m,n=this.shadows,o,q=this;bs(a)&&bz(b)&&(c=a,a={},a[c]=b);if(bs(a))c=a,c==="strokeWidth"||c==="stroke-width"?q=this.strokeweight:q=this[c];else for(c in a){e=a[c],o=!1;if(k&&/^(x|y|r|start|end|width|height|innerR)/.test(c))m||(this.symbolAttr(a),m=!0),o=!0;else if(c==="d"){e=e||[],this.d=e.join(" "),f=e.length;var r=[];while(f--)bv(e[f])?r[f]=d(e[f]*10)-5:e[f]==="Z"?r[f]="x":r[f]=e[f];e=r.join(" ")||"x",g.path=e;if(n){f=n.length;while(f--)n[f].path=e}o=!0}else if(c==="zIndex"||c==="visibility"){if(p&&c==="visibility"&&i==="DIV"){g.gVis=e,l=g.childNodes,f=l.length;while(f--)bD(l[f],{visibility:e});e===L&&(e=null)}e&&(h[c]=e),o=!0}else if(/^(width|height)$/.test(c))this[c]=e,this.updateClipping?(this[c]=e,this.updateClipping()):h[c]=e,o=!0;else if(/^(x|y)$/.test(c))this[c]=e,g.tagName==="SPAN"?this.updateTransform():h[{x:"left",y:"top"}[c]]=e;else if(c==="class")g.className=e;else if(c==="stroke")e=j.color(e,g,c),c="strokecolor";else if(c==="stroke-width"||c==="strokeWidth")g.stroked=e?!0:!1,c="strokeweight",this[c]=e,bv(e)&&(e+=M);else if(c==="dashstyle"){var s=g.getElementsByTagName("stroke")[0]||bE(j.prepVML(["<stroke/>"]),null,null,g);s[c]=e||"solid",this.dashstyle=e,o=!0}else c==="fill"?i==="SPAN"?h.color=e:(g.filled=e!==N?!0:!1,e=j.color(e,g,c),c="fillcolor"):c==="translateX"||c==="translateY"||c==="rotation"||c==="align"?(c==="align"&&(c="textAlign"),this[c]=e,this.updateTransform(),o=!0):c==="text"&&(this.bBox=null,g.innerHTML=e,o=!0);if(n&&c==="visibility"){f=n.length;while(f--)n[f].style[c]=e}o||(p?g[c]=e:bA(g,c,e))}return q},clip:function(a){var b=this,c=a.members;return c.push(b),b.destroyClip=function(){by(c,b)},b.css(a.getCSS(b.inverted))},css:function(a){var b=this,c=b.element,d=a&&c.tagName==="SPAN"&&a.width;return d&&(delete a.width,b.textWidth=d,b.updateTransform()),b.styles=bq(b.styles,a),bD(b.element,a),b},safeRemoveChild:function(a){var b=a.parentNode;b&&bT(a)},destroy:function(){var a=this;return a.destroyClip&&a.destroyClip(),cc.prototype.destroy.apply(a)},empty:function(){var a=this.element,b=a.childNodes,c=b.length,d;while(c--)d=b[c],d.parentNode.removeChild(d)},getBBox:function(){var a=this,b=a.element,c=a.bBox;return c||(b.nodeName==="text"&&(b.style.position=H),c=a.bBox={x:b.offsetLeft,y:b.offsetTop,width:b.offsetWidth,height:b.offsetHeight}),c},on:function(a,c){return this.element["on"+a]=function(){var a=b.event;a.target=a.srcElement,c(a)},this},updateTransform:function(){if(!this.added){this.alignOnAdd=!0;return}var a=this,b=a.element,c=a.translateX||0,e=a.translateY||0,f=a.x||0,g=a.y||0,h=a.textAlign||"left",i={left:0,center:.5,right:1}[h],l=h&&h!=="left";(c||e)&&a.css({marginLeft:c,marginTop:e}),a.inverted&&bg(b.childNodes,function(c){a.renderer.invertChild(c,b)});if(b.tagName==="SPAN"){var n,o,p=a.rotation,q,r=0,s=1,t=0,u,v=br(a.textWidth),w=a.xCorr||0,x=a.yCorr||0,y=[p,h,b.innerHTML,a.textWidth].join(",");y!==a.cTT&&(bz(p)&&(r=p*m,s=j(r),t=k(r),bD(b,{filter:p?["progid:DXImageTransform.Microsoft.Matrix(M11=",s,", M12=",-t,", M21=",t,", M22=",s,", sizingMethod='auto expand')"].join(""):N})),n=b.offsetWidth,o=b.offsetHeight,n>v&&(bD(b,{width:v+M,display:"block",whiteSpace:"normal"}),n=v),q=d((br(b.style.fontSize)||12)*1.2),w=s<0&&-n,x=t<0&&-o,u=s*t<0,w+=t*q*(u?1-i:i),x-=s*q*(p?u?i:1-i:1),l&&(w-=n*i*(s<0?-1:1),p&&(x-=o*i*(t<0?-1:1)),bD(b,{textAlign:h})),a.xCorr=w,a.yCorr=x),bD(b,{left:f+w,top:g+x}),a.cTT=y}},shadow:function(a,b){var c=[],d,e=this.element,f=this.renderer,g,h=e.style,i,j=e.path;j&&typeof j.value!="string"&&(j="x");if(a){for(d=1;d<=3;d++)i=['<shape isShadow="true" strokeweight="',7-2*d,'" filled="false" path="',j,'" coordsize="100,100" style="',e.style.cssText,'" />'],g=bE(f.prepVML(i),null,{left:br(h.left)+1,top:br(h.top)+1}),i=['<stroke color="black" opacity="',.05*d,'"/>'],bE(f.prepVML(i),null,null,g),b?b.element.appendChild(g):e.parentNode.insertBefore(g,e),c.push(g);this.shadows=c}return this}});ce=function(){this.init.apply(this,arguments)},ce.prototype=bj(cd.prototype,{Element:cf,isIE8:n.indexOf("MSIE 8.0")>-1,init:function(b,c,d){var e=this,f;e.alignedObjects=[],f=e.createElement(G),b.appendChild(f.element),e.box=f.element,e.boxWrapper=f,e.setSize(c,d,!1),a.namespaces.hcv||(a.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),a.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},clipRect:function(a,b,c,e){var f=this.createElement();return bq(f,{members:[],left:a,top:b,width:c,height:e,getCSS:function(a){var b=this,c=b.top,e=b.left,f=e+b.width,g=c+b.height,h={clip:"rect("+d(a?e:c)+"px,"+d(a?g:f)+"px,"+d(a?f:g)+"px,"+d(a?c:e)+"px)"};return!a&&p&&bq(h,{width:f+M,height:g+M}),h},updateClipping:function(){bg(f.members,function(a){a.css(f.getCSS(a.inverted))})}})},color:function(a,b,d){var e,f=/^rgba/,g;if(!a||!a.linearGradient){if(f.test(a)&&b.tagName!=="IMG")return e=cb(a),g=["<",d,' opacity="',e.get("a"),'"/>'],bE(this.prepVML(g),null,null,b),e.get("rgb");var q=b.getElementsByTagName(d);return q.length&&(q[0].opacity=1),a}var h,i,j=a.linearGradient,k,m,n,o,p;bg(a.stops,function(a,b){f.test(a[1])?(e=cb(a[1]),h=e.get("rgb"),i=e.get("a")):(h=a[1],i=1),b?(o=h,p=i):(m=h,n=i)}),k=90-c.atan((j[3]-j[1])/(j[2]-j[0]))*180/l,g=["<",d,' colors="0% ',m,",100% ",o,'" angle="',k,'" opacity="',p,'" o:opacity2="',n,'" type="gradient" focus="100%" />'],bE(this.prepVML(g),null,null,b)},prepVML:function(a){var b="display:inline-block;behavior:url(#default#VML);",c=this.isIE8;return a=a.join(""),c?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a.indexOf('style="')===-1?a=a.replace("/>",' style="'+b+'" />'):a=a.replace('style="','style="'+b)):a=a.replace("<","<hcv:"),a},text:function(a,b,c){var e=B.chart.style;return this.createElement("span").attr({text:a,x:d(b),y:d(c)}).css({whiteSpace:"nowrap",fontFamily:e.fontFamily,fontSize:e.fontSize})},path:function(a){return this.createElement("shape").attr({coordsize:"100 100",d:a})},circle:function(a,b,c){return this.symbol("circle").attr({x:a,y:b,r:c})},g:function(a){var b,c;return a&&(c={className:K+a,"class":K+a}),b=this.createElement(G).attr(c),b},image:function(a,b,c,d,e){var f=this.createElement("img").attr({src:a});return arguments.length>1&&f.css({left:b,top:c,width:d,height:e}),f},rect:function(a,b,c,d,e,f){bt(a)&&(b=a.y,c=a.width,d=a.height,e=a.r,f=a.strokeWidth,a=a.x);var h=this.symbol("rect");return h.r=e,h.attr(h.crisp(f,a,b,g(c,0),g(d,0)))},invertChild:function(a,b){var c=b.style;bD(a,{flip:"x",left:br(c.width)-10,top:br(c.height)-10,rotation:-90})},symbols:{arc:function(a,b,c,d){var e=d.start,f=d.end,g=j(e),h=k(e),i=j(f),m=k(f),n=d.innerR,o=.07/c,p=n&&.1/n||0;return f-e===0?["x"]:(2*l-f+e<o?i=-o:f-e<p&&(i=j(e+p)),["wa",a-c,b-c,a+c,b+c,a+c*g,b+c*h,a+c*i,b+c*m,"at",a-n,b-n,a+n,b+n,a+n*i,b+n*m,a+n*g,b+n*h,"x","e"])},circle:function(a,b,c){return["wa",a-c,b-c,a+c,b+c,a+c,b,a+c,b,"e"]},rect:function(a,b,c,d){if(!bz(d))return[];var e=d.width,f=d.height,g=a+e,i=b+f;return c=h(c,e,f),[O,a+c,b,P,g-c,b,"wa",g-2*c,b,g,b+2*c,g-c,b,g,b+c,P,g,i-c,"wa",g-2*c,i-2*c,g,i,g,i-c,g-c,i,P,a+c,i,"wa",a,i-2*c,a+2*c,i,a+c,i,a,i-c,P,a,b+c,"wa",a,b,a+2*c,b+2*c,a,b+c,a+c,b,"x","e"]}}}),v=ce}cg.prototype.callbacks=[];var ch=function(){};ch.prototype={init:function(a,b){var c=this,d=a.chart.counters,e;return c.series=a,c.applyOptions(b),c.pointAttr={},a.options.colorByPoint&&(e=a.chart.options.colors,c.options||(c.options={}),c.color=c.options.color=c.color||e[d.color++],d.wrapColor(e.length)),a.chart.pointCount++,c},applyOptions:function(a){var b=this,c=b.series;b.config=a,bv(a)||a===null?b.y=a:bt(a)&&!bv(a.length)?(bq(b,a),b.options=a):bs(a[0])?(b.name=a[0],b.y=a[1]):bv(a[0])&&(b.x=a[0],b.y=a[1]),b.x===F&&(b.x=c.autoIncrement())},destroy:function(){var a=this,b=a.series,c=b.chart.hoverPoints,d;b.chart.pointCount--,c&&(a.setState(),by(c,a)),a===b.chart.hoverPoint&&a.onMouseOut(),bl(a),bg(["graphic","tracker","group","dataLabel","connector","shadowGroup"],function(b){a[b]&&a[b].destroy()}),a.legendItem&&a.series.chart.legend.destroyItem(a);for(d in a)a[d]=null},getLabelConfig:function(){var a=this;return{x:a.category,y:a.y,series:a.series,point:a,percentage:a.percentage,total:a.total||a.stackTotal}},select:function(a,b){var c=this,d=c.series,e=d.chart;a=bC(a,!c.selected),c.firePointEvent(a?"select":"unselect",{accumulate:b},function(){c.selected=a,c.setState(a&&T),b||bg(e.getSelectedPoints(),function(a){a.selected&&a!==c&&(a.selected=!1,a.setState(R),a.firePointEvent("unselect"))})})},onMouseOver:function(){var a=this,b=a.series.chart,c=b.tooltip,d=b.hoverPoint;d&&d!==a&&d.onMouseOut(),a.firePointEvent("mouseOver"),c&&!c.shared&&c.refresh(a),a.setState(S),b.hoverPoint=a},onMouseOut:function(){var a=this;a.firePointEvent("mouseOut"),a.setState(),a.series.chart.hoverPoint=null},tooltipFormatter:function(a){var b=this,c=b.series;return['<span style="color:'+c.color+'">',b.name||c.name,"</span>: ",a?"":"<b>x = "+(b.name||b.x)+",</b> ","<b>",a?"":"y = ",b.y,"</b>"].join("")},update:function(a,b,c){var d=this,e=d.series,f=d.graphic,g=e.chart;b=bC(b,!0),d.firePointEvent("update",{options:a},function(){d.applyOptions(a),bt(a)&&(e.getAttribs(),f&&f.attr(d.pointAttr[e.state])),e.isDirty=!0,b&&g.redraw(c)})},remove:function(a,b){var c=this,d=c.series,e=d.chart,f=d.data;bM(b,e),a=bC(a,!0),c.firePointEvent("remove",null,function(){by(f,c),c.destroy(),d.isDirty=!0,a&&e.redraw()})},firePointEvent:function(a,b,c){var d=this,e=this.series,f=e.options;(f.point.events[a]||d.options&&d.options.events&&d.options.events[a])&&this.importEvents(),a==="click"&&f.allowPointSelect&&(c=function(a){d.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),bm(this,a,b,c)},importEvents:function(){if(!this.hasImportedEvents){var a=this,b=bj(a.series.options.point,a.options),c=b.events,d;a.events=c;for(d in c)bk(a,d,c[d]);this.hasImportedEvents=!0}},setState:function(a){var b=this,c=b.series,d=c.options.states,e=b_[c.type].marker&&c.options.marker,f=e&&!e.enabled,g=e&&e.states[a],h=g&&g.enabled===!1,i=c.stateMarkerGraphic,j=c.chart,k=b.pointAttr;a=a||R;if(a===b.state||b.selected&&a!==T||d[a]&&d[a].enabled===!1||a&&(h||f&&!g.enabled))return;b.graphic?b.graphic.attr(k[a]):(a&&(i||(c.stateMarkerGraphic=i=j.renderer.circle(0,0,k[a].r).attr(k[a]).add(c.group)),i.translate(b.plotX,b.plotY)),i&&i[a?"show":"hide"]()),b.state=a}};var ci=function(){};ci.prototype={isCartesian:!0,type:"line",pointClass:ch,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(a,b){var c=this,d,e,f=a.series.length;c.chart=a,b=c.setOptions(b),bq(c,{index:f,options:b,name:b.name||"Series "+(f+1),state:R,pointAttr:{},visible:b.visible!==!1,selected:b.selected===!0}),e=b.events;for(d in e)bk(c,d,e[d]);if(e&&e.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)a.runTrackerClick=!0;c.getColor(),c.getSymbol(),c.setData(b.data,!1)},autoIncrement:function(){var a=this,b=a.options,c=a.xIncrement;return c=bC(c,b.pointStart,0),a.pointInterval=bC(a.pointInterval,b.pointInterval,1),a.xIncrement=c+a.pointInterval,c},cleanData:function(){var a=this,b=a.chart,c=a.data,d,e,f=b.smallestInterval,g,h;bK(c,function(a,b){return a.x-b.x});if(a.options.connectNulls)for(h=c.length-1;h>=0;h--)c[h].y===null&&c[h-1]&&c[h+1]&&c.splice(h,1);for(h=c.length-1;h>=0;h--)c[h-1]&&(g=c[h].x-c[h-1].x,g>0&&(e===F||g<e)&&(e=g,d=h));if(f===F||e<f)b.smallestInterval=e;a.closestPoints=d},getSegments:function(){var a=-1,b=[],c=
this.data;bg(c,function(d,e){d.y===null?(e>a+1&&b.push(c.slice(a+1,e)),a=e):e===c.length-1&&b.push(c.slice(a+1,e+1))}),this.segments=b},setOptions:function(a){var b=this.chart.options.plotOptions,c=bj(b[this.type],b.series,a);return c},getColor:function(){var a=this.chart.options.colors,b=this.chart.counters;this.color=this.options.color||a[b.color++]||"#0000ff",b.wrapColor(a.length)},getSymbol:function(){var a=this.chart.options.symbols,b=this.chart.counters;this.symbol=this.options.marker.symbol||a[b.symbol++],b.wrapSymbol(a.length)},addPoint:function(a,b,c,d){var e=this,f=e.data,g=e.graph,h=e.area,i=e.chart,j=(new e.pointClass).init(e,a);bM(d,i),g&&c&&(g.shift=c),h&&(h.shift=c,h.isArea=!0),b=bC(b,!0),f.push(j),c&&f[0].remove(!1),e.getAttribs(),e.isDirty=!0,b&&i.redraw()},setData:function(a,b){var c=this,d=c.data,e=c.initialColor,f=c.chart,g=d&&d.length||0;c.xIncrement=null,bz(e)&&(f.counters.color=e),a=bi(bB(a||[]),function(a){return(new c.pointClass).init(c,a)});while(g--)d[g].destroy();c.data=a,c.cleanData(),c.getSegments(),c.getAttribs(),c.isDirty=!0,f.isDirtyBox=!0,bC(b,!0)&&f.redraw(!1)},remove:function(a,b){var c=this,d=c.chart;a=bC(a,!0),c.isRemoving||(c.isRemoving=!0,bm(c,"remove",null,function(){c.destroy(),d.isDirtyLegend=d.isDirtyBox=!0,a&&d.redraw(b)})),c.isRemoving=!1},translate:function(){var a=this,b=a.chart,c=a.options.stacking,d=a.xAxis.categories,e=a.yAxis,f=a.data,g=f.length;while(g--){var h=f[g],i=h.x,j=h.y,k=h.low,l=e.stacks[(j<0?"-":"")+a.stackKey],m,n;h.plotX=a.xAxis.translate(i),c&&a.visible&&l&&l[i]&&(m=l[i],n=m.total,m.cum=k=m.cum-j,j=k+j,c==="percent"&&(k=n?k*100/n:0,j=n?j*100/n:0),h.percentage=n?h.y*100/n:0,h.stackTotal=n),bz(k)&&(h.yBottom=e.translate(k,0,1,0,1)),j!==null&&(h.plotY=e.translate(j,0,1,0,1)),h.clientX=b.inverted?b.plotHeight-h.plotX:h.plotX,h.category=d&&d[h.x]!==F?d[h.x]:h.x}},setTooltipPoints:function(a){var b=this,c=b.chart,f=c.inverted,g=[],h=d((f?c.plotTop:c.plotLeft)+c.plotSizeX),i,j,k=[];a&&(b.tooltipPoints=null),bg(b.segments,function(a){g=g.concat(a)}),b.xAxis&&b.xAxis.reversed&&(g=g.reverse()),bg(g,function(a,b){i=g[b-1]?g[b-1]._high+1:0,j=a._high=g[b+1]?e((a.plotX+(g[b+1]?g[b+1].plotX:h))/2):h;while(i<=j)k[f?h-i++:i++]=a}),b.tooltipPoints=k},onMouseOver:function(){var a=this,b=a.chart,c=b.hoverSeries;if(!w&&b.mouseIsDown)return;c&&c!==a&&c.onMouseOut(),a.options.events.mouseOver&&bm(a,"mouseOver"),a.tracker&&a.tracker.toFront(),a.setState(S),b.hoverSeries=a},onMouseOut:function(){var a=this,b=a.options,c=a.chart,d=c.tooltip,e=c.hoverPoint;e&&e.onMouseOut(),a&&b.events.mouseOut&&bm(a,"mouseOut"),d&&!b.stickyTracking&&d.hide(),a.setState(),c.hoverSeries=null},animate:function(a){var b=this,c=b.chart,d=b.clipRect,e=b.options.animation;e&&!bt(e)&&(e={}),a?d.isAnimating||(d.attr("width",0),d.isAnimating=!0):(d.animate({width:c.plotSizeX},e),this.animate=null)},drawPoints:function(){var a=this,b,c=a.data,d=a.chart,e,f,g,h,i,j;if(a.options.marker.enabled){g=c.length;while(g--)h=c[g],e=h.plotX,f=h.plotY,j=h.graphic,f!==F&&!isNaN(f)&&(b=h.pointAttr[h.selected?T:R],i=b.r,j?j.animate({x:e,y:f,r:i}):h.graphic=d.renderer.symbol(bC(h.marker&&h.marker.symbol,a.symbol),e,f,i).attr(b).add(a.group))}},convertAttribs:function(a,b,c,d){var e=this.pointAttrToOptions,f,g,h={};a=a||{},b=b||{},c=c||{},d=d||{};for(f in e)g=e[f],h[f]=bC(a[g],b[f],c[f],d[f]);return h},getAttribs:function(){var a=this,b=b_[a.type].marker?a.options.marker:a.options,c=b.states,d=c[S],e,f=a.color,g={stroke:f,fill:f},h=a.data,i,j,k=[],l,m=a.pointAttrToOptions,n,o;a.options.marker?(d.radius=d.radius||b.radius+2,d.lineWidth=d.lineWidth||b.lineWidth+1):d.color=d.color||cb(d.color||f).brighten(d.brightness).get(),k[R]=a.convertAttribs(b,g),bg([S,T],function(b){k[b]=a.convertAttribs(c[b],k[R])}),a.pointAttr=k,i=h.length;while(i--){j=h[i],b=j.options&&j.options.marker||j.options,b&&b.enabled===!1&&(b.radius=0),n=!1;if(j.options)for(o in m)bz(b[m[o]])&&(n=!0);n?(l=[],c=b.states||{},e=c[S]=c[S]||{},a.options.marker||(e.color=cb(e.color||j.options.color).brighten(e.brightness||d.brightness).get()),l[R]=a.convertAttribs(b,k[R]),l[S]=a.convertAttribs(c[S],k[S],l[R]),l[T]=a.convertAttribs(c[T],k[T],l[R])):l=k,j.pointAttr=l}},destroy:function(){var a=this,b=a.chart,c=a.clipRect,d=/\/5[0-9\.]+ (Safari|Mobile)\//.test(n),e,f;bm(a,"destroy"),bl(a),a.legendItem&&a.chart.legend.destroyItem(a),bg(a.data,function(a){a.destroy()}),c&&c!==b.clipRect&&(a.clipRect=c.destroy()),bg(["area","graph","dataLabelsGroup","group","tracker"],function(b){a[b]&&(e=d&&b==="group"?"hide":"destroy",a[b][e]())}),b.hoverSeries===a&&(b.hoverSeries=null),by(b.series,a);for(f in a)delete a[f]},drawDataLabels:function(){if(this.options.dataLabels.enabled){var a=this,b,c,d=a.data,e=a.options,f=e.dataLabels,g,h=a.dataLabelsGroup,i=a.chart,j=i.renderer,k=i.inverted,l=a.type,m,n=e.stacking,o=l==="column"||l==="bar",p=f.verticalAlign===null,q=f.y===null;o&&(n?(p&&(f=bj(f,{verticalAlign:"middle"})),q&&(f=bj(f,{y:{top:14,middle:4,bottom:-6}[f.verticalAlign]}))):p&&(f=bj(f,{verticalAlign:"top"}))),h?h.translate(i.plotLeft,i.plotTop):h=a.dataLabelsGroup=j.g("data-labels").attr({visibility:a.visible?L:J,zIndex:6}).translate(i.plotLeft,i.plotTop).add(),m=f.color,m==="auto"&&(m=null),f.style.color=bC(m,a.color,"black"),bg(d,function(a){var d=a.barX,m=d&&d+a.barW/2||a.plotX||-999,n=bC(a.plotY,-999),p=a.dataLabel,r=f.align,s=q?a.y>=0?-6:12:f.y;g=f.formatter.call(a.getLabelConfig()),b=(k?i.plotWidth-n:m)+f.x,c=(k?i.plotHeight-m:n)+s,l==="column"&&(b+={left:-1,right:1}[r]*a.barW/2||0),k&&a.y<0&&(r="right",b-=10),p?(k&&!f.y&&(c=c+br(p.styles.lineHeight)*.9-p.getBBox().height/2),p.attr({text:g}).animate({x:b,y:c})):bz(g)&&(p=a.dataLabel=j.text(g,b,c).attr({align:r,rotation:f.rotation,zIndex:1}).css(f.style).add(h),k&&!f.y&&p.attr({y:c+br(p.styles.lineHeight)*.9-p.getBBox().height/2}));if(o&&e.stacking&&p){var t=a.barY,u=a.barW,v=a.barH;p.align(f,null,{x:k?i.plotWidth-t-v:d,y:k?i.plotHeight-d-u:t,width:k?v:u,height:k?u:v})}})}},drawGraph:function(){var a=this,b=a.options,c=a.chart,d=a.graph,e=[],f,g=a.area,h=a.group,i=b.lineColor||a.color,j=b.lineWidth,k=b.dashStyle,l,m=c.renderer,n=a.yAxis.getThreshold(b.threshold||0),o=/^area/.test(a.type),p=[],q=[],r;bg(a.segments,function(c){l=[],bg(c,function(d,e){if(a.getPointSpline)l.push.apply(l,a.getPointSpline(c,d,e));else{l.push(e?P:O);if(e&&b.step){var f=c[e-1];l.push(d.plotX,f.plotY)}l.push(d.plotX,d.plotY)}}),c.length>1?e=e.concat(l):p.push(c[0]);if(o){var d=[],f,g=l.length;for(f=0;f<g;f++)d.push(l[f]);g===3&&d.push(P,l[1],l[2]);if(b.stacking&&a.type!=="areaspline")for(f=c.length-1;f>=0;f--)d.push(c[f].plotX,c[f].yBottom);else d.push(P,c[c.length-1].plotX,n,P,c[0].plotX,n);q=q.concat(d)}}),a.graphPath=e,a.singlePoints=p,o&&(f=bC(b.fillColor,cb(a.color).setOpacity(b.fillOpacity||.75).get()),g?g.animate({d:q}):a.area=a.chart.renderer.path(q).attr({fill:f}).add(h)),d?(bo(d),d.animate({d:e})):j&&(r={stroke:i,"stroke-width":j},k&&(r.dashstyle=k),a.graph=m.path(e).attr(r).add(h).shadow(b.shadow))},render:function(){var a=this,b=a.chart,c,d,e=a.options,f=e.animation,g=f&&a.animate,h=g?f&&f.duration||500:0,i=a.clipRect,j=b.renderer;i||(i=a.clipRect=!b.hasRendered&&b.clipRect?b.clipRect:j.clipRect(0,0,b.plotSizeX,b.plotSizeY),b.clipRect||(b.clipRect=i)),a.group||(c=a.group=j.g("series"),b.inverted&&(d=function(){c.attr({width:b.plotWidth,height:b.plotHeight}).invert()},d(),bk(b,"resize",d),bk(a,"destroy",function(){bl(b,"resize",d)})),c.clip(a.clipRect).attr({visibility:a.visible?L:J,zIndex:e.zIndex}).translate(b.plotLeft,b.plotTop).add(b.seriesGroup)),a.drawDataLabels(),g&&a.animate(!0),a.drawGraph&&a.drawGraph(),a.drawPoints(),a.options.enableMouseTracking!==!1&&a.drawTracker(),g&&a.animate(),setTimeout(function(){i.isAnimating=!1,c=a.group,c&&i!==b.clipRect&&i.renderer&&(c.clip(a.clipRect=b.clipRect),i.destroy())},h),a.isDirty=!1},redraw:function(){var a=this,b=a.chart,c=a.group;c&&(b.inverted&&c.attr({width:b.plotWidth,height:b.plotHeight}),c.animate({translateX:b.plotLeft,translateY:b.plotTop})),a.translate(),a.setTooltipPoints(!0),a.render()},setState:function(a){var b=this,c=b.options,d=b.graph,e=c.states,f=c.lineWidth;a=a||R;if(b.state!==a){b.state=a;if(e[a]&&e[a].enabled===!1)return;a&&(f=e[a].lineWidth||f+1),d&&!d.dashstyle&&d.attr({"stroke-width":f},a?0:500)}},setVisible:function(a,b){var c=this,d=c.chart,e=c.legendItem,f=c.group,g=c.tracker,h=c.dataLabelsGroup,i,j,k=c.data,l,m=d.options.chart.ignoreHiddenSeries,n=c.visible;c.visible=a=a===F?!n:a,i=a?"show":"hide",f&&f[i]();if(g)g[i]();else{j=k.length;while(j--)l=k[j],l.tracker&&l.tracker[i]()}h&&h[i](),e&&d.legend.colorizeItem(c,a),c.isDirty=!0,c.options.stacking&&bg(d.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)}),m&&(d.isDirtyBox=!0),b!==!1&&d.redraw(),bm(c,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){var b=this;b.selected=a=a===F?!b.selected:a,b.checkbox&&(b.checkbox.checked=a),bm(b,a?"select":"unselect")},drawTracker:function(){var a=this,b=a.options,c=[].concat(a.graphPath),d=c.length,e=a.chart,f=e.options.tooltip.snap,g=a.tracker,h=b.cursor,i=h&&{cursor:h},j=a.singlePoints,k,l;if(d){l=d+1;while(l--)c[l]===O&&c.splice(l+1,0,c[l+1]-f,c[l+2],P),(l&&c[l]===O||l===d)&&c.splice(l,0,P,c[l-2]+f,c[l-1])}for(l=0;l<j.length;l++)k=j[l],c.push(O,k.plotX-f,k.plotY,P,k.plotX+f,k.plotY);g?g.attr({d:c}):a.tracker=e.renderer.path(c).attr({isTracker:!0,stroke:Q,fill:N,"stroke-width":b.lineWidth+2*f,visibility:a.visible?L:J,zIndex:b.zIndex||1}).on(w?"touchstart":"mouseover",function(){e.hoverSeries!==a&&a.onMouseOver()}).on("mouseout",function(){b.stickyTracking||a.onMouseOut()}).css(i).add(e.trackerGroup)}};var cj=bF(ci);bp.line=cj;var ck=bF(ci,{type:"area"});bp.area=ck;var cl=bF(ci,{type:"spline",getPointSpline:function(a,b,c){var d=1.5,e=d+1,f=b.plotX,i=b.plotY,j=a[c-1],k=a[c+1],l,m,n,o,p;if(c&&c<a.length-1){var q=j.plotX,r=j.plotY,s=k.plotX,t=k.plotY,u;l=(d*f+q)/e,m=(d*i+r)/e,n=(d*f+s)/e,o=(d*i+t)/e,u=(o-m)*(n-f)/(n-l)+i-o,m+=u,o+=u,m>r&&m>i?(m=g(r,i),o=2*i-m):m<r&&m<i&&(m=h(r,i),o=2*i-m),o>t&&o>i?(o=g(t,i),m=2*i-o):o<t&&o<i&&(o=h(t,i),m=2*i-o),b.rightContX=n,b.rightContY=o}return c?(p=["C",j.rightContX||j.plotX,j.rightContY||j.plotY,l||f,m||i,f,i],j.rightContX=j.rightContY=null):p=[O,f,i],p}});bp.spline=cl;var cm=bF(cl,{type:"areaspline"});bp.areaspline=cm;var cn=bF(ci,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){ci.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasColumn=!0,b.hasRendered&&bg(b.series,function(b){b.type===a.type&&(b.isDirty=!0)})},translate:function(){var a=this,b=a.chart,c=a.options,d=c.stacking,e=c.borderWidth,j=0,k=a.xAxis.reversed,l=a.xAxis.categories,m={},n,o;ci.prototype.translate.apply(a),bg(b.series,function(b){b.type===a.type&&b.visible&&(b.options.stacking?(n=b.stackKey,m[n]===F&&(m[n]=j++),o=m[n]):o=j++,b.columnIndex=o)});var p=a.data,q=a.closestPoints,r=i(p[1]?p[q].plotX-p[q-1].plotX:b.plotSizeX/(l&&l.length||1)),s=r*c.groupPadding,t=r-2*s,u=t/j,v=c.pointWidth,w=bz(v)?(u-v)/2:u*c.pointPadding,x=g(bC(v,u-2*w),1),y=(k?j-a.columnIndex:a.columnIndex)||0,z=w+(s+y*u-r/2)*(k?-1:1),A=c.threshold||0,B=a.yAxis.getThreshold(A),C=bC(c.minPointLength,5);bg(p,function(j){var k=j.plotY,l=j.yBottom||B,m=j.plotX+z,n=f(h(k,l)),o=f(g(k,l)-n),p=a.yAxis.stacks[(j.y<0?"-":"")+a.stackKey],q,r;d&&a.visible&&p&&p[j.x]&&p[j.x].setOffset(z,x),i(o)<C&&(C&&(o=C,n=i(n-B)>C?l-C:B-(k<=B?C:0)),q=n-3),bq(j,{barX:m,barY:n,barW:x,barH:o}),j.shapeType="rect",r=bq(b.renderer.Element.prototype.crisp.apply({},[e,m,n,x,o]),{r:c.borderRadius}),e%2&&(r.y-=1,r.height+=1),j.shapeArgs=r,j.trackerArgs=bz(q)&&bj(j.shapeArgs,{height:g(6,o+3),y:q})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var a=this,b=a.options,c=a.chart.renderer,d,e;bg(a.data,function(f){var g=f.plotY;g!==F&&!isNaN(g)&&f.y!==null&&(d=f.graphic,e=f.shapeArgs,d?(bo(d),d.animate(e)):f.graphic=c[f.shapeType](e).attr(f.pointAttr[f.selected?T:R]).add(a.group).shadow(b.shadow))})},drawTracker:function(){var a=this,b=a.chart,c=b.renderer,d,e,f=+(new Date),g=a.options,h=g.cursor,i=h&&{cursor:h},j;bg(a.data,function(h){e=h.tracker,d=h.trackerArgs||h.shapeArgs,delete d.strokeWidth,h.y!==null&&(e?e.attr(d):h.tracker=c[h.shapeType](d).attr({isTracker:f,fill:Q,visibility:a.visible?L:J,zIndex:g.zIndex||1}).on(w?"touchstart":"mouseover",function(c){j=c.relatedTarget||c.fromElement,b.hoverSeries!==a&&bA(j,"isTracker")!==f&&a.onMouseOver(),h.onMouseOver()}).on("mouseout",function(b){g.stickyTracking||(j=b.relatedTarget||b.toElement,bA(j,"isTracker")!==f&&a.onMouseOut())}).css(i).add(h.group||b.trackerGroup))})},animate:function(a){var b=this,c=b.data;a||(bg(c,function(a){var c=a.graphic,d=a.shapeArgs;c&&(c.attr({height:0,y:b.yAxis.translate(0,0,1)}),c.animate({height:d.height,y:d.y},b.options.animation))}),b.animate=null)},remove:function(){var a=this,b=a.chart;b.hasRendered&&bg(b.series,function(b){b.type===a.type&&(b.isDirty=!0)}),ci.prototype.remove.apply(a,arguments)}});bp.column=cn;var co=bF(cn,{type:"bar",init:function(a){a.inverted=this.inverted=!0,cn.prototype.init.apply(this,arguments)}});bp.bar=co;var cp=bF(ci,{type:"scatter",translate:function(){var a=this;ci.prototype.translate.apply(a),bg(a.data,function(b){b.shapeType="circle",b.shapeArgs={x:b.plotX,y:b.plotY,r:a.chart.options.tooltip.snap}})},drawTracker:function(){var a=this,b=a.options.cursor,c=b&&{cursor:b},d;bg(a.data,function(b){d=b.graphic,d&&d.attr({isTracker:!0}).on("mouseover",function(){a.onMouseOver(),b.onMouseOver()}).on("mouseout",function(){a.options.stickyTracking||a.onMouseOut()}).css(c)})},cleanData:function(){}});bp.scatter=cp;var cq=bF(ch,{init:function(){ch.prototype.init.apply(this,arguments);var a=this,b;return bq(a,{visible:a.visible!==!1,name:bC(a.name,"Slice")}),b=function(){a.slice()},bk(a,"select",b),bk(a,"unselect",b),a},setVisible:function(a){var b=this,c=b.series.chart,d=b.tracker,e=b.dataLabel,f=b.connector,g=b.shadowGroup,h;b.visible=a=a===F?!b.visible:a,h=a?"show":"hide",b.group[h](),d&&d[h](),e&&e[h](),f&&f[h](),g&&g[h](),b.legendItem&&c.legend.colorizeItem(b,a)},slice:function(a,b,c){var d=this,e=d.series,f=e.chart,g=d.slicedTranslation,h;bM(c,f),b=bC(b,!0),a=d.sliced=bz(a)?a:!d.sliced,h={translateX:a?g[0]:f.plotLeft,translateY:a?g[1]:f.plotTop},d.group.animate(h),d.shadowGroup&&d.shadowGroup.animate(h)}}),cr=bF(ci,{type:"pie",isCartesian:!1,pointClass:cq,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var a=this,b=a.data;bg(b,function(b){var c=b.graphic,d=b.shapeArgs,e=-l/2;c&&(c.attr({r:0,start:e,end:e}),c.animate({r:d.r,start:d.start,end:d.end},a.options.animation))}),a.animate=null},translate:function(){var a=0,b=this,e=-0.25,f=1e3,g=b.options,i=g.slicedOffset,m=i+g.borderWidth,n=g.center.concat([g.size,g.innerSize||0]),o=b.chart,p=o.plotWidth,q=o.plotHeight,r,s,t,u=b.data,v=2*l,w,x=h(p,q),y,z,A,B=g.dataLabels.distance;n=bi(n,function(a,b){return y=/%$/.test(a),y?[p,q,x,x][b]*br(a)/100:a}),b.getX=function(a,b){return t=c.asin((a-n[1])/(n[2]/2+B)),n[0]+(b?-1:1)*j(t)*(n[2]/2+B)},b.center=n,bg(u,function(b){a+=b.y}),bg(u,function(b){w=a?b.y/a:0,r=d(e*v*f)/f,e+=w,s=d(e*v*f)/f,b.shapeType="arc",b.shapeArgs={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:r,end:s},t=(s+r)/2,b.slicedTranslation=bi([j(t)*i+o.plotLeft,k(t)*i+o.plotTop],d),z=j(t)*n[2]/2,A=k(t)*n[2]/2,b.tooltipPos=[n[0]+z*.7,n[1]+A*.7],b.labelPos=[n[0]+z+j(t)*B,n[1]+A+k(t)*B,n[0]+z+j(t)*m,n[1]+A+k(t)*m,n[0]+z,n[1]+A,B<0?"center":t<v/4?"left":"right",t],b.percentage=w*100,b.total=a}),this.setTooltipPoints()},render:function(){var a=this;this.drawPoints(),a.options.enableMouseTracking!==!1&&a.drawTracker(),this.drawDataLabels(),a.options.animation&&a.animate&&a.animate(),a.isDirty=!1},drawPoints:function(){var a=this,b=a.chart,c=b.renderer,d,e,f,g=a.options.shadow,h,i;bg(a.data,function(a){e=a.graphic,i=a.shapeArgs,f=a.group,h=a.shadowGroup,g&&!h&&(h=a.shadowGroup=c.g("shadow").attr({zIndex:4}).add()),f||(f=a.group=c.g("point").attr({zIndex:5}).add()),d=a.sliced?a.slicedTranslation:[b.plotLeft,b.plotTop],f.translate(d[0],d[1]),h&&h.translate(d[0],d[1]),e?e.animate(i):a.graphic=c.arc(i).attr(bq(a.pointAttr[R],{"stroke-linejoin":"round"})).add(a.group).shadow(g,h),a.visible===!1&&a.setVisible(!1)})},drawDataLabels:function(){var a=this,b=a.data,c,d=a.chart,e=a.options.dataLabels,f=bC(e.connectorPadding,10),g=bC(e.connectorWidth,1),h,j,k=bC(e.softConnector,!0),m=e.distance,n=a.center,o=n[2]/2,p=n[1],q=m>0,r,s,t,u=[[],[]],v,w,x,y,z,A=2,B;if(!e.enabled)return;ci.prototype.drawDataLabels.apply(a),bg(b,function(a){a.dataLabel&&u[a.labelPos[7]<l/2?0:1].push(a)}),u[1].reverse(),z=function(a,b){return b.y-a.y},t=u[0][0]&&u[0][0].dataLabel&&br(u[0][0].dataLabel.styles.lineHeight);while(A--){var C=[],D,E=[],F=u[A],G,H=F.length,I;for(G=p-o-m;G<=p+o+m;G+=t)C.push(G);D=C.length;if(H>D){y=[].concat(F),y.sort(z),B=H;while(B--)y[B].rank=B;B=H;while(B--)F[B].rank>=D&&F.splice(B,1);H=F.length}for(B=0;B<H;B++){c=F[B],s=c.labelPos;var K=9999,M,N;for(N=0;N<D;N++)M=i(C[N]-s[1]),M<K&&(K=M,I=N);if(I<B&&C[B]!==null)I=B;else if(D<H-B+I&&C[B]!==null){I=D-H+B;while(C[I]===null)I++}else while(C[I]===null)I++;E.push({i:I,y:C[I]}),C[I]=null}E.sort(z);for(B=0;B<H;B++){c=F[B],s=c.labelPos,r=c.dataLabel;var Q=E.pop(),R=s[1];x=c.visible===!1?J:L,I=Q.i,w=Q.y;if(R>w&&C[I+1]!==null||R<w&&C[I-1]!==null)w=R;v=a.getX(I===0||I===C.length-1?R:w,A),r.attr({visibility:x,align:s[6]})[r.moved?"animate":"attr"]({x:v+e.x+({left:f,right:-f}[s[6]]||0),y:w+e.y}),r.moved=!0,q&&g&&(h=c.connector,j=k?[O,v+(s[6]==="left"?5:-5),w,"C",v,w,2*s[2]-s[4],2*s[3]-s[5],s[2],s[3],P,s[4],s[5]]:[O,v+(s[6]==="left"?5:-5),w,P,s[2],s[3],P,s[4],s[5]],h?(h.animate({d:j}),h.attr("visibility",x)):c.connector=h=a.chart.renderer.path(j).attr({"stroke-width":g,stroke:e.connectorColor||c.color||"#606060",visibility:x,zIndex:3}).translate(d.plotLeft,d.plotTop).add())}}},drawTracker:cn.prototype.drawTracker,getSymbol:function(){}});bp.pie=cr,b.Highcharts={Chart:cg,dateFormat:C,pathAnim:E,getOptions:bS,hasRtlBug:u,numberFormat:bG,Point:ch,Color:cb,Renderer:v,seriesTypes:bp,setOptions:bR,Series:ci,addEvent:bk,removeEvent:bl,createElement:bE,discardElement:bT,css:bD,each:bg,extend:bq,map:bi,merge:bj,pick:bC,extendClass:bF,product:"Highcharts",version:"2.1.9"}}(),function(a){a.fn.extend({actual:function(b,c){var d,e,f,g,h,i,j,k;if(!this[b])throw'$.actual => The jQuery method "'+b+'" you called does not exist';return f=a.extend({absolute:!1,clone:!1,includeMargin:undefined},c),e=this,f.clone===!0?(j=function(){e=e.filter(":first").clone().css({position:"absolute",top:-1e3}).appendTo("body")},k=function(){e.remove()}):(j=function(){d=e.parents().andSelf().filter(":hidden"),g=f.absolute===!0?{position:"absolute",visibility:"hidden",display:"block"}:{visibility:"hidden",display:"block"},h=[],d.each(function(){var a={},b;for(b in g)a[b]=this.style[b],this.style[b]=g[b];h.push(a)})},k=function(){d.each(function(a){var b=h[a],c;for(c in g)this.style[c]=b[c]})}),j(),i=e[b](f.includeMargin),k(),i}})}(jQuery),function(){function A(a,b,c){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;a._chain&&(a=a._wrapped),b._chain&&(b=b._wrapped);if(a.isEqual&&w.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&w.isFunction(b.isEqual))return b.isEqual(a);var d=i.call(a);if(d!=i.call(b))return!1;switch(d){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return!1;var e=c.length;while(e--)if(c[e]==a)return!0;c.push(a);var f=0,g=!0;if(d=="[object Array]"){f=a.length,g=f==b.length;if(g)while(f--)if(!(g=f in a==f in b&&A(a[f],b[f],c)))break}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(var h in a)if(w.has(a,h)){f++;if(!(g=w.has(b,h)&&A(a[h],b[h],c)))break}if(g){for(h in b)if(w.has(b,h)&&!(f--))break;g=!f}}return c.pop(),g}var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.slice,h=d.unshift,i=e.toString,j=e.hasOwnProperty,k=d.forEach,l=d.map,m=d.reduce,n=d.reduceRight,o=d.filter,p=d.every,q=d.some,r=d.indexOf,s=d.lastIndexOf,t=Array.isArray,u=Object.keys,v=f.bind,w=function(a){return new E(a)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=w),exports._=w):a._=w,w.VERSION="1.3.1";var x=w.each=w.forEach=function(a,b,d){if(a==null)return;if(k&&a.forEach===k)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(e in a&&b.call(d,a[e],e,a)===c)return}else for(var g in a)if(w.has(a,g)&&b.call(d,a[g],g,a)===c)return};w.map=w.collect=function(a,b,c){var d=[];return a==null?d:l&&a.map===l?a.map(b,c):(x(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},w.reduce=w.foldl=w.inject=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(m&&a.reduce===m)return d&&(b=w.bind(b,d)),e?a.reduce(b,c):a.reduce(b);x(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c},w.reduceRight=w.foldr=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(n&&a.reduceRight===n)return d&&(b=w.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=w.toArray(a).reverse();return d&&!e&&(b=w.bind(b,d)),e?w.reduce(f,b,c,d):w.reduce(f,b)},w.find=w.detect=function(a,b,c){var d;return y(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0}),d},w.filter=w.select=function(a,b,c){var d=[];return a==null?d:o&&a.filter===o?a.filter(b,c):(x(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},w.reject=function(a,b,c){var d=[];return a==null?d:(x(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},w.every=w.all=function(a,b,d){var e=!0;return a==null?e:p&&a.every===p?a.every(b,d):(x(a,function(a,f,g){if(!(e=e&&b.call(d,a,f,g)))return c}),e)};var y=w.some=w.any=function(a,b,d){b||(b=w.identity);var e=!1;return a==null?e:q&&a.some===q?a.some(b,d):(x(a,function(a,f,g){if(e||(e=b.call(d,a,f,g)))return c}),!!e)};w.include=w.contains=function(a,b){var c=!1;return a==null?c:r&&a.indexOf===r?a.indexOf(b)!=-1:(c=y(a,function(a){return a===b}),c)},w.invoke=function(a,b){var c=g.call(arguments,2);return w.map(a,function(a){return(w.isFunction(b)?b||a:a[b]).apply(a,c)})},w.pluck=function(a,b){return w.map(a,function(a){return a[b]})},w.max=function(a,b,c){if(!b&&w.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!b&&w.isEmpty(a))return-Infinity;var d={computed:-Infinity};return x(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},w.min=function(a,b,c){if(!b&&w.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!b&&w.isEmpty(a))return Infinity;var d={computed:Infinity};return x(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},w.shuffle=function(a){var b=[],c;return x(a,function(a,d,e){d==0?b[0]=a:(c=Math.floor(Math.random()*(d+1)),b[d]=b[c],b[c]=a)}),b},w.sortBy=function(a,b,c){return w.pluck(w.map(a,function(a,d,e){return{value:a,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),"value")},w.groupBy=function(a,b){var c={},d=w.isFunction(b)?b:function(a){return a[b]};return x(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},w.sortedIndex=function(a,b,c){c||(c=w.identity);var d=0,e=a.length;while(d<e){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},w.toArray=function(a){return a?a.toArray?a.toArray():w.isArray(a)?g.call(a):w.isArguments(a)?g.call(a):w.values(a):[]},w.size=function(a){return w.toArray(a).length},w.first=w.head=function(a,b,c){return b!=null&&!c?g.call(a,0,b):a[0]},w.initial=function(a,b,c){return g.call(a,0,a.length-(b==null||c?1:b))},w.last=function(a,b,c){return b!=null&&!c?g.call(a,Math.max(a.length-b,0)):a[a.length-1]},w.rest=w.tail=function(a,b,c){return g.call(a,b==null||c?1:b)},w.compact=function(a){return w.filter(a,function(a){return!!a})},w.flatten=function(a,b){return w.reduce(a,function(a,c){return w.isArray(c)?a.concat(b?c:w.flatten(c)):(a[a.length]=c,a)},[])},w.without=function(a){return w.difference(a,g.call(arguments,1))},w.uniq=w.unique=function(a,b,c){var d=c?w.map(a,c):a,e=[];return w.reduce(d,function(c,d,f){if(0==f||(b===!0?w.last(c)!=d:!w.include(c,d)))c[c.length]=d,e[e.length]=a[f];return c},[]),e},w.union=function(){return w.uniq(w.flatten(arguments,!0))},w.intersection=w.intersect=function(a){var b=g.call(arguments,1);return w.filter(w.uniq(a),function(a){return w.every(b,function(b){return w.indexOf(b,a)>=0})})},w.difference=function(a){var b=w.flatten(g.call(arguments,1));return w.filter(a,function(a){return!w.include(b,a)})},w.zip=function(){var a=g.call(arguments),b=w.max(w.pluck(a,"length")),c=new Array(b);for(var d=0;d<b;d++)c[d]=w.pluck(a,""+d);return c},w.indexOf=function(a,b,c){if(a==null)return-1;var d,e;if(c)return d=w.sortedIndex(a,b),a[d]===b?d:-1;if(r&&a.indexOf===r)return a.indexOf(b);for(d=0,e=a.length;d<e;d++)if(d in a&&a[d]===b)return d;return-1},w.lastIndexOf=function(a,b){if(a==null)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(b);var c=a.length;while(c--)if(c in a&&a[c]===b)return c;return-1},w.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);while(e<d)f[e++]=a,a+=c;return f};var z=function(){};w.bind=function(b,c){var d,e;if(b.bind===v&&v)return v.apply(b,g.call(arguments,1));if(!w.isFunction(b))throw new TypeError;return e=g.call(arguments,2),d=function(){if(this instanceof d){z.prototype=b.prototype;var a=new z,f=b.apply(a,e.concat(g.call(arguments)));return Object(f)===f?f:a}return b.apply(c,e.concat(g.call(arguments)))}},w.bindAll=function(a){var b=g.call(arguments,1);return b.length==0&&(b=w.functions(a)),x(b,function(b){a[b]=w.bind(a[b],a)}),a},w.memoize=function(a,b){var c={};return b||(b=w.identity),function(){var d=b.apply(this,arguments);return w.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},w.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(a,c)},b)},w.defer=function(a){return w.delay.apply(w,[a,1].concat(g.call(arguments,1)))},w.throttle=function(a,b){var c,d,e,f,g,h=w.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var i=function(){e=null,g&&a.apply(c,d),h()};e||(e=setTimeout(i,b)),f?g=!0:a.apply(c,d),h(),f=!0}},w.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)};c&&!d&&a.apply(e,f),clearTimeout(d),d=setTimeout(g,b)}},w.once=function(a){var b=!1,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments))}},w.wrap=function(a,b){return function(){var c=[a].concat(g.call(arguments,0));return b.apply(this,c)}},w.compose=function(){var a=arguments;return function(){var b=arguments;for(var c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},w.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}},w.keys=u||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)w.has(a,c)&&(b[b.length]=c);return b},w.values=function(a){return w.map(a,w.identity)},w.functions=w.methods=function(a){var b=[];for(var c in a)w.isFunction(a[c])&&b.push(c);return b.sort()},w.extend=function(a){return x(g.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},w.defaults=function(a){return x(g.call(arguments,1),function(b){for(var c in b)a[c]==null&&(a[c]=b[c])}),a},w.clone=function(a){return w.isObject(a)?w.isArray(a)?a.slice():w.extend({},a):a},w.tap=function(a,b){return b(a),a},w.isEqual=function(a,b){return A(a,b,[])},w.isEmpty=function(a){if(a==null)return!0;if(w.isArray(a)||w.isString(a))return a.length===0;for(var b in a)if(w.has(a,b))return!1;return!0},w.isElement=function(a){return!!a&&a.nodeType==1},w.isArray=t||function(a){return i.call(a)=="[object Array]"},w.isObject=function(a){return a===Object(a)},w.isArguments=function(a){return i.call(a)=="[object Arguments]"},w.isArguments(arguments)||(w.isArguments=function(a){return!!a&&!!w.has(a,"callee")}),w.isFunction=function(a){return i.call(a)=="[object Function]"},w.isString=function(a){return i.call(a)=="[object String]"},w.isNumber=function(a){return i.call(a)=="[object Number]"},w.isNaN=function(a){return a!==a},w.isBoolean=function(a){return a===!0||a===!1||i.call(a)=="[object Boolean]"},w.isDate=function(a){return i.call(a)=="[object Date]"},w.isRegExp=function(a){return i.call(a)=="[object RegExp]"},w.isNull=function(a){return a===null},w.isUndefined=function(a){return a===void 0},w.has=function(a,b){return j.call(a,b)},w.noConflict=function(){return a._=b,this},w.identity=function(a){return a},w.times=function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)},w.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},w.mixin=function(a){x(w.functions(a),function(b){G(b,w[b]=a[b])})};var B=0;w.uniqueId=function(a){var b=B++;return a?a+b:b},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/.^/,D=function(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};w.template=function(a,b){var c=w.templateSettings,d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c.escape||C,function(a,b){return"',_.escape("+D(b)+"),'"}).replace(c.interpolate||C,function(a,b){return"',"+D(b)+",'"}).replace(c.evaluate||C,function(a,b){return"');"+D(b).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=new Function("obj","_",d);return b?e(b,w):function(a){return e.call(this,a,w)}},w.chain=function(a){return w(a).chain()};var E=function(a){this._wrapped=a};w.prototype=E.prototype;var F=function(a,b){return b?w(a).chain():a},G=function(a,b){E.prototype[a]=function(){var a=g.call(arguments);return h.call(a,this._wrapped),F(b.apply(w,a),this._chain)}};w.mixin(w),x(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];E.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;return(a=="shift"||a=="splice")&&d===0&&delete c[0],F(c,this._chain)}}),x(["concat","join","slice"],function(a){var b=d[a];E.prototype[a]=function(){return F(b.apply(this._wrapped,arguments),this._chain)}}),E.prototype.chain=function(){return this._chain=!0,this},E.prototype.value=function(){return this._wrapped}}.call(this);var Mustache=function(){var a=function(){};return a.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(a,b,c,d){d||(this.context=b,this.buffer=[]);if(!this.includes("",a)){if(d)return a;this.send(a);return}a=this.render_pragmas(a);var e=this.render_section(a,b,c);if(d)return this.render_tags(e,b,c,d);this.render_tags(e,b,c,d)},send:function(a){a!=""&&this.buffer.push(a)},render_pragmas:function(a){if(!this.includes("%",a))return a;var b=this,c=new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag);return a.replace(c,function(a,c,d){if(!b.pragmas_implemented[c])throw{message:"This implementation of mustache doesn't understand the '"+c+"' pragma"};b.pragmas[c]={};if(d){var e=d.split("=");b.pragmas[c][e[0]]=e[1]}return""})},render_partial:function(a,b,c){a=this.trim(a);if(!c||c[a]===undefined)throw{message:"unknown_partial '"+a+"'"};return typeof b[a]!="object"?this.render(c[a],b,c,!0):this.render(c[a],b[a],c,!0)},render_section:function(a,b,c){if(!this.includes("#",a)&&!this.includes("^",a))return a;var d=this,e=new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg");return a.replace(e,function(a,e,f,g){var h=d.find(f,b);if(e=="^")return!h||d.is_array(h)&&h.length===0?d.render(g,b,c,!0):"";if(e=="#")return d.is_array(h)?d.map(h,function(a){return d.render(g,d.create_context(a),c,!0)}).join(""):d.is_object(h)?d.render(g,d.create_context(h),c,!0):typeof h=="function"?h.call(b,g,function(a){return d.render(a,b,c,!0)}):h?d.render(g,b,c,!0):""})},render_tags:function(a,b,c,d){var e=this,f=function(){return new RegExp(e.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+e.ctag+"+","g")},g=f(),h=function(a,d,h){switch(d){case"!":return"";case"=":return e.set_delimiters(h),g=
f(),"";case">":return e.render_partial(h,b,c);case"{":return e.find(h,b);default:return e.escape(e.find(h,b))}},i=a.split("\n");for(var j=0;j<i.length;j++)i[j]=i[j].replace(g,h,this),d||this.send(i[j]);if(d)return i.join("\n")},set_delimiters:function(a){var b=a.split(" ");this.otag=this.escape_regex(b[0]),this.ctag=this.escape_regex(b[1])},escape_regex:function(a){if(!arguments.callee.sRE){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+b.join("|\\")+")","g")}return a.replace(arguments.callee.sRE,"\\$1")},find:function(a,b){function c(a){return a===!1||a===0||a}a=this.trim(a);var d;return c(b[a])?d=b[a]:c(this.context[a])&&(d=this.context[a]),typeof d=="function"?d.apply(b):d!==undefined?d:""},includes:function(a,b){return b.indexOf(this.otag+a)!=-1},escape:function(a){return a=String(a===null?"":a),a.replace(/&(?!\w+;)|["'<>\\]/g,function(a){switch(a){case"&":return"&amp;";case"\\":return"\\\\";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return a}})},create_context:function(a){if(this.is_object(a))return a;var b=".";this.pragmas["IMPLICIT-ITERATOR"]&&(b=this.pragmas["IMPLICIT-ITERATOR"].iterator);var c={};return c[b]=a,c},is_object:function(a){return a&&typeof a=="object"},is_array:function(a){return Object.prototype.toString.call(a)==="[object Array]"},trim:function(a){return a.replace(/^\s*|\s*$/g,"")},map:function(a,b){if(typeof a.map=="function")return a.map(b);var c=[],d=a.length;for(var e=0;e<d;e++)c.push(b(a[e]));return c}},{name:"mustache.js",version:"0.3.1-dev",to_html:function(b,c,d,e){var f=new a;e&&(f.send=e),f.render(b,c,d);if(!e)return f.buffer.join("\n")}}}();((function(){var a=this,b=a.Backbone,c=Array.prototype.slice,d=Array.prototype.splice,e;typeof exports!="undefined"?e=exports:e=a.Backbone={},e.VERSION="0.9.1";var f=a._;!f&&typeof require!="undefined"&&(f=require("underscore"));var g=a.jQuery||a.Zepto||a.ender;e.setDomLibrary=function(a){g=a},e.noConflict=function(){return a.Backbone=b,this},e.emulateHTTP=!1,e.emulateJSON=!1,e.Events={on:function(a,b,c){var d;a=a.split(/\s+/);var e=this._callbacks||(this._callbacks={});while(d=a.shift()){var f=e[d]||(e[d]={}),g=f.tail||(f.tail=f.next={});g.callback=b,g.context=c,f.tail=g.next={}}return this},off:function(a,b,c){var d,e,f;if(!a)delete this._callbacks;else if(e=this._callbacks){a=a.split(/\s+/);while(d=a.shift()){f=e[d],delete e[d];if(!b||!f)continue;while((f=f.next)&&f.next){if(f.callback===b&&(!c||f.context===c))continue;this.on(d,f.callback,f.context)}}}return this},trigger:function(a){var b,d,e,f,g,h,i;if(!(e=this._callbacks))return this;h=e.all,(a=a.split(/\s+/)).push(null);while(b=a.shift()){h&&a.push({next:h.next,tail:h.tail,event:b});if(!(d=e[b]))continue;a.push({next:d.next,tail:d.tail})}i=c.call(arguments,1);while(d=a.pop()){f=d.tail,g=d.event?[d.event].concat(i):i;while((d=d.next)!==f)d.callback.apply(d.context||this,g)}return this}},e.Events.bind=e.Events.on,e.Events.unbind=e.Events.off,e.Model=function(a,b){var c;a||(a={}),b&&b.parse&&(a=this.parse(a));if(c=u(this,"defaults"))a=f.extend({},c,a);b&&b.collection&&(this.collection=b.collection),this.attributes={},this._escapedAttributes={},this.cid=f.uniqueId("c");if(!this.set(a,{silent:!0}))throw new Error("Can't create an invalid model");delete this._changed,this._previousAttributes=f.clone(this.attributes),this.initialize.apply(this,arguments)},f.extend(e.Model.prototype,e.Events,{idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;var c=this.attributes[a];return this._escapedAttributes[a]=f.escape(c==null?"":""+c)},has:function(a){return this.attributes[a]!=null},set:function(a,b,c){var d,g,h;f.isObject(a)||a==null?(d=a,c=b):(d={},d[a]=b),c||(c={});if(!d)return this;d instanceof e.Model&&(d=d.attributes);if(c.unset)for(g in d)d[g]=void 0;if(!this._validate(d,c))return!1;this.idAttribute in d&&(this.id=d[this.idAttribute]);var i=this.attributes,j=this._escapedAttributes,k=this._previousAttributes||{},l=this._setting;this._changed||(this._changed={}),this._setting=!0;for(g in d){h=d[g],f.isEqual(i[g],h)||delete j[g],c.unset?delete i[g]:i[g]=h,this._changing&&!f.isEqual(this._changed[g],h)&&(this.trigger("change:"+g,this,h,c),this._moreChanges=!0),delete this._changed[g];if(!f.isEqual(k[g],h)||f.has(i,g)!=f.has(k,g))this._changed[g]=h}return l||(!c.silent&&this.hasChanged()&&this.change(c),this._setting=!1),this},unset:function(a,b){return(b||(b={})).unset=!0,this.set(a,null,b)},clear:function(a){return(a||(a={})).unset=!0,this.set(f.clone(this.attributes),a)},fetch:function(a){a=a?f.clone(a):{};var b=this,c=a.success;return a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)},a.error=e.wrapError(a.error,b,a),(this.sync||e.sync).call(this,"read",this,a)},save:function(a,b,c){var d,g;f.isObject(a)||a==null?(d=a,c=b):(d={},d[a]=b),c=c?f.clone(c):{},c.wait&&(g=f.clone(this.attributes));var h=f.extend({},c,{silent:!0});if(d&&!this.set(d,c.wait?h:c))return!1;var i=this,j=c.success;c.success=function(a,b,e){var g=i.parse(a,e);c.wait&&(g=f.extend(d||{},g));if(!i.set(g,c))return!1;j?j(i,a):i.trigger("sync",i,a,c)},c.error=e.wrapError(c.error,i,c);var k=this.isNew()?"create":"update",l=(this.sync||e.sync).call(this,k,this,c);return c.wait&&this.set(g,h),l},destroy:function(a){a=a?f.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(this.isNew())return d();a.success=function(e){a.wait&&d(),c?c(b,e):b.trigger("sync",b,e,a)},a.error=e.wrapError(a.error,b,a);var g=(this.sync||e.sync).call(this,"delete",this,a);return a.wait||d(),g},url:function(){var a=u(this.collection,"url")||u(this,"urlRoot")||v();return this.isNew()?a:a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(a){if(this._changing||!this.hasChanged())return this;this._changing=!0,this._moreChanges=!0;for(var b in this._changed)this.trigger("change:"+b,this,this._changed[b],a);while(this._moreChanges)this._moreChanges=!1,this.trigger("change",this,a);return this._previousAttributes=f.clone(this.attributes),delete this._changed,this._changing=!1,this},hasChanged:function(a){return arguments.length?this._changed&&f.has(this._changed,a):!f.isEmpty(this._changed)},changedAttributes:function(a){if(!a)return this.hasChanged()?f.clone(this._changed):!1;var b,c=!1,d=this._previousAttributes;for(var e in a){if(f.isEqual(d[e],b=a[e]))continue;(c||(c={}))[e]=b}return c},previous:function(a){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(a,b){if(b.silent||!this.validate)return!0;a=f.extend({},this.attributes,a);var c=this.validate(a,b);return c?(b&&b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1):!0}}),e.Collection=function(a,b){b||(b={}),b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,{silent:!0,parse:b.parse})},f.extend(e.Collection.prototype,e.Events,{model:e.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){var c,e,g,h,i,j,k={},l={};b||(b={}),a=f.isArray(a)?a.slice():[a];for(c=0,g=a.length;c<g;c++){if(!(h=a[c]=this._prepareModel(a[c],b)))throw new Error("Can't add an invalid model to a collection");if(k[i=h.cid]||this._byCid[i]||(j=h.id)!=null&&(l[j]||this._byId[j]))throw new Error("Can't add the same model to a collection twice");k[i]=l[j]=h}for(c=0;c<g;c++)(h=a[c]).on("all",this._onModelEvent,this),this._byCid[h.cid]=h,h.id!=null&&(this._byId[h.id]=h);this.length+=g,e=b.at!=null?b.at:this.models.length,d.apply(this.models,[e,0].concat(a)),this.comparator&&this.sort({silent:!0});if(b.silent)return this;for(c=0,g=this.models.length;c<g;c++){if(!k[(h=this.models[c]).cid])continue;b.index=c,h.trigger("add",h,this,b)}return this},remove:function(a,b){var c,d,e,g;b||(b={}),a=f.isArray(a)?a.slice():[a];for(c=0,d=a.length;c<d;c++){g=this.getByCid(a[c])||this.get(a[c]);if(!g)continue;delete this._byId[g.id],delete this._byCid[g.cid],e=this.indexOf(g),this.models.splice(e,1),this.length--,b.silent||(b.index=e,g.trigger("remove",g,this,b)),this._removeReference(g)}return this},get:function(a){return a==null?null:this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var b=f.bind(this.comparator,this);return this.comparator.length==1?this.models=this.sortBy(b):this.models.sort(b),a.silent||this.trigger("reset",this,a),this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},reset:function(a,b){a||(a=[]),b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c]);return this._reset(),this.add(a,{silent:!0,parse:b.parse}),b.silent||this.trigger("reset",this,b),this},fetch:function(a){a=a?f.clone(a):{},a.parse===undefined&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d,e,f){b[a.add?"add":"reset"](b.parse(d,f),a),c&&c(b,d)},a.error=e.wrapError(a.error,b,a),(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b=b?f.clone(b):{},a=this._prepareModel(a,b);if(!a)return!1;b.wait||c.add(a,b);var d=b.success;return b.success=function(e,f,g){b.wait&&c.add(e,b),d?d(e,f):e.trigger("sync",a,f,b)},a.save(null,b),a},parse:function(a,b){return a},chain:function(){return f(this.models).chain()},_reset:function(a){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(a,b){if(a instanceof e.Model)a.collection||(a.collection=this);else{var c=a;b.collection=this,a=new this.model(c,b),a._validate(a.attributes,b)||(a=!1)}return a},_removeReference:function(a){this==a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if((a=="add"||a=="remove")&&c!=this)return;a=="destroy"&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments)}});var h=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];f.each(h,function(a){e.Collection.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}}),e.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};var i=/:\w+/g,j=/\*\w+/g,k=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(e.Router.prototype,e.Events,{initialize:function(){},route:function(a,b,c){return e.history||(e.history=new e.History),f.isRegExp(a)||(a=this._routeToRegExp(a)),c||(c=this[b]),e.history.route(a,f.bind(function(d){var f=this._extractParameters(a,d);c&&c.apply(this,f),this.trigger.apply(this,["route:"+b].concat(f)),e.history.trigger("route",this,b,f)},this)),this},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(!this.routes)return;var a=[];for(var b in this.routes)a.unshift([b,this.routes[b]]);for(var c=0,d=a.length;c<d;c++)this.route(a[c][0],a[c][1],this[a[c][1]])},_routeToRegExp:function(a){return a=a.replace(k,"\\$&").replace(i,"([^/]+)").replace(j,"(.*?)"),new RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}}),e.History=function(){this.handlers=[],f.bindAll(this,"checkUrl")};var l=/^[#\/]/,m=/msie [\w.]+/,n=!1;f.extend(e.History.prototype,e.Events,{interval:50,getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c)}else a=window.location.hash;return a=decodeURIComponent(a),a.indexOf(this.options.root)||(a=a.substr(this.options.root.length)),a.replace(l,"")},start:function(a){if(n)throw new Error("Backbone.history has already been started");this.options=f.extend({},{root:"/"},this.options,a),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var b=this.getFragment(),c=document.documentMode,d=m.exec(navigator.userAgent.toLowerCase())&&(!c||c<=7);d&&(this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(b)),this._hasPushState?g(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!d?g(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=b,n=!0;var e=window.location,h=e.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!h)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&h&&e.hash&&(this.fragment=e.hash.replace(l,""),window.history.replaceState({},document.title,e.protocol+"//"+e.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){g(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),n=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();b==this.fragment&&this.iframe&&(b=this.getFragment(this.iframe.location.hash));if(b==this.fragment||b==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(b),this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a),c=f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0});return c},navigate:function(a,b){if(!n)return!1;if(!b||b===!0)b={trigger:b};var c=(a||"").replace(l,"");if(this.fragment==c||this.fragment==decodeURIComponent(c))return;this._hasPushState?(c.indexOf(this.options.root)!=0&&(c=this.options.root+c),this.fragment=c,window.history[b.replace?"replaceState":"pushState"]({},document.title,c)):this._wantsHashChange?(this.fragment=c,this._updateHash(window.location,c,b.replace),this.iframe&&c!=this.getFragment(this.iframe.location.hash)&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,c,b.replace))):window.location.assign(this.options.root+a),b.trigger&&this.loadUrl(a)},_updateHash:function(a,b,c){c?a.replace(a.toString().replace(/(javascript:|#).*$/,"")+"#"+b):a.hash=b}}),e.View=function(a){this.cid=f.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()};var o=/^(\S+)\s*(.*)$/,p=["model","collection","el","id","attributes","className","tagName"];f.extend(e.View.prototype,e.Events,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(a,b,c){var d=document.createElement(a);return b&&g(d).attr(b),c&&g(d).html(c),d},setElement:function(a,b){return this.$el=g(a),this.el=this.$el[0],b!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=u(this,"events")))return;this.undelegateEvents();for(var b in a){var c=a[b];f.isFunction(c)||(c=this[a[b]]);if(!c)throw new Error('Event "'+a[b]+'" does not exist');var d=b.match(o),e=d[1],g=d[2];c=f.bind(c,this),e+=".delegateEvents"+this.cid,g===""?this.$el.bind(e,c):this.$el.delegate(g,e,c)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=p.length;b<c;b++){var d=p[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(!this.el){var a=u(this,"attributes")||{};this.id&&(a.id=this.id),this.className&&(a["class"]=this.className),this.setElement(this.make(this.tagName,a),!1)}else this.setElement(this.el,!1)}});var q=function(a,b){var c=t(this,a,b);return c.extend=this.extend,c};e.Model.extend=e.Collection.extend=e.Router.extend=e.View.extend=q;var r={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=r[a],h={type:d,dataType:"json"};return c.url||(h.url=u(b,"url")||v()),!c.data&&b&&(a=="create"||a=="update")&&(h.contentType="application/json",h.data=JSON.stringify(b.toJSON())),e.emulateJSON&&(h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{}),e.emulateHTTP&&(d==="PUT"||d==="DELETE")&&(e.emulateJSON&&(h.data._method=d),h.type="POST",h.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}),h.type!=="GET"&&!e.emulateJSON&&(h.processData=!1),g.ajax(f.extend(h,c))},e.wrapError=function(a,b,c){return function(d,e){e=d===b?e:d,a?a(b,e,c):b.trigger("error",b,e,c)}};var s=function(){},t=function(a,b,c){var d;return b&&b.hasOwnProperty("constructor")?d=b.constructor:d=function(){a.apply(this,arguments)},f.extend(d,a),s.prototype=a.prototype,d.prototype=new s,b&&f.extend(d.prototype,b),c&&f.extend(d,c),d.prototype.constructor=d,d.__super__=a.prototype,d},u=function(a,b){return!a||!a[b]?null:f.isFunction(a[b])?a[b]():a[b]},v=function(){throw new Error('A "url" property or function must be specified')}})).call(this),function(a){var b=function(b){var c=["height","width","lineHeight","textDecoration","letterSpacing"],d={};return a.each(c,function(a,c){d[c]=b.css(c)}),b.clone().removeAttr("id").removeAttr("name").css({position:"absolute",top:0,left:-9999}).css(d).attr("tabIndex","-1").insertBefore(b)};a.fn.autoResize=function(c){var d=a.extend({onResize:function(){},animate:!0,animateDuration:150,animateCallback:function(){},extraSpace:0,limit:1e3},c);return this.filter("textarea").each(function(){var c=a(this).css({resize:"none","overflow-y":"hidden"}),e,f,g=null,h=function(){e=e||a(c).height(),f=f||b(c),f.height(0).val(a(this).val()).scrollTop(1e4);var h=Math.max(f.scrollTop(),e)+d.extraSpace,i=a(this).add(f);if(g===h)return;g=h;if(h>=d.limit){a(this).css("overflow-y","");return}d.onResize.call(this),d.animate&&c.css("display")==="block"?i.stop().animate({height:h},d.animateDuration,d.animateCallback):i.height(h)};c.unbind(".dynSiz").bind("keyup.dynSiz",h).bind("keydown.dynSiz",h).bind("change.dynSiz",h),a.contains(document.body,c.get(0))&&c.trigger("change.dynSiz")}),this}}(jQuery),function(a,b,c){function l(a,b){var c=a.keyCode,d=b.data("dropkick"),e=b.find(".dk_options"),f=b.hasClass("dk_open"),h=b.find(".dk_option_current"),i=e.find("li").first(),j=e.find("li").last(),k,l;switch(c){case g.enter:f?(m(h.find("a"),b),p(b)):q(b),a.preventDefault();break;case g.up:l=h.prev("li"),f?l.length?n(l,b):n(j,b):q(b),a.preventDefault();break;case g.down:f?(k=h.next("li").first(),k.length?n(k,b):n(i,b)):q(b),a.preventDefault();break;default:}}function m(a,b,c){var d,e,f;d=a.attr("data-dk-dropdown-value"),e=a.text(),f=b.data("dropkick"),$select=f.$select,$select.val(d),b.find(".dk_label").text(e),c=c||!1,f.settings.change&&!c&&f.settings.change.call($select,d,e)}function n(a,b){b.find(".dk_option_current").removeClass("dk_option_current"),a.addClass("dk_option_current"),o(b,a)}function o(a,b){var c=b.prevAll("li").outerHeight()*b.prevAll("li").length;a.find(".dk_options_inner").animate({scrollTop:c+"px"},0)}function p(a){a.removeClass("dk_open")}function q(a){var b=a.data("dropkick");a.find(".dk_options").css({top:a.find(".dk_toggle").outerHeight()-2}),a.toggleClass("dk_open")}function r(b,c){var d=b,e=[],f;d=d.replace("{{ id }}",c.id),d=d.replace("{{ label }}",c.label),d=d.replace("{{ tabindex }}",c.tabindex);if(c.options&&c.options.length)for(var g=0,h=c.options.length;g<h;g++){var j=a(c.options[g]),k="dk_option_current",l=i;l=l.replace("{{ value }}",j.val()),l=l.replace("{{ current }}",s(j.val())===c.value?k:""),l=l.replace("{{ text }}",j.text()),e[e.length]=l}return f=a(d),f.find(".dk_options_inner").html(e.join("")),f}function s(b){return a.trim(b).length>0?b:!1}var d=!1;a.browser.msie&&a.browser.version.substr(0,1)<7?d=!0:c.documentElement.className=c.documentElement.className+" dk_fouc";var e={},f=[],g={left:37,up:38,right:39,down:40,enter:13},h=['<div class="dk_container" id="dk_container_{{ id }}" tabindex="{{ tabindex }}">','<a class="dk_toggle">','<span class="dk_label">{{ label }}</span><span class="dk_arrow button blue">&#x25BC;</span>',"</a>",'<div class="dk_options">','<ul class="dk_options_inner">',"</ul>","</div>","</div>"].join(""),i='<li class="{{ current }}"><a data-dk-dropdown-value="{{ value }}">{{ text }}</a></li>',j={startSpeed:0,theme:!1,change:!1},k=!1;e.init=function(b){return b=a.extend({},j,b),this.each(function(){var c=a(this),d=c.find(":selected").first(),e=c.find("option"),g=c.data("dropkick")||{},i=c.attr("id")||c.attr("name"),j=b.width||c.outerWidth(),k=c.attr("tabindex")?c.attr("tabindex"):"",l=!1,m;if(g.id)return c;g.settings=b,g.tabindex=k,g.id=i,g.$original=d,g.$select=c,g.value=s(c.val())||s(d.attr("value")),g.label=d.text(),g.options=e,l=r(h,g),l.find(".dk_toggle").css({width:"94%"}),c.before(l),m=b.theme?b.theme:"default",l.addClass("dk_theme_"+m),g.theme=m,g.$dk=l,c.data("dropkick",g),l.data("dropkick",g),f[f.length]=c,l.bind("focus.dropkick",function(a){l.addClass("dk_focus")}).bind("blur.dropkick",function(a){l.removeClass("dk_open dk_focus")}),setTimeout(function(){c.hide()},0)})},e.theme=function(b){var c=a(this),d=c.data("dropkick"),e=d.$dk,f="dk_theme_"+d.theme;e.removeClass(f).addClass("dk_theme_"+b),d.theme=b},e.reset=function(){for(var a=0,b=f.length;a<b;a++){var c=f[a].data("dropkick"),d=c.$dk,e=d.find("li").first();d.find(".dk_label").text(c.label),d.find(".dk_options_inner").animate({scrollTop:0},0),n(e,d),m(e,d,!0)}},a.fn.dropkick=function(a){if(!d){if(e[a])return e[a].apply(this,Array.prototype.slice.call(arguments,1));if(typeof a=="object"||!a)return e.init.apply(this,arguments)}},a(function(){a(".dk_toggle").live("click",function(c){var d=a(this).parents(".dk_container").first();return q(d),"ontouchstart"in b&&(d.addClass("dk_touch"),d.find(".dk_options_inner").addClass("scrollable vertical")),c.preventDefault(),!1}),a(".dk_options a").live(a.browser.msie?"mousedown":"click",function(b){var c=a(this),d=c.parents(".dk_container").first(),e=d.data("dropkick");return p(d),m(c,d),n(c.parent(),d),b.preventDefault(),!1}),a(c).bind("keydown.dk_nav",function(b){var c=a(".dk_container.dk_open"),d=a(".dk_container.dk_focus"),e=null;c.length?e=c:d.length&&!c.length&&(e=d),e&&l(b,e)})})}(jQuery,window,document),function(a){function c(a,b){return a.nodeType==3?e(a,b):d(a,b)}function d(b,d){var b=a(b),e=b.clone().empty(),f;return b.contents().each(function(){var a=d-e.text().length;if(a==0)return;f=c(this,a),f&&e.append(f)}),e}function e(c,d){var e=f(c.data);b&&(e=e.replace(/^ /,"")),b=!!e.match(/ $/);var e=e.slice(0,d);return e=a("<div/>").text(e).html(),e}function f(a){return a.replace(/\s+/g," ")}function g(b){var c=a(b),d=c.children(":last");if(!d)return b;var e=d.css("display");return!e||e=="inline"?c:g(d)}function h(b){var c=a(b),d=c.children(":last");return d&&d.is("p")?d:b}var b=!0;a.fn.truncate=function(b){var d=a.extend({},a.fn.truncate.defaults,b);a(this).each(function(){var b=a.trim(f(a(this).text())).length;if(b<=d.max_length+d.min_hidden)return;var e=d.max_length-d.more.length-3,i=c(this,e),j=a(this).hide();i.insertAfter(j),g(i).append(' (<a href="#show more content">'+d.more+"</a>)"),d.show_less&&h(j).append(' (<a href="#show less content">'+d.less+"</a>)"),i.find("a:last").click(function(){return i.hide(),j.show(),!1}),j.find("a:last").click(function(){return i.show(),j.hide(),!1})})},a.fn.truncate.defaults={max_length:100,min_hidden:200,more:"â¦more",less:"less",show_less:!1}}(jQuery),function(){function addEvent(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else{if(!a.attachEvent)throw new Error("not supported or DOM not loaded");a.attachEvent("on"+b,function(){c.call(a)})}}function addResizeEvent(a){var b;addEvent(window,"resize",function(){b&&clearTimeout(b),b=setTimeout(a,100)})}function getBox(a){var b,c,d,e,f=getOffset(a);return b=f.left,d=f.top,c=b+a.offsetWidth,e=d+a.offsetHeight,{left:b,right:c,top:d,bottom:e}}function addStyles(a,b){for(var c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])}function copyLayout(a,b){var c=getBox(a);addStyles(b,{position:"absolute",left:c.left+"px",top:c.top+"px",width:a.offsetWidth+"px",height:a.offsetHeight+"px"})}function fileFromPath(a){return a.replace(/.*(\/|\\)/,"")}function getExt(a){return-1!==a.indexOf(".")?a.replace(/.*[.]/,""):""}function hasClass(a,b){var c=new RegExp("\\b"+b+"\\b");return c.test(a.className)}function addClass(a,b){hasClass(a,b)||(a.className+=" "+b)}function removeClass(a,b){var c=new RegExp("\\b"+b+"\\b");a.className=a.className.replace(c,"")}function removeNode(a){a.parentNode.removeChild(a)}if(document.documentElement.getBoundingClientRect)var getOffset=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,g=e.clientLeft||d.clientLeft||0,h=1;if(d.getBoundingClientRect){var i=d.getBoundingClientRect();h=(i.right-i.left)/d.clientWidth}h>1&&(f=0,g=0);var j=b.top/h+(window.pageYOffset||e&&e.scrollTop/h||d.scrollTop/h)-f,k=b.left/h+(window.pageXOffset||e&&e.scrollLeft/h||d.scrollLeft/h)-g;return{top:j,left:k}};else var getOffset=function(a){var b=0,c=0;do b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent;while(a);return{left:c,top:b}};var toElement=function(){var a=document.createElement("div");return function(b){a.innerHTML=b;var c=a.firstChild;return a.removeChild(c)}}(),getUID=function(){var a=0;return function(){return"ValumsAjaxUpload"+a++}}();window.AjaxUpload=function(a,b){this._settings={action:"upload.php",name:"userfile",multiple:!1,data:{},autoSubmit:!0,responseType:!1,hoverClass:"hover",focusClass:"focus",disabledClass:"disabled",onChange:function(a,b){},onSubmit:function(a,b){},onComplete:function(a,b){}};for(var c in b)b.hasOwnProperty(c)&&(this._settings[c]=b[c]);a.jquery?a=a[0]:typeof a=="string"&&(/^#.*/.test(a)&&(a=a.slice(1)),a=document.getElementById(a));if(!a||a.nodeType!==1)throw new Error("Please make sure that you're passing a valid element");a.nodeName.toUpperCase()=="A"&&addEvent(a,"click",function(a){a&&a.preventDefault?a.preventDefault():window.event&&(window.event.returnValue=!1)}),this._button=a,this._input=null,this._disabled=!1,this.enable(),this._rerouteClicks()},AjaxUpload.prototype={setData:function(a){this._settings.data=a},disable:function(){addClass(this._button,this._settings.disabledClass),this._disabled=!0;var a=this._button.nodeName.toUpperCase();(a=="INPUT"||a=="BUTTON")&&this._button.setAttribute("disabled","disabled"),this._input&&this._input.parentNode&&(this._input.parentNode.style.visibility="hidden")},enable:function(){removeClass(this._button,this._settings.disabledClass),this._button.removeAttribute("disabled"),this._disabled=!1},_createInput:function(){var a=this,b=document.createElement("input");b.setAttribute("type","file"),b.setAttribute("name",this._settings.name),this._settings.multiple&&b.setAttribute("multiple","multiple"),addStyles(b,{position:"absolute",right:0,margin:0,padding:0,fontSize:"480px",fontFamily:"sans-serif",cursor:"pointer"});var c=document.createElement("div");addStyles(c,{display:"block",position:"absolute",overflow:"hidden",margin:0,padding:0,opacity:0,direction:"ltr",zIndex:2147483583});if(c.style.opacity!=="0"){if(typeof c.filters=="undefined")throw new Error("Opacity not supported by the browser");c.style.filter="alpha(opacity=0)"}addEvent(b,"change",function(){if(!b||b.value==="")return;var c=fileFromPath(b.value);if(!1===a._settings.onChange.call(a,c,getExt(c))){a._clearInput();return}a._settings.autoSubmit&&a.submit()}),addEvent(b,"mouseover",function(){addClass(a._button,a._settings.hoverClass)}),addEvent(b,"mouseout",function(){removeClass(a._button,a._settings.hoverClass),removeClass(a._button,a._settings.focusClass),b.parentNode&&(b.parentNode.style.visibility="hidden")}),addEvent(b,"focus",function(){addClass(a._button,a._settings.focusClass)}),addEvent(b,"blur",function(){removeClass(a._button,a._settings.focusClass)}),c.appendChild(b),document.body.appendChild(c),this._input=b},_clearInput:function(){if(!this._input)return;removeNode(this._input.parentNode),this._input=null,this._createInput(),removeClass(this._button,this._settings.hoverClass),removeClass(this._button,this._settings.focusClass)},_rerouteClicks:function(){var a=this;addEvent(a._button,"mouseover",function(){if(a._disabled)return;a._input||a._createInput();var b=a._input.parentNode;copyLayout(a._button,b),b.style.visibility="visible"})},_createIframe:function(){var a=getUID(),b=toElement('<iframe src="javascript:false;" name="'+a+'" />');return b.setAttribute("id",a),b.style.display="none",document.body.appendChild(b),b},_createForm:function(a){var b=this._settings,c=toElement('<form method="post" enctype="multipart/form-data"></form>');c.setAttribute("action",b.action),c.setAttribute("target",a.name),c.style.display="none",document.body.appendChild(c);for(var d in b.data)if(b.data.hasOwnProperty(d)){var e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name",d),e.setAttribute("value",b.data[d]),c.appendChild(e)}return c},_getResponse:function(iframe,file){var toDeleteFlag=!1,self=this,settings=this._settings;addEvent(iframe,"load",function(){if(iframe.src=="javascript:'%3Chtml%3E%3C/html%3E';"||iframe.src=="javascript:'<html></html>';"){toDeleteFlag&&setTimeout(function(){removeNode(iframe)},0);return}var doc=iframe.contentDocument?iframe.contentDocument:window.frames[iframe.id].document;if(doc.readyState&&doc.readyState!="complete")return;if(doc.body&&doc.body.innerHTML=="false")return;var response;doc.XMLDocument?response=doc.XMLDocument:doc.body?(response=doc.body.innerHTML,settings.responseType&&settings.responseType.toLowerCase()=="json"&&(doc.body.firstChild&&doc.body.firstChild.nodeName.toUpperCase()=="PRE"&&(doc.normalize(),response=doc.body.firstChild.firstChild.nodeValue),response?response=eval("("+response+")"):response={})):response=doc,settings.onComplete.call(self,file,response),toDeleteFlag=!0,iframe.src="javascript:'<html></html>';"})},submit:function(){var a=this,b=this._settings;if(!this._input||this._input.value==="")return;var c=fileFromPath(this._input.value);if(!1===b.onSubmit.call(this,c,getExt(c))){this._clearInput();return}var d=this._createIframe(),e=this._createForm(d);removeNode(this._input.parentNode),removeClass(a._button,a._settings.hoverClass),removeClass(a._button,a._settings.focusClass),e.appendChild(this._input),e.submit(),removeNode(e),e=null,removeNode(this._input),this._input=null,this._getResponse(d,c),this._createInput()}}}(),function(a,b,c){function j(a){var b={},d=/^jQuery\d+$/;return c.each(a.attributes,function(a,c){c.specified&&!d.test(c.name)&&(b[c.name]=c.value)}),b}function k(a,d){var e=this,f=c(e);if(e.value==f.attr("placeholder")&&f.hasClass("placeholder"))if(f.data("placeholder-password")){f=f.hide().next().show().attr("id",f.removeAttr("id").data("placeholder-id"));if(a===!0)return f[0].value=d;f.focus()}else e.value="",f.removeClass("placeholder"),e==b.activeElement&&e.select()}function l(){var a,b=this,d=c(b),e=d,f=this.id;if(b.value==""){if(b.type=="password"){if(!d.data("placeholder-textinput")){try{a=d.clone().attr({type:"text"})}catch(g){a=c("<input>").attr(c.extend(j(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":f}).bind("focus.placeholder",k),d.data({"placeholder-textinput":a,"placeholder-id":f}).before(a)}d=d.removeAttr("id").hide().prev().attr("id",f).show()}d.addClass("placeholder"),d[0].value=d.attr("placeholder")}else d.removeClass("placeholder")}var d="placeholder"in b.createElement("input"),e="placeholder"in b.createElement("textarea"),f=c.fn,g=c.valHooks,h,i;d&&e?(i=f.placeholder=function(){return this},i.input=i.textarea=!0):(i=f.placeholder=function(){var a=this;return a.filter((d?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":k,"blur.placeholder":l}).data("placeholder-enabled",!0).trigger("blur.placeholder"),a},i.input=d,i.textarea=e,h={get:function(a){var b=c(a);return b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,d){var e=c(a);return e.data("placeholder-enabled"
)?(d==""?(a.value=d,a!=b.activeElement&&l.call(a)):e.hasClass("placeholder")?k.call(a,!0,d)||(a.value=d):a.value=d,e):a.value=d}},d||(g.input=h),e||(g.textarea=h),c(function(){c(b).delegate("form","submit.placeholder",function(){var a=c(".placeholder",this).each(k);setTimeout(function(){a.each(l)},10)})}),c(a).bind("beforeunload.placeholder",function(){c(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),window.timeAgoInWords=function(a){var b=parseDate(a),c=(b-new Date)/1e3,d=Math.abs(Math.floor(c/60)),e=function(a){return c>0?"in "+a:a+" ago"};return d===0?e("less than a minute"):d==1?e("a minute"):d<45?e(d+" minutes"):d<90?e("about 1 hour"):d<1440?e("about "+Math.floor(d/60)+" hours"):d<2880?e("1 day"):d<43200?e(Math.floor(d/1440)+" days"):d<86400?e("about 1 month"):d<525960?e(Math.floor(d/43200)+" months"):d<1051199?e("about 1 year"):e("over "+Math.floor(d/525960)+" years")},window.parseDate=function(a){var b=a.match(/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})Z/);return Date.UTC(b[1],b[2]-1,b[3],b[4],b[5],b[6])},function(a){function c(a){return typeof a=="object"?a:{top:a,left:a}}var b=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};b.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1},b.window=function(b){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return a.browser.safari||d.compatMode=="BackCompat"?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){return typeof e=="object"&&(f=e,e=0),typeof f=="function"&&(f={onAfter:f}),d=="max"&&(d=9e9),f=a.extend({},b.defaults,f),e=e||f.speed||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=c(f.offset),f.over=c(f.over),this._scrollable().each(function(){function m(a){h.animate(k,e,f.easing,a&&function(){a.call(this,d,f)})}var g=this,h=a(g),i=d,j,k={},l=h.is("html,body");switch(typeof i){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(i)){i=c(i);break}i=a(i,this);case"object":if(i.is||i.style)j=(i=a(i)).offset()}a.each(f.axis.split(""),function(a,c){var d=c=="x"?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=g[n],p=b.max(g,c);if(j)k[n]=j[e]+(l?0:o-h.offset()[e]),f.margin&&(k[n]-=parseInt(i.css("margin"+d))||0,k[n]-=parseInt(i.css("border"+d+"Width"))||0),k[n]+=f.offset[e]||0,f.over[e]&&(k[n]+=i[c=="x"?"width":"height"]()*f.over[e]);else{var q=i[e];k[n]=q.slice&&q.slice(-1)=="%"?parseFloat(q)/100*p:q}/^\d+$/.test(k[n])&&(k[n]=k[n]<=0?0:Math.min(k[n],p)),!a&&f.queue&&(o!=k[n]&&m(f.onAfterFirst),delete k[n])}),m(f.onAfter)}).end()},b.max=function(b,c){var d=c=="x"?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])}}(jQuery),$.extend({postJSON:function(a){return $.ajax({type:"POST",url:a.url,contentType:"application/json",data:JSON.stringify(a.data),dataType:"json",success:a.success,error:a.error})}}),function(a){a.Jcrop=function(b,c){function K(a){return""+parseInt(a)+"px"}function L(a){return""+parseInt(a)+"%"}function M(a){return e.baseClass+"-"+a}function N(b){var c=a(b).offset();return[c.left,c.top]}function O(a){return[a.pageX-A[0],a.pageY-A[1]]}function P(a){a!=C&&(I.setCursor(a),C=a)}function Q(a,b){A=N(g),I.setCursor(a=="move"?a:a+"-resize");if(a=="move")return I.activateHandlers(S(b),X);var c=G.getFixed(),d=T(a),e=G.getCorner(T(d));G.setPressed(G.getCorner(d)),G.setCurrent(e),I.activateHandlers(R(a,c),X)}function R(a,b){return function(c){if(!e.aspectRatio)switch(a){case"e":c[1]=b.y2;break;case"w":c[1]=b.y2;break;case"n":c[0]=b.x2;break;case"s":c[0]=b.x2}else switch(a){case"e":c[1]=b.y+1;break;case"w":c[1]=b.y+1;break;case"n":c[0]=b.x+1;break;case"s":c[0]=b.x+1}G.setCurrent(c),H.update()}}function S(a){var b=a;return J.watchKeys(),function(a){G.moveOffset([a[0]-b[0],a[1]-b[1]]),b=a,H.update()}}function T(a){switch(a){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function U(a){return function(b){return e.disabled?!1:a=="move"&&!e.allowMove?!1:(B=!0,Q(a,O(b)),b.stopPropagation(),b.preventDefault(),!1)}}function V(a,b,c){var d=a.width(),e=a.height();d>b&&b>0&&(d=b,e=b/a.width()*a.height()),e>c&&c>0&&(e=c,d=c/a.height()*a.width()),x=a.width()/d,y=a.height()/e,a.width(d).height(e)}function W(a){return{x:parseInt(a.x*x),y:parseInt(a.y*y),x2:parseInt(a.x2*x),y2:parseInt(a.y2*y),w:parseInt(a.w*x),h:parseInt(a.h*y)}}function X(a){var b=G.getFixed();b.w>e.minSelect[0]&&b.h>e.minSelect[1]?(H.enableHandles(),H.done()):H.release(),I.setCursor(e.allowSelect?"crosshair":"default")}function Y(a){if(e.disabled)return!1;if(!e.allowSelect)return!1;B=!0,A=N(g),H.disableHandles(),P("crosshair");var b=O(a);return G.setPressed(b),I.activateHandlers(Z,X),J.watchKeys(),H.update(),a.stopPropagation(),a.preventDefault(),!1}function Z(a){G.setCurrent(a),H.update()}function _(){var b=a("<div></div>").addClass(M("tracker"));return a.browser.msie&&b.css({opacity:0,backgroundColor:"white"}),b}function ba(a){function t(){window.setTimeout(s,j)}var b=a[0]/x,c=a[1]/y,d=a[2]/x,f=a[3]/y;if(E)return;var g=G.flipCoords(b,c,d,f),h=G.getFixed(),i=initcr=[h.x,h.y,h.x2,h.y2],j=e.animationDelay,k=i[0],l=i[1],d=i[2],f=i[3],m=g[0]-initcr[0],n=g[1]-initcr[1],o=g[2]-initcr[2],p=g[3]-initcr[3],q=0,r=e.swingSpeed;H.animMode(!0);var s=function(){return function(){q+=(100-q)/r,i[0]=k+q/100*m,i[1]=l+q/100*n,i[2]=d+q/100*o,i[3]=f+q/100*p,q<100?t():H.done(),q>=99.8&&(q=100),bc(i)}}();t()}function bb(a){bc([a[0]/x,a[1]/y,a[2]/x,a[3]/y])}function bc(a){G.setPressed([a[0],a[1]]),G.setCurrent([a[2],a[3]]),H.update()}function bd(b){typeof b!="object"&&(b={}),e=a.extend(e,b),typeof e.onChange!="function"&&(e.onChange=function(){}),typeof e.onSelect!="function"&&(e.onSelect=function(){})}function be(){return W(G.getFixed())}function bf(){return G.getFixed()}function bg(a){bd(a),bl()}function bh(){e.disabled=!0,H.disableHandles(),H.setCursor("default"),I.setCursor("default")}function bi(){e.disabled=!1,bl()}function bj(){H.done(),I.activateHandlers(null,null)}function bk(){l.remove(),f.show()}function bl(a){e.allowResize?a?H.enableOnly():H.enableHandles():H.disableHandles(),I.setCursor(e.allowSelect?"crosshair":"default"),H.setCursor(e.allowMove?"move":"default"),l.css("backgroundColor",e.bgColor),"setSelect"in e&&(bb(c.setSelect),H.done(),delete e.setSelect),"trueSize"in e&&(x=e.trueSize[0]/j,y=e.trueSize[1]/k),s=e.maxSize[0]||0,t=e.maxSize[1]||0,u=e.minSize[0]||0,v=e.minSize[1]||0,"outerImage"in e&&(g.attr("src",e.outerImage),delete e.outerImage),H.refresh()}var b=b,c=c;typeof b!="object"&&(b=a(b)[0]),typeof c!="object"&&(c={}),"trackDocument"in c||(c.trackDocument=a.browser.msie?!1:!0,a.browser.msie&&a.browser.version.split(".")[0]=="8"&&(c.trackDocument=!0)),"keySupport"in c||(c.keySupport=a.browser.msie?!1:!0);var d={trackDocument:!1,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,borderOpacity:.4,handleOpacity:.5,handlePad:5,handleSize:9,handleOffset:5,edgeMargin:14,aspectRatio:0,keySupport:!0,cornerHandles:!0,sideHandles:!0,drawBorders:!0,dragEdges:!0,boxWidth:0,boxHeight:0,boundary:8,animationDelay:20,swingSpeed:3,allowSelect:!0,allowMove:!0,allowResize:!0,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){}},e=d;bd(c);var f=a(b),g=f.clone().removeAttr("id").css({position:"absolute"});g.width(f.width()),g.height(f.height()),f.after(g).hide(),V(g,e.boxWidth,e.boxHeight);var j=g.width(),k=g.height(),l=a("<div />").width(j).height(k).addClass(M("holder")).css({position:"relative",backgroundColor:e.bgColor}).insertAfter(f).append(g);e.addClass&&l.addClass(e.addClass);var m=a("<img />").attr("src",g.attr("src")).css("position","absolute").width(j).height(k),n=a("<div />").width(L(100)).height(L(100)).css({zIndex:310,position:"absolute",overflow:"hidden"}).append(m),o=a("<div />").width(L(100)).height(L(100)).css("zIndex",320),p=a("<div />").css({position:"absolute",zIndex:300}).insertBefore(g).append(n,o),q=e.boundary,r=_().width(j+q*2).height(k+q*2).css({position:"absolute",top:K(-q),left:K(-q),zIndex:290}).mousedown(Y),s,t,u,v,x,y,z=!0,A=N(g),B,C,D,E,F,G=function(){function i(e){var e=q(e);c=a=e[0],d=b=e[1]}function l(a){var a=q(a);f=a[0]-c,g=a[1]-d,c=a[0],d=a[1]}function m(){return[f,g]}function n(e){var f=e[0],g=e[1];0>a+f&&(f-=f+a),0>b+g&&(g-=g+b),k<d+g&&(g+=k-(d+g)),j<c+f&&(f+=j-(c+f)),a+=f,c+=f,b+=g,d+=g}function o(a){var b=p();switch(a){case"ne":return[b.x2,b.y];case"nw":return[b.x,b.y];case"se":return[b.x2,b.y2];case"sw":return[b.x,b.y2]}}function p(){if(!e.aspectRatio)return z();var f=e.aspectRatio,g=e.minSize[0]/x,i=e.minSize[1]/y,l=e.maxSize[0]/x,m=e.maxSize[1]/y,n=c-a,o=d-b,p=Math.abs(n),q=Math.abs(o),s=p/q,t,u;return l==0&&(l=j*10),m==0&&(m=k*10),s<f?(u=d,w=q*f,t=n<0?a-w:w+a,t<0?(t=0,h=Math.abs((t-a)/f),u=o<0?b-h:h+b):t>j&&(t=j,h=Math.abs((t-a)/f),u=o<0?b-h:h+b)):(t=c,h=p/f,u=o<0?b-h:b+h,u<0?(u=0,w=Math.abs((u-b)*f),t=n<0?a-w:w+a):u>k&&(u=k,w=Math.abs(u-b)*f,t=n<0?a-w:w+a)),t>a?(t-a<g?t=a+g:t-a>l&&(t=a+l),u>b?u=b+(t-a)/f:u=b-(t-a)/f):t<a&&(a-t<g?t=a-g:a-t>l&&(t=a-l),u>b?u=b+(a-t)/f:u=b-(a-t)/f),t<0?(a-=t,t=0):t>j&&(a-=t-j,t=j),u<0?(b-=u,u=0):u>k&&(b-=u-k,u=k),last=A(r(a,b,t,u))}function q(a){return a[0]<0&&(a[0]=0),a[1]<0&&(a[1]=0),a[0]>j&&(a[0]=j),a[1]>k&&(a[1]=k),[a[0],a[1]]}function r(a,b,c,d){var e=a,f=c,g=b,h=d;return c<a&&(e=c,f=a),d<b&&(g=d,h=b),[Math.round(e),Math.round(g),Math.round(f),Math.round(h)]}function z(){var e=c-a,f=d-b;s&&Math.abs(e)>s&&(c=e>0?a+s:a-s),t&&Math.abs(f)>t&&(d=f>0?b+t:b-t),v&&Math.abs(f)<v&&(d=f>0?b+v:b-v),u&&Math.abs(e)<u&&(c=e>0?a+u:a-u),a<0&&(c-=a,a-=a),b<0&&(d-=b,b-=b),c<0&&(a-=c,c-=c),d<0&&(b-=d,d-=d);if(c>j){var g=c-j;a-=g,c-=g}if(d>k){var g=d-k;b-=g,d-=g}if(a>j){var g=a-k;d-=g,b-=g}if(b>k){var g=b-k;d-=g,b-=g}return A(r(a,b,c,d))}function A(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}}var a=0,b=0,c=0,d=0,f,g;return{flipCoords:r,setPressed:i,setCurrent:l,getOffset:m,moveOffset:n,getCorner:o,getFixed:p}}(),H=function(){function r(b){var c=a("<div />").css({position:"absolute",opacity:e.borderOpacity}).addClass(M(b));return n.append(c),c}function s(b,c){var d=a("<div />").mousedown(U(b)).css({cursor:b+"-resize",position:"absolute",zIndex:c});return o.append(d),d}function t(a){return s(a,h++).css({top:K(-q+1),left:K(-q+1),opacity:e.handleOpacity}).addClass(M("handle"))}function u(a){var b=e.handleSize,c=q,d=b,f=b,g=c,i=c;switch(a){case"n":case"s":f=L(100);break;case"e":case"w":d=L(100)}return s(a,h++).width(f).height(d).css({top:K(-g+1),left:K(-i+1)})}function v(a){for(i in a)k[a[i]]=t(a[i])}function w(a){var b=Math.round(a.h/2-q),c=Math.round(a.w/2-q),d=west=-q+1,e=a.w-q,f=a.h-q,g,h;"e"in k&&k.e.css({top:K(b),left:K(e)})&&k.w.css({top:K(b)})&&k.s.css({top:K(f),left:K(c)})&&k.n.css({left:K(c)}),"ne"in k&&k.ne.css({left:K(e)})&&k.se.css({top:K(f),left:K(e)})&&k.sw.css({top:K(f)}),"b"in k&&k.b.css({top:K(f)})&&k.r.css({left:K(e)})}function x(a,b){m.css({top:K(-b),left:K(-a)}),p.css({top:K(b),left:K(a)})}function y(a,b){p.width(a).height(b)}function z(){var a=G.getFixed();G.setPressed([a.x,a.y]),G.setCurrent([a.x2,a.y2]),A()}function A(){if(f)return B()}function B(){var a=G.getFixed();y(a.w,a.h),x(a.x,a.y),e.drawBorders&&j.right.css({left:K(a.w-1)})&&j.bottom.css({top:K(a.h-1)}),l&&w(a),f||C(),e.onChange(W(a))}function C(){p.show(),g.css("opacity",e.bgOpacity),f=!0}function D(){I(),p.hide(),g.css("opacity",1),f=!1}function F(){l&&(w(G.getFixed()),o.show())}function H(){l=!0;if(e.allowResize)return w(G.getFixed()),o.show(),!0}function I(){l=!1,o.hide()}function J(a){(E=a)?I():H()}function N(){J(!1),z()}var b,c,d,f,h=370,j={},k={},l=!1,q=e.handleOffset;e.drawBorders&&(j={top:r("hline").css("top",a.browser.msie?K(-1):K(0)),bottom:r("hline"),left:r("vline"),right:r("vline")}),e.dragEdges&&(k.t=u("n"),k.b=u("s"),k.r=u("e"),k.l=u("w")),e.sideHandles&&v(["n","s","e","w"]),e.cornerHandles&&v(["sw","nw","ne","se"]);var O=_().mousedown(U("move")).css({cursor:"move",position:"absolute",zIndex:360});return n.append(O),I(),{updateVisible:A,update:B,release:D,refresh:z,setCursor:function(a){O.css("cursor",a)},enableHandles:H,enableOnly:function(){l=!0},showHandles:F,disableHandles:I,animMode:J,done:N}}(),I=function(){function f(){r.css({zIndex:450}),d&&a(document).mousemove(i).mouseup(j)}function h(){r.css({zIndex:290}),d&&a(document).unbind("mousemove",i).unbind("mouseup",j)}function i(a){b(O(a))}function j(a){return a.preventDefault(),a.stopPropagation(),B&&(B=!1,c(O(a)),e.onSelect(W(G.getFixed())),h(),b=function(){},c=function(){}),!1}function k(a,d){return B=!0,b=a,c=d,f(),!1}function l(a){r.css("cursor",a)}var b=function(){},c=function(){},d=e.trackDocument;return d||r.mousemove(i).mouseup(j).mouseout(j),g.before(r),{activateHandlers:k,setCursor:l}}(),J=function(){function d(){e.keySupport&&(b.show(),b.focus())}function f(a){b.hide()}function h(a,b,c){e.allowMove&&(G.moveOffset([b,c]),H.updateVisible()),a.preventDefault(),a.stopPropagation()}function i(a){if(a.ctrlKey)return!0;F=a.shiftKey?!0:!1;var b=F?10:1;switch(a.keyCode){case 37:h(a,-b,0);break;case 39:h(a,b,0);break;case 38:h(a,0,-b);break;case 40:h(a,0,b);break;case 27:H.release();break;case 9:return!0}return nothing(a)}var b=a('<input type="radio" />').css({position:"absolute",left:"-30px"}).keypress(i).blur(f),c=a("<div />").css({position:"absolute",overflow:"hidden"}).append(b);return e.keySupport&&c.insertBefore(g),{watchKeys:d}}();o.hide(),bl(!0);var bm={animateTo:ba,setSelect:bb,setOptions:bg,tellSelect:be,tellScaled:bf,disable:bh,enable:bi,cancel:bj,focus:J.watchKeys,getBounds:function(){return[j*x,k*y]},getWidgetSize:function(){return[j,k]},release:H.release,destroy:bk};return f.data("Jcrop",bm),bm},a.fn.Jcrop=function(b){function c(c){var d=b.useImg||c.src,e=new Image;e.onload=function(){a.Jcrop(c,b)},e.src=d}return typeof b!="object"&&(b={}),this.each(function(){if(a(this).data("Jcrop")){if(b=="api")return a(this).data("Jcrop");a(this).data("Jcrop").setOptions(b)}else c(this)}),this}}(jQuery),registerNamespaces("Plaxo.Util"),Plaxo.Util.Timer={timers:{},startTimer:function(a){if(!this.enabled)return;this.timers.id=(new Date).getTime()},getElapsedTime:function(a){if(!this.enabled)return;var b=this.timers.id;return b||alert("Unknown timer: "+a),(new Date).getTime()-b},alertElapsedTime:function(a){if(!this.enabled)return;alert('Elapsed time for "'+a+'": '+this.getElapsedTime(a))},enabled:!0,setTimersEnabled:function(a){this.enabled=a}},Plaxo.Util.Looper={doLoop:function(a,b,c,d,e){d||(d=500),e||(e=0);var f=e+d,g=!1;f>a.length&&(f=a.length,g=!0);for(var h=e;h<f;h++)b(a,h);g?c&&c():setTimeout(function(){Plaxo.Util.Looper.doLoop(a,b,c,d,f)},0)}},registerNamespaces("Plaxo.Form"),Plaxo.Form={getSelectValue:function(a){return a?a.options?a.options[a.selectedIndex].value:a.value:null},focusFirstVisibleFormElem:function(a,b){for(var c=0;c<a.length;c++){var d=a.elements[c];if(d.type!="hidden"&&d.style.display!="none"&&(!b||d.value.length==0)&&d.focus){d.focus();break}}}},registerNamespaces("Plaxo.String"),Plaxo.String={contains:function(a,b){return a.indexOf(b)!=-1},alnumChars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_",isalnum:function(a){return this.contains(this.alnumChars,a)},otherSafeEmailChars:".-+=",findBoundary:function(a,b,c){if(c){for(var d=b;d<a.length;d++){var e=a.charAt(d);if(!Plaxo.String.isalnum(e)&&!this.contains(this.otherSafeEmailChars,e))return d-1}return a.length-1}for(var d=b-1;d>=0;d--){var e=a.charAt(d);if(!Plaxo.String.isalnum(e)&&!this.contains(this.otherSafeEmailChars,e))return d+1}return 0},removeDups:function(a,b){var c=[],d={};for(var e=0;e<a.length;e++){var f=a[e];b&&(f=f.toLowerCase()),d[f]||(c.push(a[e]),d[f]=1)}return c}},registerNamespaces("Plaxo.Debug"),Plaxo.Debug={logLevel:0,assert:function(a,b){if(!a)throw b||(b="unk"),new Error("Assertion failed: "+b)},error:function(a){if(this.logLevel<1)return;alert(a),a=this.format(a,1),this.dumpEnabled&&dump(a)},warning:function(a){if(this.logLevel<2)return;a=this.format(a,2),this.dumpEnabled?dump(a):alert(a)},trace:function(a){if(this.logLevel<3)return;a=this.format(a,3),this.dumpEnabled?dump(a):window.status=a},format:function(a,b){var c=new Date;return b+"|"+c.toLocaleTimeString()+"."+c.getMilliseconds()+"|"+a+"\n"},dumpEnabled:!1,initialize:function(){var a="@mozilla.org/preferences;1",b="nsIPref",c="browser.dom.window.dump.enabled";try{var d=new Components.Constructor(a,b),e=new d;e.SetBoolPref(c,!0),this.dumpEnabled=!0}catch(f){typeof dump!="undefined"&&(this.dumpEnabled=!0)}}},Plaxo.Debug.initialize(),typeof Array.prototype.unshift=="undefined"&&(Array.prototype.unshift=Array_unshift),typeof Array.prototype.pop=="undefined"&&(Array.prototype.pop=Array_pop),typeof Array.prototype.push=="undefined"&&(Array.prototype.push=Array_push),typeof String.prototype.trim=="undefined"&&(String.prototype.trim=String_trim),typeof String.prototype.endsWith=="undefined"&&(String.prototype.endsWith=String_endsWith);var brz=new plx_Browser;registerNamespaces("Plaxo"),Plaxo.Util.Timer.setTimersEnabled(!1),Plaxo.byId=function(a){return typeof a=="string"&&(a=document.getElementById(a)),a},Plaxo.Class={create:function(){return function(){this.initialize.apply(this,arguments)}}},Plaxo.ABLauncher=Plaxo.Class.create(),Plaxo.ABLauncher.prototype={initialize:function(){Plaxo.Debug.trace("initializing"),this.name="Plaxo.ABLauncher 1.0",this.abWin=null,this.textArea=null,this.currentEmails={}},dialogWidth:460,dialogHeight:480,toQueryString:function(a){var b=[];for(key in a){if(typeof a[key]=="function")continue;var c=encodeURIComponent(key)+"="+encodeURIComponent(a[key]);b.push(c)}return b.join("&")},showABChooser:function(a,b,c,d){this.textArea=Plaxo.byId(a);if(!this.textArea){Plaxo.Debug.error("can't find text area -> aborting");return}this.currentEmails={},this.extractEmails(this.textArea.value);if(!this.abWin||this.abWin.closed){c.length>0&&c.charAt(0)!="/"&&(c="/"+c);var e=location.protocol+"//"+location.host+c;d.cb=e,d.host=location.href,d.ts=(new Date).getTime();var f=this.toQueryString(d);if(d.comcast)var g="https://"+b+"/scc?action=abchooser&"+f;else var g="https://"+b+"/ab_chooser?"+f;if(d.plaxoMembersOnly)g+="&direct=1";else{var h=this.getCurrentEmailList().join(",");g+="&t=import&emails="+escape(h)}this.abWin=popup(g,"PlaxoABC",this.dialogWidth,this.dialogHeight,"resizable=no,scrollbars=no")}this.abWin&&this.abWin.focus()},getCurrentEmailList:function(){var a=[];for(email in this.currentEmails)a.push(email);return a},extractEmails:function(a){var b=0;for(;;){b=a.indexOf("@",b);if(b==-1)break;var c=Plaxo.String.findBoundary(a,b-1,!1),d=Plaxo.String.findBoundary(a,b+1,!0),e=a.substring(c,d+1).toLowerCase();this.currentEmails[e]=1,b++}},hasCurrentEmail:function(a){return this.currentEmails[a.toLowerCase()]},addCheckedRecipients:function(a){if(!a)return!1;if(!this.textArea)return Plaxo.Debug.error("no text area to add recipients to"),!1;var b=this.textArea.value;return b&&!b.trim().endsWith(",")&&(b+=", "),b+=a,this.setTextAreaValue(b),!0},setTextAreaValue:function(a){this.textArea.value=a}},Plaxo.abl=null,function(){var a;a=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(a){return a.nodeName==="OPTGROUP"?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:a.label,children:0,disabled:a.disabled}),f=a.childNodes,g=[];for(d=0,e=f.length;d<e;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){if(a.nodeName==="OPTION")return a.text!==""?(b!=null&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},a}(),a.select_to_array=function(b){var c,d,e,f,g;d=new a,g=b.childNodes;for(e=0,f=g.length;e<f;e++)c=g[e],d.add_node(c);return d.parsed},this.SelectParser=a}.call(this),function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};b=this,a=function(){function a(a,b){this.form_field=a,this.options=b!=null?b:{},this.set_default_values(),this.is_multiple=this.form_field.multiple,this.default_text_default=this.is_multiple?"Select Some Options":"Select an Option",this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return a.prototype.set_default_values=function(){return this.click_test_action=c(function(a){return this.test_active_click(a)},this),this.activate_action=c(function(a){return this.activate_field(a)},this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.choices=0,this.results_none_found=this.options.no_results_text||"No results match"},a.prototype.mouse_enter=function(){return this.mouse_on_container=!0},a.prototype.mouse_leave=function(){return this.mouse_on_container=!1},a.prototype.input_focus=function(a){if(!this.active_field)return setTimeout(c(function(){return this.container_mousedown()},this),50)},a.prototype.input_blur=function(a){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(c(function(){return this.blur_test()},this),100)},a.prototype.result_add_option=function(a){var b,c;return a.disabled?"":(a.dom_id=this.container_id+"_o_"+a.array_index,b=a.selected&&this.is_multiple?[]:["active-result"],a.selected&&b.push("result-selected"),a.group_array_index!=null&&b.push("group-option"),a.classes!==""&&b.push(a.classes),c=a.style.cssText!==""?' style="'+a.style+'"':"",'<li id="'+a.dom_id+'" class="'+b.join(" ")+'"'+c+">"+a.html+"</li>")},a.prototype.results_update_field=function(){return this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},a.prototype.results_search=function(a){return this.results_showing?this.winnow_results():this.results_show()},a.prototype.keyup_checker=function(a){var b,c;b=(c=a.which)!=null?c:a.keyCode,this.search_field_scale();switch(b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:a.preventDefault();if(this.results_showing)return this.result_select(a);break;case 27:if(this.results_showing)return this.results_hide();break;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},a.prototype.generate_field_id=function(){var a;return a=this.generate_random_id(),this.form_field.id=a,a},a.prototype.generate_random_char=function(){var a,b,c;return a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ",c=Math.floor(Math.random()*a.length),b=a.substring(c,c+1)},a}(),b.AbstractChosen=a}.call(this),function(){var a,b,c,d,e=Object.prototype.hasOwnProperty,f=function(a,b){function d(){this.constructor=a}for(var c in b)e.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},g=function(a,b){return function(){return a.apply(b,arguments)}};d=this,a=jQuery,a.fn.extend({chosen:function(c){return a.browser!=="msie"||a.browser.version!=="6.0"&&a.browser.version!=="7.0"?a(this).each(function(d){if(!a(this).hasClass("chzn-done"))return new b(this,c)}):this}}),b=function(){function b(){b.__super__.constructor.apply(this,arguments)}return f(b,AbstractChosen),b.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},b.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},b.prototype.set_up_html=function(){var b,d,e,f;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/(:|\.)/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.f_width=this.form_field_jq.outerWidth(),this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default,b=a("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"}),this.is_multiple?b.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):b.html('<a href="javascript:void(0)" class="chzn-single"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(b),this.container=a("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),!this.is_multiple&&this.form_field.options.length<=this.disable_search_threshold&&this.container.addClass("chzn-container-single-nosearch"),this.dropdown=this.container.find("div.chzn-drop").first(),d=this.container.height(),e=this.f_width-c(this.dropdown),this.dropdown.css({width:e+"px",top:d+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),f=e-c(this.search_container)-c(this.search_field),this.search_field.css({width:f+"px"})),this.results_build(),this.set_tab_index()},b.prototype.register_observers=function(){this.container.mousedown(g(function(a){return this.container_mousedown(a)},this)),this.container.mouseup(g(function(a){return this.container_mouseup(a)},this)),this.container.mouseenter(g(function(a){return this.mouse_enter(a)},this)),this.container.mouseleave(g(function(a){return this.mouse_leave(a)},this)),this.search_results.mouseup(g(function(a){return this.search_results_mouseup(a)},this)),this.search_results.mouseover(g(function(a){return this.search_results_mouseover(a)},this)),this.search_results.mouseout(g(function(a){return this.search_results_mouseout(a)},this)),this.form_field_jq.bind("liszt:updated",g(function(a){return this.results_update_field(a)},this)),this.search_field.blur(g(function(a){return this.input_blur(a)},this)),this.search_field.keyup(g(function(a){return this.keyup_checker(a)},this)),this.search_field.keydown(g(function(a){return this.keydown_checker(a)},this));if(this.is_multiple)return this.search_choices.click(g(function(a){return this.choices_click(a)},this)),this.search_field.focus(g(function(a){return this.input_focus(a)},this))},b.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq.attr("disabled");if(this.is_disabled)return this.container.addClass("chzn-disabled"),this.search_field.attr("disabled",!0),this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field();this.container.removeClass("chzn-disabled"),this.search_field.attr("disabled",!1);if(!this.is_multiple)return this.selected_item.bind("focus",this.activate_action)},b.prototype.container_mousedown=function(b){var c;if(!this.is_disabled)return c=b!=null?a(b.target).hasClass("search-choice-close"):!1,b&&b.type==="mousedown"&&b.stopPropagation(),!this.pending_destroy_click&&!c?(this.active_field?!this.is_multiple&&b&&(a(b.target)===this.selected_item||a(b.target).parents("a.chzn-single").length)&&(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(document).click(this.click_test_action),this.results_show()),this.activate_field()):this.pending_destroy_click=!1},b.prototype.container_mouseup=function(a){if(a.target.nodeName==="ABBR")return this.results_reset(a)},b.prototype.blur_test=function(a){if(!this.active_field&&this.container.hasClass("chzn-container-active"))return this.close_field()},b.prototype.close_field=function(){return a(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},b.prototype.activate_field=function(){return!this.is_multiple&&!this.active_field&&(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},b.prototype.test_active_click=function(b){return a(b.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},b.prototype.results_build=function(){var a,b,c,e,f,g;c=new Date,this.parsing=!0,this.results_data=d.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||this.selected_item.find("span").text(this.default_text),a="",g=this.results_data;for(e=0,f=g.length;e<f;e++)b=g[e],b.group?a+=this.result_add_group(b):b.empty||(a+=this.result_add_option(b),b.selected&&this.is_multiple?this.choice_build(b):b.selected&&!this.is_multiple&&(this.selected_item.find("span").text(b.text),this.allow_single_deselect&&this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(a),this.parsing=!1},b.prototype.result_add_group=function(b){return b.disabled?"":(b.dom_id=this.container_id+"_g_"+b.array_index,'<li id="'+b.dom_id+'" class="group-result">'+a("<div />").text(b.label).html()+"</li>")},b.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight();if(b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(c<f)return this.search_results.scrollTop(c)}},b.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},b.prototype.results_show=function(){var a;return this.is_multiple||(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected)),a=this.is_multiple?this.container.height():this.container.height()-1,this.dropdown.css({top:a+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},b.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},b.prototype.set_tab_index=function(a){var b;if(this.form_field_jq.attr("tabindex"))return b=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.is_multiple?this.search_field.attr("tabindex",b):(this.selected_item.attr("tabindex",b),this.search_field.attr("tabindex",-1))},b.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},b.prototype.search_results_mouseup=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result"
).first();if(c.length)return this.result_highlight=c,this.result_select(b)},b.prototype.search_results_mouseover=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c)return this.result_do_highlight(c)},b.prototype.search_results_mouseout=function(b){if(a(b.target).hasClass("active-result"))return this.result_clear_highlight()},b.prototype.choices_click=function(b){b.preventDefault();if(this.active_field&&!a(b.target).hasClass("search-choice")&&!this.results_showing)return this.results_show()},b.prototype.choice_build=function(b){var c,d;return c=this.container_id+"_c_"+b.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+c+'"><span>'+b.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+b.array_index+'"></a></li>'),d=a("#"+c).find("a").first(),d.click(g(function(a){return this.choice_destroy_link_click(a)},this))},b.prototype.choice_destroy_link_click=function(b){return b.preventDefault(),this.is_disabled?b.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(a(b.target)))},b.prototype.choice_destroy=function(a){return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(a.attr("rel")),a.parents("li").first().remove()},b.prototype.results_reset=function(b){this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.show_search_field_default(),a(b.target).remove(),this.form_field_jq.trigger("change");if(this.active_field)return this.results_hide()},b.prototype.result_select=function(a){var b,c,d,e;if(this.result_highlight)return b=this.result_highlight,c=b.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(b):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=b),b.addClass("result-selected"),e=c.substr(c.lastIndexOf("_")+1),d=this.results_data[e],d.selected=!0,this.form_field.options[d.options_index].selected=!0,this.is_multiple?this.choice_build(d):(this.selected_item.find("span").first().text(d.text),this.allow_single_deselect&&this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')),(!a.metaKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),this.form_field_jq.trigger("change"),this.search_field_scale()},b.prototype.result_activate=function(a){return a.addClass("active-result")},b.prototype.result_deactivate=function(a){return a.removeClass("active-result")},b.prototype.result_deselect=function(b){var c,d;return d=this.results_data[b],d.selected=!1,this.form_field.options[d.options_index].selected=!1,c=a("#"+this.container_id+"_o_"+b),c.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change"),this.search_field_scale()},b.prototype.winnow_results=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;j=new Date,this.no_results_clear(),h=0,i=this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html(),f=new RegExp("^"+i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),m=new RegExp(i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),r=this.results_data;for(n=0,p=r.length;n<p;n++){c=r[n];if(!c.disabled&&!c.empty)if(c.group)a("#"+c.dom_id).hide();else if(!this.is_multiple||!c.selected){b=!1,g=c.dom_id;if(f.test(c.html))b=!0,h+=1;else if(c.html.indexOf(" ")>=0||c.html.indexOf("[")===0){e=c.html.replace(/\[|\]/g,"").split(" ");if(e.length)for(o=0,q=e.length;o<q;o++)d=e[o],f.test(d)&&(b=!0,h+=1)}b?(i.length?(k=c.html.search(m),l=c.html.substr(0,k+i.length)+"</em>"+c.html.substr(k+i.length),l=l.substr(0,k)+"<em>"+l.substr(k)):l=c.html,a("#"+g).html!==l&&a("#"+g).html(l),this.result_activate(a("#"+g)),c.group_array_index!=null&&a("#"+this.results_data[c.group_array_index].dom_id).show()):(this.result_highlight&&g===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a("#"+g)))}}return h<1&&i.length?this.no_results(i):this.winnow_results_set_highlight()},b.prototype.winnow_results_clear=function(){var b,c,d,e,f;this.search_field.val(""),c=this.search_results.find("li"),f=[];for(d=0,e=c.length;d<e;d++)b=c[d],b=a(b),f.push(b.hasClass("group-result")?b.show():!this.is_multiple||!b.hasClass("result-selected")?this.result_activate(b):void 0);return f},b.prototype.winnow_results_set_highlight=function(){var a,b;if(!this.result_highlight){b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first();if(a!=null)return this.result_do_highlight(a)}},b.prototype.no_results=function(b){var c;return c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),c.find("span").first().html(b),this.search_results.append(c)},b.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},b.prototype.keydown_arrow=function(){var b,c;this.result_highlight?this.results_showing&&(c=this.result_highlight.nextAll("li.active-result").first(),c&&this.result_do_highlight(c)):(b=this.search_results.find("li.active-result").first(),b&&this.result_do_highlight(a(b)));if(!this.results_showing)return this.results_show()},b.prototype.keyup_arrow=function(){var a;if(!this.results_showing&&!this.is_multiple)return this.results_show();if(this.result_highlight)return a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())},b.prototype.keydown_backstroke=function(){return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(this.pending_backstroke=this.search_container.siblings("li.search-choice").last(),this.pending_backstroke.addClass("search-choice-focus"))},b.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},b.prototype.keydown_checker=function(a){var b,c;b=(c=a.which)!=null?c:a.keyCode,this.search_field_scale(),b!==8&&this.pending_backstroke&&this.clear_backstroke();switch(b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},b.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(i=0,j=g.length;i<j;i++)e=g[i],f+=e+":"+this.search_field.css(e)+";";return c=a("<div />",{style:f}),c.text(this.search_field.val()),a("body").append(c),h=c.width()+25,c.remove(),h>this.f_width-10&&(h=this.f_width-10),this.search_field.css({width:h+"px"}),b=this.container.height(),this.dropdown.css({top:b+"px"})}},b.prototype.generate_random_id=function(){var b;b="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(a("#"+b).length>0)b+=this.generate_random_char();return b},b}(),c=function(a){var b;return b=a.outerWidth()-a.width()},d.get_side_border_padding=c}.call(this),jQuery.fn.highlight=function(a){function b(a,c){var d=0;if(a.nodeType==3){var e=a.data.toUpperCase().indexOf(c);if(e>=0){var f=document.createElement("span");f.className="highlight";var g=a.splitText(e),h=g.splitText(c.length),i=g.cloneNode(!0);f.appendChild(i),g.parentNode.replaceChild(f,g),d=1}}else if(a.nodeType==1&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(var j=0;j<a.childNodes.length;++j)j+=b(a.childNodes[j],c);return d}return this.each(function(){b(this,a.toUpperCase())})},jQuery.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;with(this.parentNode)replaceChild(this.firstChild,this),normalize()}).end()},window.Modernizr=function(a,b,c){function d(a){r.cssText=a}function e(a,b){return d(v.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a)if(r[a[d]]!==c)return b=="pfx"?a[d]:!0;return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.substr(1),e=(a+" "+x.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+y.join(d+" ")+d).split(" "),i(e,b,c))}function k(){m.input=function(c){for(var d=0,e=c.length;d<e;d++)B[c[d]]=c[d]in s;return B.list&&(B.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),B}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),m.inputtypes=function(a){for(var d=0,e,f,g,h=a.length;d<h;d++)s.setAttribute("type",f=a[d]),e=s.type!=="text",e&&(s.value=t,s.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&s.style.WebkitAppearance!==c?(o.appendChild(s),g=b.defaultView,e=g.getComputedStyle&&g.getComputedStyle(s,null).WebkitAppearance!=="textfield"&&s.offsetHeight!==0,o.removeChild(s)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=s.checkValidity&&s.checkValidity()===!1:/^color$/.test(f)?(o.appendChild(s),o.offsetWidth,e=s.value!=t,o.removeChild(s)):e=s.value!=t)),A[a[d]]=!!e;return A}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var l="2.5.3",m={},n=!0,o=b.documentElement,p="modernizr",q=b.createElement(p),r=q.style,s=b.createElement("input"),t=":)",u={}.toString,v=" -webkit- -moz- -o- -ms- ".split(" "),w="Webkit Moz O ms",x=w.split(" "),y=w.toLowerCase().split(" "),z={},A={},B={},C=[],D=C.slice,E,F=function(a,c,d,e){var f,g,h,i=b.createElement("div"),j=b.body,k=j?j:b.createElement("body");if(parseInt(d,10))while(d--)h=b.createElement("div"),h.id=e?e[d]:p+(d+1),i.appendChild(h);return f=["&#173;","<style>",a,"</style>"].join(""),i.id=p,k.innerHTML+=f,k.appendChild(i),j||(k.style.background="",o.appendChild(k)),g=c(i,a),j?i.parentNode.removeChild(i):k.parentNode.removeChild(k),!!g},G=function(){function a(a,e){e=e||b.createElement(d[a]||"div"),a="on"+a;var g=a in e;return g||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(a,""),g=f(e[a],"function"),f(e[a],"undefined")||(e[a]=c),e.removeAttribute(a))),e=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),H={}.hasOwnProperty,I;!f(H,"undefined")&&!f(H.call,"undefined")?I=function(a,b){return H.call(a,b)}:I=function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(typeof b!="function")throw new TypeError;var c=D.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(D.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(D.call(arguments)))};return d});var J=function(a,c){var d=a.join(""),e=c.length;F(d,function(a,c){var d=b.styleSheets[b.styleSheets.length-1],f=d?d.cssRules&&d.cssRules[0]?d.cssRules[0].cssText:d.cssText||"":"",g=a.childNodes,h={};while(e--)h[g[e].id]=g[e];m.generatedcontent=(h.generatedcontent&&h.generatedcontent.offsetHeight)>=1,m.fontface=/src/i.test(f)&&f.indexOf(c.split(" ")[0])===0},e,c)}(['@font-face {font-family:"font";src:url("https://")}',['#generatedcontent:after{content:"',t,'";visibility:hidden}'].join("")],["fontface","generatedcontent"]);z.geolocation=function(){return!!navigator.geolocation},z.postmessage=function(){return!!a.postMessage},z.hashchange=function(){return G("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},z.history=function(){return!!a.history&&!!history.pushState},z.multiplebgs=function(){return d("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(r.background)},z.backgroundsize=function(){return j("backgroundSize")},z.borderimage=function(){return j("borderImage")},z.borderradius=function(){return j("borderRadius")},z.boxshadow=function(){return j("boxShadow")},z.textshadow=function(){return b.createElement("div").style.textShadow===""},z.opacity=function(){return e("opacity:.55"),/^0.55$/.test(r.opacity)},z.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return d((a+"-webkit- ".split(" ").join(b+a)+v.join(c+a)).slice(0,-a.length)),g(r.backgroundImage,"gradient")},z.fontface=function(){return m.fontface},z.generatedcontent=function(){return m.generatedcontent},z.localstorage=function(){try{return localStorage.setItem(p,p),localStorage.removeItem(p),!0}catch(a){return!1}},z.sessionstorage=function(){try{return sessionStorage.setItem(p,p),sessionStorage.removeItem(p),!0}catch(a){return!1}},z.applicationcache=function(){return!!a.applicationCache};for(var K in z)I(z,K)&&(E=K.toLowerCase(),m[E]=z[K](),C.push((m[E]?"":"no-")+E));return m.input||k(),d(""),q=s=null,function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=k.elements;return typeof a=="string"?a.split(" "):a}function e(a){var b={},c=a.createElement,e=a.createDocumentFragment,f=e();a.createElement=function(a){var d=(b[a]||(b[a]=c(a))).cloneNode();return k.shivMethods&&d.canHaveChildren&&!h.test(a)?f.appendChild(d):d},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/\w+/g,function(a){return b[a]=c(a),f.createElement(a),'c("'+a+'")'})+");return n}")(k,f)}function f(a){var b;return a.documentShived?a:(k.shivCSS&&!i&&(b=!!c(a,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),j||(b=!e(a)),b&&(a.documentShived=b),a)}var g=a.html5||{},h=/^<|^(?:button|form|map|select|textarea)$/i,i,j;(function(){var a=b.createElement("a");a.innerHTML="<xyz></xyz>",i="hidden"in a,j=a.childNodes.length==1||function(){try{b.createElement("a")}catch(a){return!0}var c=b.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}()})();var k={elements:g.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:g.shivCSS!==!1,shivMethods:g.shivMethods!==!1,type:"default",shivDocument:f};a.html5=k,f(b)}(this,b),m._version=l,m._prefixes=v,m._domPrefixes=y,m._cssomPrefixes=x,m.hasEvent=G,m.testProp=function(a){return h([a])},m.testAllProps=j,m.testStyles=F,o.className=o.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(n?" js "+C.join(" "):""),m}(this,this.document),function(a,b,c){function d(a){return o.call(a)=="[object Function]"}function e(a){return typeof a=="string"}function f(){}function g(a){return!a||a=="loaded"||a=="complete"||a=="uninitialized"}function h(){var a=p.shift();q=1,a?a.t?m(function(){(a.t=="c"?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){a!="img"&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l={},o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};y[c]===1&&(r=1,y[c]=[],l=b.createElement(a)),a=="object"?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),a!="img"&&(r||y[c]===2?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i(b=="c"?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),p.length==1&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&o.call(a.opera)=="[object Opera]",l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return o.call(a)=="[object Array]"},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,i){var j=b(a),l=j.autoCallback;j.url.split(".").pop().split("?").shift(),j.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]||h),j.instead?j.instead(a,e,f,g,i):(y[j.url]?j.noexec=!0:y[j.url]=1,f.load(j.url,j.forceCSS||!j.forceJS&&"css"==j.url.split(".").pop().split("?").shift()?"c":c,j.noexec,j.attrs,j.timeout),(d(e)||d(l))&&f.load(function(){k(),e&&e(j.origUrl,i,g),l&&l(j.origUrl,i,g),y[j.url]=2})))}function i(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var j,l,m=this.yepnope.loader;if(e(a))g(a,0,m,0);else if(w(a))for(j=0;j<a.length;j++)l=a[j],e(l)?g(l,0,m,0):w(l)?B(l):Object(l)===l&&i(l,m);else Object(a)===a&&i(a,m)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,b.readyState==null&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},window.CommonPlace||(window.CommonPlace={main:{},pages:{},shared:{},registration:{},views:{},wire_item:{}}),_.extend(CommonPlace,{autoActionTimeout:500,facebookAppId:"abc123"}),FeatureSwitcher=function(a,b){this._features=_(a).keys(),this._backend=b,this.features=function(){return this._features},this.activate=function(a){this.set(a,!0)},this.deactivate=function(a){this.set(a,!1)},this.toggle=function(a){this.set(a,!this.isActive(a))},this.isActive=function(a){return this.get(a)},this.set=function(a,b){this._backend.setItem(this.keyFor(a),JSON.stringify(b))},this.get=function(a){return JSON.parse(this._backend.getItem(this.keyFor(a)))},this.keyFor=function(a){return"features:"+a};var c=this;return _(a).each(function(a,b){c.set(b,a||c.isActive(b))}),this},Features=new FeatureSwitcher({"2012Release":!0,post_subwinnow:!1,CPCreditsHeaderView:!1},window.sessionStorage||{setItem:function(a,b){},getItem:function(a){return!1}});var CommonPlace=CommonPlace||{main:{},pages:{},shared:{},registration:{},views:{},wire_item:{}};CommonPlace.View=Backbone.View.extend({page_name:"view",track:!1,logVisit:function(){this.track&&(CommonPlace.visit_id?$.ajax({type:"PUT",dataType:"json",url:"/api/stats/update_session",data:JSON.stringify({path:this.page_name,ip_address:CommonPlace.account.get("current_sign_in_ip"),original_visit_id:CommonPlace.visit_id,commonplace_account_id:CommonPlace.account.get("id"),community_id:CommonPlace.community.get("id")})}):$.ajax({type:"POST",dataType:"json",url:"/api/stats/create_session",data:JSON.stringify({path:this.page_name,ip_address:CommonPlace.account.get("current_sign_in_ip"),commonplace_account_id:CommonPlace.account.get("id"),community_id:CommonPlace.community.get("id")}),success:function(a){CommonPlace.visit_id=a}}))},render:function(){var a=this;return a.aroundRender(function(){a.beforeRender(),$(a.el).html(a.renderTemplate(a.getTemplate(),a)),a.afterRender(),a.logVisit()}),this},beforeRender:function(){},afterRender:function(){},aroundRender:function(a){a()},renderTemplate:function(a,b){if(!Templates[a])throw new Error("template '"+a+"' does not exist");return Mustache.to_html(Templates[a],b,Templates)},attr_accessible:function(a){var b=this;_.each(a,function(a){b[a]=function(){return b.model.get(a)}})},assets:function(a){var b=function(a){return"/assets/"+a};return a?b(a):b},getTemplate:function(){return this.options.template||this.template},t:function(a){var b=I18N[CommonPlace.community.get("locale")];if(!b)throw new Error("Unknown locale");var c=b[this.getTemplate()]||{},d=function(a,b){b||(b=function(a){return a});var d=c[a];return d?b(d):a};return a?d(a):d},markdown:function(a){var b=function(a,b){return b||(b=function(a){return a}),a=b(a).replace(/!\[/g,"["),'<div class="markdown body">'+(new Showdown.converter).makeHtml(a)+"</div>"};return a?b(a):b},cleanUpPlaceholders:function(){this.$("[placeholder]").each(function(){var a=$(this);a.val()==a.attr("placeholder")&&a.val("")})},isIE8orBelow:function(){return $.browser.msie&&$.browser.version<9},browserSupportsPlaceholders:function(){return $.fn.placeholder.input},isActive:function(a){return window.Features.isActive(a)},bind:$.noop,unbind:$.noop,community_name:function(){return CommonPlace.community.get("name")},organizer:function(){return CommonPlace.community.get("admin_name")},organizer_email:function(){return CommonPlace.community.get("admin_email")},community_slug:function(){return CommonPlace.community.get("slug")},community_user_count:function(){return CommonPlace.community.get("user_count")},community_feed_count:function(){return CommonPlace.community.get("feed_count")},isGuest:function(){return CommonPlace.account?CommonPlace.account.isGuest():!0},isHarvardNeighbors:function(){return CommonPlace.community&&CommonPlace.community.get("slug").toLowerCase()=="harvardneighbors"?!0:!1},showRegistration:function(a){a&&a.preventDefault();var b=new CommonPlace.main.TourModal({el:$("#main"),template:"main_page.tour.modal"});return b.render(),b.showPage("email"),!1},showFeedCreationForm:function(a){var b;return a&&a.preventDefault(),b=new CommonPlace.main.TourModal({el:$("#main"),template:"main_page.tour.modal",exitWhenDone:!0}),b.render(),b.showPage("create_page")}});var FormView=CommonPlace.View.extend({initialize:function(a){this.template=a.template||this.template,this.el=a.el||this.el,this.modal=new ModalView({form:this.el})},afterRender:function(){this.options&&this.options.subject&&this.$("[name=subject]").val(this.options.subject),this.modal.render(),this.$("input[placeholder], textarea[placeholder]").placeholder()},events:{"click form a.cancel":"exit","click .close":"exit","click form a.delete":"deletePost","submit form":"send"},send:function(a){a.preventDefault();var b=this;this.save(function(){b.modal.exit()})},exit:function(a){a&&a.preventDefault(),this.modal.exit()},deletePost:function(a){a&&a.preventDefault();var b=this;this.remove(function(){b.modal.exit()})}}),EventFormView=FormView.extend({afterRender:function(){this.modal.render(),this.$("input.date").datepicker({dateFormat:"yy-mm-dd"}),this.$("select.time").dropkick()},save:function(a){var b=this;this.model.save({title:this.$("[name=title]").val(),body:this.$("[name=body]").val(),occurs_at:this.$("[name=date]").val(),starts_at:this.$("[name=start]").val(),ends_at:this.$("[name=end]").val(),venue:this.$("[name=venue]").val(),address:this.$("[name=address]").val()},{success:a,error:function(a,c){b.showError(c)}})},showError:function(a){this.$(".error").text(a.responseText),this.$(".error").show()},remove:function(a){this.model.destroy({success:a})},title:function(){return this.model.get("title")},body:function(){return this.model.get("body")},date:function(){return this.model.get("occurs_at").split("T")[0]},venue:function(){return this.model.get("venue")},address:function(){return this.model.get("address")},time_values:function(){var a=(this.model.get("starts_at")||"").replace(" ",""),b=(this.model.get("ends_at")||"").replace(" ",""),c=_.flatten(_.map(["AM","PM"],function(a){return _.map(_.range(1,13),function(b){return _.map(["00","30"],function(c){return String(b)+":"+c+" "+a})})})),d=[];return _.each(c,function(c){var e={".":c,is_start:c.replace(" ","").toLowerCase()==a,is_end:c.replace(" ","").toLowerCase()==b};d.push(e)}),d}});FeatureSwitching=CommonPlace.View.extend({template:"shared.feature-switching",events:{"change input:checkbox":"toggleFeature","click a.feature-panel-toggle":"toggleFeaturePanel","click button.refresh-page":"refreshPage"},features:function(){return _(window.Features.features()).map(function(a){return{name:a,isEnabled:window.Features.isActive(a)}})},toggleFeature:function(a){var b=$(a.target);window.Features.toggle(b.val())},canTryFeatures:function(){return this.options.account.canTryFeatures()},toggleFeaturePanel:function(a){a.preventDefault(),this.$("div.feature-panel").slideToggle(),this.$("a.feature-panel-toggle").toggleClass("shown")},refreshPage:function(){window.location.reload()}});var FeedEditFormView=FormView.extend({template:"shared/feed-edit-form",events:{"click .cancel":"exit","click .close":"exit","click .delete":"deleteFeed","click .avatar-controls .crop":"cropAvatar","click .avatar-controls .remove":"removeAvatar","click .controls button":"send"},afterRender:function(){this.modal.render();var a=this.model.get("kind");this.$("[name=kind] [value="+a+"]").attr("selected","selected"),this.$("select.kind_list").dropkick(),this.initAvatarUploader(this.$(".avatar .upload"))},save:function(a){var b=this;this.model.save({name:this.$("[name=name]").val(),about:this.$("[name=about]").val(),kind:this.$("[name=kind]").val(),slug:this.$("[name=slug]").val(),rss:this.$("[name=rss]").val(),website:this.$("[name=website]").val(),phone:this.$("[name=phone]").val(),address:this.$("[name=address]").val()},{success:function(){a(),window.location.pathname=b.model.get("url")},error:function(a,c){b.showError(c)}})},showError:function(a){this.$(".error").text(a.responseText),this.$(".error").show()},deleteFeed:function(a){return a&&a.preventDefault(),this.model.destroy({success:function(){CommonPlace.account.trigger("sync")}}),this.exit(),app.navigate("/",!0)},feedName:function(){return this.model.get("name")},about:function(){return this.model.get("about")},address:function(){return this.model.get("address")},rss:function(){return this.model.get("rss")},website:function(){return this.model.get("website")},phone:function(){return this.model.get("phone")},slug:function(){return this.model.get("slug")},deleteUrl:function(){return this.model.get("delete_url")},avatarUrl:function(){return this.model.link("avatar").thumb},editUrl:function(){return this.model.link("edit")},avatarEditUrl:function(){return this.model.link("avatar_edit")},initAvatarUploader:function(a){var b=this,c=new AjaxUpload(a,{action:"/api"+b.model.link("avatar_edit"),name:"avatar",data:{},responseType:"json",onChange:function(a,b){},onSubmit:function(a,b){},onComplete:function(a,c){b.model.set(c),b.render()}})},cropAvatar:function(a){a&&a.preventDefault(),this.exit();var b=new AvatarCropFormView({model:this.model});b.render()},removeAvatar:function(a){var b=this;a&&a.preventDefault(),this.model.deleteAvatar(function(){b.render()})}}),FeedOwnersFormView=FormView.extend({template:"shared/feed-owners-form",events:{"click form a.cancel":"exit","submit form":"addOwners"},afterRender:function(){this.modal.render(),this.fillList()},fillList:function(a){var b=this.$(".existing-owners");b.empty();var c=this,d=this.model.owners;d.fetch({success:function(){d.each(function(a){var d=new FeedOwnersItemView({model:a,form:c});d.render(),b.append(d.el)}),a&&a(d)}})},addOwners:function(a){a&&a.preventDefault(),this.$(".incomplete-form").hide(),this.$(".bad-emails").hide();var b=this,c=this.$("[name=emails]");if(c.val()=="")return this.$(".incomplete-form").show();$.post("/api"+this.model.link("owners"),{emails:c.val()},function(a){b.fillList(function(a){var d=_.select(c.val().split(","),function(b){return!a.any(function(a){return a.get("user_email")==b.replace(/ /g,"")})});d.length?(b.$(".bad-emails").show(),c.val(d)):c.val("")})},"JSON")},name:function(){return this.model.get("name")}}),FeedOwnersItemView=CommonPlace.View.extend({template:"shared/feed-owners-item",tagName:"tr",initialize:function(a){this.model=a.model,this.form=a.form},events:{"click .message":"sendMessage","click .remove-owner":"removeOwner"},name:function(){return this.model.get("user_name")},sendMessage:function(a){a.preventDefault(),this.form.exit();var b=new User({links:{self:this.model.link("user")}});b.fetch({success:function(){var a=new MessageFormView({model:new Message({messagable:b})});a.render()}})},removeOwner:function(a){a.preventDefault();var b=this.form;this.model.destroy({success:function(){b.fillList()}})}}),AvatarCropFormView=FormView.extend({template:"shared.avatar-crop-form",afterRender:function(){var a=this.$("img#cropbox");this.coords={};var b=this;a.load(_.bind(function(){this.modal.render();var c=Math.max(380/a.width(),300/a.height());a.css({width:Math.floor(a.width()*c),height:Math.floor(a.height()*c)}),a.Jcrop({onChange:function(a){b.updateCrop(a)},onSelect:function(a){b.updateCrop(a)},aspectRatio:1})},this))},updateCrop:function(a){var b=this.$("img#cropbox"),c=b[0].width/b.width();c&&(this.coords={crop_x:a.x*c,crop_y:a.y*c,crop_w:a.w*c,crop_h:a.h*c})},save:function(a){this.model.cropAvatar(this.coords,a)},showError:function(a){this.$(".error").text(a.responseText),this.$(".error").show()},name:function(){return this.model.get("schema")=="account"?"Your":this.model.get("name")},avatar_url:function(){return this.model.get("avatar_original")}}),MessageFormView=FormView.extend({template:"shared/message-form",goToInbox:!1,save:function(a){var b=this,c=this.$("#message_controls").html();this.$("#message_controls button").replaceWith("<img src='/assets/loading.gif' />"),this.model.save({subject:this.$("[name=subject]").val(),body:this.$("[name=body]").val()},{wait:!0,success:function(d,e){typeof _kmq!="undefined"&&_kmq!==null&&_kmq.push(["record","Sent Message"]),this.$("#message_controls").html(c),a(),b.goToInbox&&(window.location="/"+CommonPlace.community.get("slug")+"/inbox#"+e)},error:function(a,d){this.$("#message_controls").html(c),b.showError(d)}})},showError:function(a){this.$(".error").text(a.responseText),this.$(".error").show()},name:function(){return this.model.name()}}),ModalView=CommonPlace.View.extend({template:"shared/modal",className:"modal",events:{"click .cancel":"exit","click .close":"exit"},initialize:function(a){var b=this;this.form=this.options.form,$("."+this.className).remove()},afterRender:function(){$("body").append(this.el),$(".modal-container").append(this.form),this.$("textarea").autoResize(),this.centerEl(),this.browserSupportsPlaceholders()&&$.browser.webkit&&this.$("textarea:visible:last").focus()},centerEl:function(){var a=$(".modal-container"),b=$(window),c=b.scrollTop(),d=(b.height()-a.height())/2+c;d=d<1?10:d,d=d<c+10?c+10:d;var e=(b.width()-a.width())/2;a.css({top:d,left:e})},exit:function(){$(this.el).remove()}}),PostFormView=FormView.extend({save:function(a){var b=this;this.model.save({title:this.$("[name=title]").val(),body:this.$("[name=body]").val()},{success:a,error:function(a,c){b.showError(c)}})},showError:function(a){this.$(".error").text(a.responseText),this.$(".error").show()},remove:function(a){this.model.destroy({success:a})},title:function(){return this.model.get("title")},body:function(){return this.model.get("body")}}),RepliesView=CommonPlace.View.extend({className:"replies",template:"shared/replies"
,initialize:function(a){var b=this;this.collection.on("sync",function(){b.render()})},afterRender:function(){this.$("textarea").placeholder(),this.$("textarea").autoResize(),this.appendReplies()},events:{"focus form textarea":"showButton","blur form textarea":"hideButton","click form .submit-c":"sendReply","click .replies-more":"showMoreReplies","click .register":"showRegistration"},appendReplies:function(){var a=this,b=this.$("ul.reply-list");this.collection.each(function(c,d){var e=new CommonPlace.wire_item.ReplyWireItem({model:c,thankReply:a.options.thankReply,showThanks:a.options.showThanks});b.append(e.render().el),d<a.hiddenReplyCount()&&$(e.el).hide()})},pluralizedReplies:function(){return this.hiddenReplyCount()>1?"replies":"reply"},replyCount:function(){return this.collection.length},hiddenReplyCount:function(){return this._hiddenReplyCount||(this._hiddenReplyCount=this.collection.length>2?this.collection.length-3:0),this._hiddenReplyCount},sendReply:_.throttle(function(){this.$("form textarea").val()&&(this.cleanUpPlaceholders(),this.$("div.submit-c").addClass("waiting"),this.collection.create({body:this.$("[name=body]").val()},{success:_.bind(function(){typeof _kmq!="undefined"&&_kmq!==null&&_kmq.push(["record","Sent Reply"]),this.$("div.submit-c").removeClass("waiting"),this.collection.trigger("sync")},this),wait:!0}))},1e3),showMoreReplies:function(a){a.preventDefault();if(this.isGuest())return this.showRegistration(),!1;this.$(".reply-item").show(),this.$(".replies-more").hide()},showButton:function(a){this.$(".submit-c").fadeIn()},hideButton:function(a){this.$("form textarea").val()||this.$(".submit-c").hide()},accountAvatarUrl:function(){return CommonPlace.account.get("avatar_url")}});((function(){CommonPlace.views.ShareView=CommonPlace.View.extend({className:"share",template:"shared/share",initialize:function(a){return this.account=a.account},afterRender:function(){},avatar_url:function(){var a;return a=this.model.get("avatar_url"),a==="https://s3.amazonaws.com/commonplace-avatars-production/missing.png"?"https://www.ourcommonplace.com/images/logo-pin.png":a},share_url:function(){return CommonPlace.community.get("links").base+"/show/"+this.model.get("schema")+"/"+this.model.get("id")},item_name:function(){return this.model.get("title")},events:{"click .share-e":"showEmailShare","click .share-f":"shareFacebook","click .share-t":"shareTwitter","click .email-button":"submitEmail"},shareFacebook:function(a){var b;return a.preventDefault(),b=$(a.target),FB.ui({method:"feed",name:b.attr("data-name"),link:b.attr("data-url"),picture:b.attr("data-picture"),caption:b.attr("data-caption"),description:b.attr("data-description"),message:b.attr("data-message")},$.noop)},shareTwitter:function(a){var b,c,d,e;return a.preventDefault(),b=$(a.target),e=encodeURIComponent(b.attr("data-url")),d=b.attr("data-message"),c="https://twitter.com/intent/tweet?url="+e+"&text="+d+"&count=horizontal",window.open(c,"cp_share")},showEmailShare:function(a){return a.preventDefault(),this.$("#share-email").show()},submitEmail:function(a){var b;return a&&a.preventDefault(),b=this.$("form"),$.ajax({type:"POST",dataType:"json",url:"/api"+CommonPlace.community.link("shares"),data:JSON.stringify({data_type:this.model.get("schema"),id:this.model.get("id"),email:$("[name=share-email]",b).val()}),success:function(){return $("[name=share-email",b).val(""),b.hide()},failure:function(){return b.hide()}})}})})).call(this),function(){CommonPlace.views.ShareModal=FormView.extend({template:"shared/share_modal",id:"share-modal",account:CommonPlace.account,header:"",message:"",events:{"click #facebookshare":"shareFacebook","click #twittershare":"shareTwitter","click #linkshare":"showLinkShare","click .red-button":"exit","click .close":"exit","click #mailto-share":"markEmailShareChecked"},avatar_url:function(){var a;return a=this.model.get("avatar_url"),a==="https://s3.amazonaws.com/commonplace-avatars-production/missing.png"?"https://www.ourcommonplace.com/images/logo-pin.png":a?a:""},share_url:function(){return CommonPlace.community.get("links").base+"/show/"+this.model.get("schema")+"/"+this.model.get("id")},share_message:function(){return"Check out this post on the "+this.community_name()+" OurCommonPlace:"},set_header:function(a){if(a)return this.header=a},set_message:function(a){if(a)return this.message=a},item_name:function(){return this.model.get("title")},email_subject:function(){return"Check out this post on OurCommonPlace "+this.community_name()},email_body:function(){return"I thought you might like this post on OurCommonPlace, "+this.community_name()+"'s online town bulletin: "+this.share_url()},shareFacebook:function(a){var b;return a.preventDefault(),$(".share-f").addClass("checked"),b=$(a.target),typeof _kmq!="undefined"&&_kmq!==null&&_kmq.push(["record","Share",{Schema:this.model.get("schema"),ID:this.model.id,Medium:"Facebook"}]),FB.ui({method:"feed",name:b.attr("data-name"),link:b.attr("data-url"),picture:b.attr("data-picture"),caption:b.attr("data-caption"),description:b.attr("data-description"),message:b.attr("data-message")},$.noop)},shareTwitter:function(a){var b,c,d,e;return a.preventDefault(),$(".share-t").addClass("checked"),b=$(a.target),typeof _kmq!="undefined"&&_kmq!==null&&_kmq.push(["record","Share",{Schema:this.model.get("schema"),ID:this.model.id,Medium:"Twitter"}]),e=encodeURIComponent(b.attr("data-url")),d=b.attr("data-message"),c="https://twitter.com/intent/tweet?url="+e+"&text="+d+" "+e+"&count=horizontal",window.open(c,"cp_share","height=500,width=500")},markEmailShareChecked:function(a){a&&a.preventDefault,$("#emailshare").addClass("checked");if(typeof _kmq!="undefined"&&_kmq!==null)return _kmq.push(["record","Share",{Schema:this.model.get("schema"),ID:this.model.id,Medium:"Email"}])},showEmailShare:function(a){return a.preventDefault(),this.$("#share-email").toggle()},showLinkShare:function(a){a.preventDefault(),this.$("#share_link").toggle(),$("[name=share-link]").select(),$("#linkshare").addClass("checked");if(typeof _kmq!="undefined"&&_kmq!==null)return _kmq.push(["record","Share",{Schema:this.model.get("schema"),ID:this.model.id,Medium:"Public Link"}])},submitEmail:function(a){var b;return a&&a.preventDefault(),b={recipients:this.$("input[name=share-email]").val()},b.recipients!==""&&$("#emailshare").addClass("checked"),$.ajax({type:"POST",url:"/api"+this.model.get("links").self+"/share_via_email",data:b,success:function(a){$("input[name=share-email]").val(""),$("#emailshare").addClass("checked");if(typeof _kmq!="undefined"&&_kmq!==null)return _kmq.push(["record","Share",{Medium:"Email"}])},dataType:"JSON"})}})}.call(this);var ThanksListView=CommonPlace.View.extend({className:"thanks",template:"shared.thanks",events:{"click .replies-more":"showAll"},initialize:function(a){this.thanks=this.model.get("thanks")},afterRender:function(){_.each(this.thanks,_.bind(function(a,b){var c=new this.ThanksItemView({model:a});c.render(),this.$("ul").append(c.el),b<this.hiddenThanksCount()&&$(c.el).hide()},this))},showAll:function(a){a&&a.preventDefault(),this.$(".replies-more").hide(),this.$("li").show()},hiddenThanksCount:function(){return this._hidden||(this._hidden=this.thanks.length>2?this.thanks.length-3:0),this._hidden},ThanksItemView:CommonPlace.View.extend({template:"shared.thanks-item",tagName:"li",className:"reply-item",avatar_url:function(){return this.model.avatar_url},thanker:function(){return this.model.thanker},thankable_author:function(){return this.model.thankable_author},isReply:function(){return this.model.thankable_type=="Reply"}})});Model=Backbone.Model.extend({url:function(){return this.get("links")&&this.get("links").self?"/api"+this.get("links").self:Backbone.Model.prototype.url.call(this)},link:function(a){return this.get("links")[a]}}),Collection=Backbone.Collection.extend({initialize:function(a,b){this.uri=b.uri},url:function(){return"/api"+this.uri}}),Repliable=Model.extend({replies:function(){return new Replies(_.map(this.get("replies"),function(a){return new Reply(a)}),{uri:this.link("replies")})}}),Repliables=Collection.extend({model:Repliable});var Account=Model.extend({profileHistory:function(a){$.ajax({type:"GET",contentType:"application/json",url:"/api"+this.link("history"),success:a})},neighborhoodsPosts:function(){return new Posts([],{uri:this.link("neighborhoods_posts")})},isFeedOwner:function(a){return _.any(this.get("accounts"),function(b){return b.uid==="feed_"+a.id})},isSubscribedToFeed:function(a){return _.include(this.get("feed_subscriptions"),a.id)},subscribeToFeed:function(a,b){var c=_.isArray(a)?a:a.id,d=this;$.ajax({contentType:"application/json",url:"/api"+this.get("links").feed_subscriptions,data:JSON.stringify({id:c}),type:"post",dataType:"json",success:function(a){d.set(a),b&&b()}})},unsubscribeFromFeed:function(a,b){var c=this;$.ajax({contentType:"application/json",url:"/api"+this.get("links").feed_subscriptions+"/"+a.id,type:"delete",dataType:"json",success:function(a){c.set(a),b&&b()}})},isSubscribedToGroup:function(a){return _.include(this.get("group_subscriptions"),a.id)},subscribeToGroup:function(a,b){var c=_.isArray(a)?a:a.id,d=this;$.ajax({contentType:"application/json",url:"/api"+this.get("links").group_subscriptions,data:JSON.stringify({id:c}),type:"post",dataType:"json",success:function(a){d.set(a),b&&b()}})},unsubscribeFromGroup:function(a,b){var c=this;$.ajax({contentType:"application/json",url:"/api"+this.get("links").group_subscriptions+"/"+a.id,type:"delete",dataType:"json",success:function(a){c.set(a),b&&b()}})},meetUser:function(a,b){var c=this;$.ajax({contentType:"application/json",url:"/api"+this.get("links").mets,data:JSON.stringify({id:a.id}),type:"post",dataType:"json",success:function(a){c.set(a),b&&b()},failure:function(a){}})},unmeetUser:function(a,b){var c=this;$.ajax({contentType:"application/json",url:"/api"+this.get("links").mets+"/"+a.id,type:"delete",dataType:"json",success:function(a){c.set(a),b&&b()}})},hasMetUser:function(a){return _.include(this.get("mets"),a.id)},isCurrentUser:function(a){return a.get("id")==this.id},canEditProfile:function(a){return a.get("id")==this.id||this.get("is_admin")},canEditFeed:function(a){return a.get("user_id")==this.id||this.get("is_admin")},canEditPost:function(a){return a.get("user_id")==this.id||this.get("is_admin")},canEditGroupPost:function(a){return a.get("user_id")==this.id||this.get("is_admin")},canEditEvent:function(a){return this.get("is_admin")?!0:a.get("owner_type")=="Feed"?_.include(_.pluck(this.get("feeds"),"id"),a.get("feed_id")):a.get("user_id")==this.id},canEditAnnouncement:function(a){return this.get("is_admin")?!0:a.get("owner_type")=="Feed"?_.include(_.pluck(this.get("feeds"),"id"),a.get("feed_id")):a.get("user_id")==this.id},canEditReply:function(a){return a.get("author_id")==this.id||this.get("is_admin")},canTryFeatures:function(){return this.get("is_admin")},canEditTransaction:function(a){return a.get("user_id")==this.id||this.get("is_admin")},deleteAvatar:function(a){var b=this;$.ajax({contentType:"application/json",url:"/api"+this.get("links").avatar,type:"delete",dataType:"json",success:function(c){b.set(c),a&&a()}})},cropAvatar:function(a,b){$.ajax({contentType:"application/json",url:"/api"+this.get("links").crop,type:"put",dataType:"json",data:JSON.stringify({crop_x:a.crop_x,crop_y:a.crop_y,crop_w:a.crop_w,crop_h:a.crop_h}),success:_.bind(function(a){this.set(a),b&&b()},this)})},set_metadata:function(a,b,c){var d=this;$.ajax({contentType:"application/json",url:"/api/account/metadata",type:"post",data:JSON.stringify({key:a,value:b}),dataType:"json",success:function(a){d.set(a),c&&c()}})},clicked_post_box:function(a){this.get("metadata").has_used_postbox||(a&&a(),this.set_metadata("has_used_postbox",!0,function(){}))},isAuth:function(){return!_.isEmpty(this.attributes)},isGuest:function(){return _.isEmpty(this.attributes)?!0:this.get("is_guest")}}),Announcement=Repliable.extend({author:function(){return this.get("owner_type")=="Feed"?new Feed({links:{self:this.link("author")}}):new User({links:{self:this.link("author")}})},validate:function(a){var b=[];a.title||b.push("title"),a.body||b.push("body");if(b.length>0){var c="Please fill in the "+b.shift();_.each(b,function(a){c=c+" and "+a});var d={status:400,responseText:c+"."};return d}}}),Announcements=Collection.extend({model:Announcement}),ClientSideModel=Backbone.Model.extend({fetch:function(a){a.success(this)}}),Community=Model.extend({initialize:function(){this.posts=this.setup(Posts,"posts"),this.events=this.setup(Events,"events"),this.announcements=this.setup(Announcements,"announcements"),this.groupPosts=this.setup(GroupPosts,"group_posts"),this.postlikes=this.setup(PostLikes,"post_likes"),this.postsAndGroupPosts=this.setup(PostLikes,"posts_and_group_posts"),this.transactions=this.setup(Transactions,"transactions"),this.users=this.setup(Users,"users"),this.featuredUsers=this.setup(Users,"featured_users"),this.feeds=this.setup(Feeds,"feeds"),this.featuredFeeds=this.setup(Feeds,"featured_feeds"),this.groups=this.setup(Groups,"groups"),this.grouplikes=this.setup(GroupLikes,"group_likes"),this.search={users:this.setup(Users,"users"),feeds:this.setup(Feeds,"feeds"),groups:this.setup(Groups,"groups"),groupPosts:this.setup(GroupPosts,"group_posts"),posts:this.setup(Posts,"posts"),announcements:this.setup(Announcements,"announcements"),events:this.setup(Events,"events")},this.categories={neighborhood:this.setup(Posts,"posts_neighborhood"),offers:this.setup(Posts,"posts_offers"),help:this.setup(Posts,"posts_help"),publicity:this.setup(Posts,"posts_publicity"),other:this.setup(Posts,"posts_other"),meetups:this.setup(Posts,"posts_meetups")}},setup:function(a,b){return new a([],{uri:this.link(b)})}}),CommunityWire=Model.extend({initialize:function(a){this.uri="/api"+a.uri},fetch:function(a,b){var c=this;$.getJSON(this.uri,a,function(a){c.neighborhood=new Posts(a.neighborhood,CommonPlace.community.categories.neighborhood),c.offers=new Posts(a.offers,CommonPlace.community.categories.offers),c.help=new Posts(a.help,CommonPlace.community.categories.help),c.publicity=new PostLikes(a.publicity,CommonPlace.community.categories.publicity),c.other=new Posts(a.other,CommonPlace.community.other),c.groupPosts=new GroupPosts(a.group,CommonPlace.community.groupPosts),c.events=new Events(a.events,CommonPlace.community.events),c.meetups=new Posts(a.meetups,CommonPlace.community.categories.meetups),c.transactions=new Transactions(a.transactions,CommonPlace.community.transactions),b&&b()})},all:function(){return[this.neighborhood,this.offers,this.help,this.publicity,this.other,this.groupPosts,this.events,this.meetups,this.transactions]}}),Event=Repliable.extend({author:function(){return this.get("owner_type")=="Feed"?new Feed({links:{self:this.link("author")}}):new User({links:{self:this.link("author")}})},validate:function(a){var b=[];a.title||b.push("title"),!a.about&&!a.body&&b.push("body"),!a.date&&!a.occurs_at&&b.push("date"),a.address||b.push("address");if(b.length>0){var c="Please fill in the "+b.shift();_.each(b,function(a){c=c+" and "+a});var d={status:400,responseText:c+"."};return d}}}),Events=Collection.extend({model:Event}),Feed=Model.extend({initialize:function(){this.announcements=new Announcements([],{uri:this.link("announcements")}),this.events=new Events([],{uri:this.link("events")}),this.subscribers=new Users([],{uri:this.link("subscribers")}),this.transactions=new Transactions([],{uri:this.link("transactions")}),this.owners=new FeedOwners([],{uri:this.link("owners")})},validate:function(a){var b=[];a.name||b.push("feed name"),a.slug||b.push("nickname");if(b.length>0){var c="Please fill in the "+b.shift();_.each(b,function(a){c=c+" and "+a});var d={status:400,responseText:c+"."};return d}},cropAvatar:function(a,b){$.ajax({contentType:"application/json",url:"/api"+this.get("links").crop,type:"put",dataType:"json",data:JSON.stringify({crop_x:a.crop_x,crop_y:a.crop_y,crop_w:a.crop_w,crop_h:a.crop_h}),success:_.bind(function(a){this.set(a),b&&b()},this)})},deleteAvatar:function(a){var b=this;$.ajax({contentType:"application/json",url:"/api"+this.get("links").avatar_edit,type:"delete",dataType:"json",success:function(c){b.set(c),a&&a()}})}}),Feeds=Collection.extend({model:Feed}),FeedOwner=Model.extend({}),FeedOwners=Collection.extend({model:FeedOwner}),Group=Model.extend({initialize:function(){this.posts=new GroupPosts([],{uri:this.link("posts")}),this.members=new Users([],{uri:this.link("members")}),this.announcements=new Announcements([],{uri:this.link("announcements")}),this.events=new Events([],{uri:this.link("events")})}}),Groups=Collection.extend({model:Group}),GroupPost=Repliable.extend({group:function(a){this._group||(this._group=new Group({links:{self:this.get("links").group}})),this._group.fetch({success:a})},validate:function(a){var b=[];a.title||b.push("title"),a.body||b.push("body");if(b.length>0){var c="Please fill in the "+b.shift();_.each(b,function(a){c=c+" and "+a});var d={status:400,responseText:c+"."};return d}}}),GroupPosts=Collection.extend({model:GroupPost}),GroupLikes=Model.extend({initialize:function(a,b){this.uri="/api"+b.uri},fetch:function(a){var b=this;$.getJSON(this.uri,a.data,function(c){b.models=_.map(c,function(a){return b.toModel(a)}),b.length=c.length,a.success&&a.success()})},each:function(a){_.each(this.models,function(b){a(b)})},map:function(a){return _.map(this.models,a)},toModel:function(a){var b=new{users:User,feeds:Feed,groups:Group}[a.schema](a);return b},length:0,isEmpty:function(){return this.models.length==0},first:function(){return _.first(this.models)},at:function(a){return this.models[a]}}),Message=Repliable.extend({initialize:function(a){this.messagable=a.messagable},url:function(){return"/api"+this.messagable.get("links").messages},name:function(){return this.messagable.get("name")},validate:function(a){var b=[];!a.subject&&!a.title&&b.push("title"),a.body||b.push("body");if(b.length>0){var c="Please fill in the "+b.shift();_.each(b,function(a){c=c+" and "+a});var d={status:400,responseText:c+"."};return d}}}),Messages=Collection.extend({model:Message}),Post=Repliable.extend({user:function(a){this._user||(this._user=new User({links:{self:this.get("links").author}})),this._user.fetch({success:a})},validate:function(a){var b=[];a.title||b.push("title"),a.body||b.push("body");if(b.length>0){var c="Please fill in the "+b.shift();_.each(b,function(a){c=c+" and "+a});var d={status:400,responseText:c+"."};return d}}}),Posts=Collection.extend({model:Post}),PostLikes=Model.extend({initialize:function(a,b){this.models=_.map(a,this.toModel),this.length=a.length,this.uri="/api"+b.uri},fetch:function(a){var b=this;$.getJSON(this.uri,a.data,function(c){b.models=_.map(c,function(a){return b.toModel(a)}),b.removeDupes(),b.length=c.length,a.success&&a.success()})},each:function(a){_.each(this.models,function(b){a(b)})},toModel:function(a){var b=new{events:Event,announcements:Announcement,posts:Post,group_posts:GroupPost,transactions:Transaction}[a.schema](a);return b},length:0,isEmpty:function(){return this.models.length==0},setDupes:function(a){this.duplicates=a},first:function(){return this.models[0]},removeDupes:function(){var a=this;this.models=_.filter(this.models,function(b){var c=_.any(a.duplicates,function(a){return a.id==b.id&&a.get("schema")==b.get("schema")});return!c}),this.length=this.models.length}}),Reply=Model.extend({user:function(a){this._user||(this._user=new User({links:{self:this.get("links").author}})),this._user.fetch({success:a})}}),Replies=Collection.extend({model:Reply}),Transaction=Repliable.extend({user:function(a){this._user||(this._user=new User({links:{self:this.get("links").author}})),this._user.fetch({success:a})},validate:function(a){var b=[];a.title||b.push("title"),typeof a.price=="undefined"&&b.push("price"),a.body||b.push("body");if(b.length>0){var c="Please fill in the "+b.shift();_.each(b,function(a){c=c+" and "+a});var d={status:400,responseText:c+"."};return d}}}),Transactions=Collection.extend({model:Transaction}),User=Model.extend({profileHistory:function(a){$.ajax({type:"GET",contentType:"application/json",url:"/api"+this.link("history"),success:a})}}),Users=Collection.extend({model:User}),Wire=CommonPlace.View.extend({className:"wire",template:"wires/wire",initialize:function(a){$.noop},aroundRender:function(a){var b=this;this.fetchCurrentPage(function(){a()})},afterRender:function(){var a=this;this.showCard(),this.appendCurrentPage(),$(window).on("scroll.wire",function(){a.onScroll()}),this.options.callback&&this.options.callback()},onScroll:_.debounce(function(){var a=function(a){if(a.length<1)return!1;var b=$(window),c=$(window).scrollTop(),d=a.offset().top;return d<b.scrollTop()+b.height()&&b.scrollTop()<d+a.height()},b=this.$(".end");a(b)&&this.$(".loading:visible").length<1&&(this.$(".loading").show(),this.showMore())},CommonPlace.autoActionTimeout),fetchCurrentPage:function(a){var b={limit:this.perPage(),page:this.currentPage()};this.currentQuery&&(b.query=this.currentQuery);var c=this;this.collection.fetch({data:b,success:a,error:function(a,b){c.$(".loading").text("Sorry, couldn't load.")}})},showCard:function(){var a=this.$("ul.wire-list");if(this.options.card=="user"){var b=new CommonPlace.wire_item.UserProfileCard({model:this.currentUser});a.append(b.render().el)}if(this.options.card=="feed"){var b=new CommonPlace.wire_item.FeedProfileCard({model:this.currentFeed});a.append(b.render().el)}if(this.options.card=="group"){var b=new CommonPlace.wire_item.GroupProfileCard({model:this.currentFeed});a.append(b.render().el)}},appendCurrentPage:function(){this.$(".loading").hide();var a=this,b=this.$("ul.wire-list");this.collection.each(function(c){var d=a.schemaToView(c);b.append(d.render().el),a.highlightSearch(d),a.highlightUser(d,c),a.highlightPage(d,c)})},schemaToView:function(a){var b=a.get("schema");return new{events:CommonPlace.wire_item.EventWireItem,announcements:CommonPlace.wire_item.AnnouncementWireItem,transactions:CommonPlace.wire_item.TransactionWireItem,posts:CommonPlace.wire_item.PostWireItem,group_posts:CommonPlace.wire_item.GroupPostWireItem,feeds:CommonPlace.wire_item.FeedWireItem,users:CommonPlace.wire_item.UserWireItem,groups:CommonPlace.wire_item.GroupWireItem,messages:CommonPlace.wire_item.MessageWireItem}[b]({model:a})},isEmpty:function(){return this.collection.isEmpty()},emptyMessage:function(){return this.options.emptyMessage},showMore:function(a){var b=this;a&&a.preventDefault(),this.nextPage(),this.fetchCurrentPage(function(){b.appendCurrentPage()})},currentPage:function(){return this._currentPage||this.options.currentPage||0},areMore:function(){return this.collection.length>=this.perPage()},_defaultPerPage:10,perPage:function(){return this.options.perPage||this._defaultPerPage},nextPage:function(){this._currentPage=this.currentPage()+1},search:function(a){this.currentQuery=a,this.currentUser={},this.currentFeed={}},searchUser:function(a){this.currentUser=a,this.currentQuery="",this.currentFeed={}},searchPage:function(a){this.currentFeed=a,this.currentQuery="",this.currentUser={}},cancelSearch:function(){$(this.el).removeHighlight(),this.currentQuery="",this.currentUser={},this.currentFeed={}},highlightSearch:function(a){this.currentQuery&&_.each(this.currentQuery.split(" "),function(b){a.$(".title").highlight(b),a.$(".author").highlight(b),a.$(".body").highlight(b)})},highlightUser:function(a,b){if(!_.isEmpty(this.currentUser)){var c=this.currentUser.get("name");a.$(".title").highlight(c),a.$(".author").highlight(c),a.$(".body").highlight(c),b.get("user_id")==this.currentUser.id?b.get("schema")=="announcements"&&a.$(".announcement .author").highlight(b.get("author")):a.$(".replies-more").click()}},highlightPage:function(a,b){if(!_.isEmpty(this.currentFeed)){var c=this.currentFeed.get("name");a.$(".title").highlight(c),a.$(".author").highlight(c),a.$(".body").highlight(c)}},isSearchEnabled:function(){return this.isActive("2012Release")},isInAllWire:function(){return this.isActive("post_subwinnow")&&this.options.isInAllWire||!1}}),MessageWire=Wire.extend({template:"inbox/message-list",id:"message-list",_defaultPerPage:5}),PreviewWire=Wire.extend({template:"wires/preview-wire",_defaultPerPage:5,showMore:function(){},areMore:function(){return!1},isRecent:function(){return this.options.isRecent||!1}});(function(){this.Templates||(this.Templates={}),this.Templates["wires/wire"]='<ul class="wire-list"></ul>\n{{#isEmpty}}\n  <p class="wire-empty-message">{{emptyMessage}}</p>\n{{/isEmpty}}\n{{#areMore}}\n  <div class="end">\n    <div class="loading">Loading more...</div>\n  </div>\n{{/areMore}}\n',this.Templates["wires.wire"]='<ul class="wire-list"></ul>\n{{#isEmpty}}\n  <p class="wire-empty-message">{{emptyMessage}}</p>\n{{/isEmpty}}\n{{#areMore}}\n  <div class="end">\n    <div class="loading">Loading more...</div>\n  </div>\n{{/areMore}}\n'})(this),function(){CommonPlace.wire_item.WireItem=CommonPlace.View.extend({category:"Neighborhood Post",initialize:function(a){var b;return b=this,this.attr_accessible(["first_name","last_name","name","avatar_url","published_at","images","title","body"]),this.model.on("destroy",function(){return b.remove()})},afterRender:function(){return this.model.on("change",this.render,this),this.reply(),this.checkThanked(),this.checkFlagged()},edit:function(a){var b;return a.preventDefault(),b=new CommonPlace.main.PostBox({account:CommonPlace.account,community:CommonPlace.community}),b.render(),this.model.get("category")==="offers"&&(this.tabName="request"),b.showTab(this.tabName,this.model)},checkThanked:function(){if(this.thanked())return this.$(".thank-link").html("Thanked!"),this.$(".thank-link").addClass("thanked-post")},thanked:function(){var a;return a=_.map(this.directThanks(),function(a){return a.thanker}),_.include(a,CommonPlace.account.get("name"))},directThanks:function(){return _.filter(this.model.get("thanks"),function(a){return a.thankable_type!=="Reply"})},thank:function(){return this.removeCurrentClass(),this.isGuest()?this.showRegistration():this.thanked()?this.showThanks():(typeof _kmq!="undefined"&&_kmq!==null&&_kmq.push(["record","Thanked Post",{Schema:this.model.get("schema"),ID:this.model.id}]),$.post("/api"+this.model.link("thank"),_.bind(function(a){return this.model.set(a),this.render(),this.showThanks()},this)))},showThanks:function(a){var b;a&&a.preventDefault();if(!_.isEmpty(this.model.get("thanks")))return this.removeCurrentClass(),this.$(".thank-link").addClass("current"),this.emptyRepliesArea(),b=new ThanksListView({model:this.model}),b.render(),this.appendRepliesArea(b.el),this.state="thanks"},checkFlagged:function(){if(this.flagged())return this.$(".flag-link").html("Flagged!"),this.$(".flag-link").addClass("flagged-post")},flagged:function(){var a;return a=_.map(this.directFlags(),function(a){return a.warner}),_.include(a,CommonPlace.account.get("name"))},directFlags:function(){return _.filter(this.model.get("flags"),function(a){return a.warnable_type!=="Reply"})},flag:function(){return this.isGuest()?this.showRegistration():this.flagged()?this.showFlags():(typeof _kmq!="undefined"&&_kmq!==null&&_kmq.push(["record","Flagged Post",{Schema:this.model.get("schema"),ID:this.model.id}]),$.post("/api"+this.model.link("flag"),_.bind(function(a){return this.model.set(a),this.render(),this.showFlags()},this)))},showFlags:function(a){a&&a.preventDefault();if(!_.isEmpty(this.model.get("flags")))return this.removeCurrentClass(),this.$(".flag-link").addClass("current"),this.state="flags"},share:function(a){var b;return a&&a.preventDefault(),this.state="share",this.removeCurrentClass(),$("#modal").empty(),this.$(".share-link").addClass("current"),typeof _kmq!="undefined"&&_kmq!==null&&_kmq.push(["record","Clicked Share",{Schema:this.model.get("schema"),ID:this.model.id}]),b=new CommonPlace.views.ShareModal({model:this.model}),b.set_header("Share this post!"),b.render()},reply:function(a){a&&a.preventDefault(),this.removeCurrentClass(),this.state!=="reply"&&(this.state="reply",this.$(".reply-link").addClass("current"),this.emptyRepliesArea(),this.repliesView=new RepliesView({collection:this.model.replies(),thankReply:_.bind(function(a){return this.model.set(a)},this),showThanks:_.bind(function(){return this.showThanks()},this)}),this.repliesView.collection.on("change",_.bind(function(){return this.render()},this)),this.repliesView.render(),this.appendRepliesArea(this.repliesView.el));if(this.browserSupportsPlaceholders()&&$.browser.webkit)return this.$(".reply-text-entry").focus()},emptyRepliesArea:function(){return this.$(".replies-area").empty()},appendRepliesArea:function(a){return this.$(".replies-area").append(a)},author:function(){return this.isGuest()?"Your Neighbor":this.model.get("author")},messageUser:function(a){var b;return a&&a.preventDefault(),this.isGuest()?this.showRegistration():(this.model.get("owner_type")==="Feed"?b=new Feed({links:{self:this.model.link("author")}}):b=new User({links:{self:this.model.link("author")}}),b.fetch({success:_.bind(function(){var a,c;return c="",this.model.get("title")?c="Re: "+this.model.get("title"):this.model.get("body")&&(c="Re: "+this.model.get("body")),a=new MessageFormView({model:new Message({messagable:b}),subject:c}),a.render()},this)}))},showWireItem:function(a){var b;a&&a.preventDefault(),b=this.model.get("schema");if(b==="posts")return app.showPost(CommonPlace.community.get("slug"),this.model.get("id"));if(b==="transactions")return app.showTransaction(CommonPlace.community.get("slug"),this.model.get("id"));if(b==="events")return app.showEvent(CommonPlace.community.get("slug"),this.model.get("id"));if(b==="group_posts")return app.showGroupPost(CommonPlace.community.get("slug"),this.model.get("id"));if(b==="announcements")return app.showAnnouncement(CommonPlace.community.get("slug"),this.model.get("id"))},showAuthorWire:function(a){return a&&a.preventDefault(),this.isGuest()?this.showRegistration():this.isFeed()?this.showFeedWire():this.showUserWire()},showUserWire:function(a){return a&&(a.preventDefault(),a.stopPropagation()),this.model.get("schema")==="replies"?app.showUserWire(CommonPlace.community.get("slug"),this.model.get("author_id")):app.showUserWire(CommonPlace.community.get("slug"),this.model.get("user_id"))},showFeedWire:function(a){return a&&a.preventDefault(),app.showFeedPage(CommonPlace.community.get("slug"),this.model.get("feed_id"))},removeCurrentClass:function(){return this.$(".current").removeClass("current")},published_at_in_words:function(){return timeAgoInWords(this.model.get("published_at"))},author_url:function(){return"/"+CommonPlace.community.get("slug")+"/show"+this.model.get("links").author},share_url:function(){return CommonPlace.community.get("links").base+"/show/"+this.model.get("schema")+"/"+this.model.get("id")},hasImages:function(){return this.model.get("images").length>0?!0:!1},numThanks:function(){return this.directThanks().length},hasThanks:function(){return this.numThanks()>0},peoplePerson:function(){return this.numThanks()===1?"person":"people"},wireCategory:function(){var a,b;return b=this.model.get("schema"),a=this.model.get("category"),a?(a==="offers"&&(a="town questions"),a):b==="transactions"?"marketplace":b==="group_posts"?this.model.get("group"):b.substring(b.length-1,b.length)?b.substring(0,b.length-1):b},wireCategoryClass:function(){var a;return a=this.wireCategory(),a?(a=a.replace(/&/g,"and"),a=a.replace(/\s{1,}/g,"-"),a.toLowerCase()):a="post"},wireCategoryName:function(){var a,b,c;a=this.wireCategory();if(a){a=a.split(" ");for(b in a)c=a[b],a[b]=this.first_letter_caps(c);return a.join(" ")}return this.first_letter_caps(this.category)},first_letter_caps:function(a){return a.charAt(0).toUpperCase()+a.substr(1,a.length-1).toLowerCase()},isFeed:function(){return this.model.get("owner_type")==="Feed"},loadWire:function(a){var b,c;a&&a.preventDefault();if(this.isGuest())return this.showRegistration();c=this.model.get("schema"),b=this.model.get("category");if(b==="offers")c="questions";else if(c==="group_posts"){c=this.model.get("group_id"),app.showGroupPage(CommonPlace.community.get("slug"),c);return}return app.communityWire(CommonPlace.community.get("slug"),c)},feedUrl:function(){return"/"+CommonPlace.community.get("slug")+this.model.get("feed_url")}})}.call(this),function(){CommonPlace.wire_item.AnnouncementWireItem=CommonPlace.wire_item.WireItem.extend({template:"wire_items/announcement-item",tagName:"li",className:"wire-item",tabName:"promote",events:{"click .wire_filter":"loadWire","click .editlink":"edit","click .thank-link":"thank","click .flag-link":"flag","click .share-link":"share","click .reply-link":"reply","click .message-link":"messageUser","click .author":"showAuthorWire","click .avatar-container"
:"showAuthorWire","click .title":"showWireItem"},canEdit:function(){return CommonPlace.account.canEditAnnouncement(this.model)}})}.call(this),function(){CommonPlace.wire_item.ProfileCard=CommonPlace.View.extend({avatar:function(){return this.model.get("avatar_url")},name:function(){return this.model.get("name")},hasAbout:function(){var a;return a=this.model.get("about"),a&&a.length>0},about:function(){return this.model.get("about")},messageUser:function(a){var b;return a&&a.preventDefault(),this.isGuest()?this.showRegistration():(b=new MessageFormView({model:new Message({messagable:this.model})}),b.render())}})}.call(this),function(){CommonPlace.wire_item.EventWireItem=CommonPlace.wire_item.WireItem.extend({template:"wire_items/event-item",tagName:"li",className:"wire-item",tabName:"event",monthAbbrevs:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],events:{"click .wire_filter":"loadWire","click .editlink":"edit","click .thank-link":"thank","click .flag-link":"flag","click .share-link":"share","click .reply-link":"reply","click .message-link":"messageUser","click .author":"showAuthorWire","click .avatar-container":"showAuthorWire","click .title":"showWireItem"},eventDateISO:function(){return this.model.get("occurs_on")},eventDate:function(){return timeAgoInWords(this.eventDateISO())},short_month_name:function(){var a;return a=this.model.get("occurs_on").match(/(\d{4})-(\d{2})-(\d{2})/),this.monthAbbrevs[a[2]-1]},day_of_month:function(){var a;return a=this.model.get("occurs_on").match(/(\d{4})-(\d{2})-(\d{2})/),a[3]},year_of_event:function(){var a;return a=this.model.get("occurs_on").match(/(\d{4})-(\d{2})-(\d{2})/),a[1]},venue:function(){return this.model.get("venue")},address:function(){return this.model.get("address")},start_time:function(){return this.model.get("starts_at")},end_time:function(){return this.model.get("ends_at")},canEdit:function(){return CommonPlace.account.canEditEvent(this.model)}})}.call(this),function(){CommonPlace.wire_item.FeedWireItem=CommonPlace.wire_item.WireItem.extend({template:"wire_items/feed-item",tagName:"li",className:"wire-item feed",initialize:function(){return CommonPlace.account.on("change",this.render,this),this.attr_accessible(["name","url","avatar_url"])},events:{"click button.subscribe":"subscribe","click button.unsubscribe":"unsubscribe"},subscribe:function(){return CommonPlace.account.subscribeToFeed(this.model)},unsubscribe:function(){return CommonPlace.account.unsubscribeFromFeed(this.model)},isSubscribed:function(){return CommonPlace.account.isSubscribedToFeed(this.model)}})}.call(this),function(){CommonPlace.wire_item.FeedProfileCard=CommonPlace.wire_item.ProfileCard.extend({template:"wire_items/feed-card",tagName:"li",className:"profile-card",initialize:function(){return this.modal=new ModalView({form:this.el})},events:{"click .edit":"edit","click .message-link":"messageUser","click .subscribe":"subscribe","click .unsubscribe":"unsubscribe","click .subscribers":"showSubscribers","click .announcements":"showAnnouncements","click .transaction":"openTransactionForm"},showAnnouncements:function(){var a,b;return b=CommonPlace.community.get("slug"),a=this.model.get("id"),app.showFeedPage(b,a)},showSubscribers:function(){var a,b;return b=CommonPlace.community.get("slug"),a=this.model.get("id"),app.showFeedSubscribers(b,a)},canEdit:function(){return CommonPlace.account.canEditFeed(this.model)},edit:function(a){var b;return a&&a.preventDefault(),b=new FeedEditFormView({model:this.model}),b.render()},site_url:function(){return this.model.get("website")},announce_count:function(){return this.model.get("announcement_count")},event_count:function(){return this.model.get("event_count")},subscribers_count:function(){return this.model.get("subscriber_count")},isSubscribed:function(){return CommonPlace.account.isSubscribedToFeed(this.model)},isOwner:function(){return CommonPlace.account.isFeedOwner(this.model)},subscribe:function(a){return a&&a.preventDefault(),this.isGuest()?this.showRegistration():CommonPlace.account.subscribeToFeed(this.model,_.bind(function(){return this.render()},this))},unsubscribe:function(a){return a&&a.preventDefault(),CommonPlace.account.unsubscribeFromFeed(this.model,_.bind(function(){return this.render()},this))},openTransactionForm:function(a){var b;return a.preventDefault(),b=new CommonPlace.main.PostBox({account:CommonPlace.account,community:CommonPlace.community}),b.render(),b.showTab("transaction")}})}.call(this),function(){CommonPlace.wire_item.GroupWireItem=CommonPlace.wire_item.WireItem.extend({template:"wire_items/feed-item",tagName:"li",className:"wire-item feed",initialize:function(){return CommonPlace.account.on("change",this.render,this),this.attr_accessible(["name","url","avatar_url"])},events:{"click button.subscribe":"subscribe","click button.unsubscribe":"unsubscribe"},subscribe:function(){return CommonPlace.account.subscribeToFeed(this.model)},unsubscribe:function(){return CommonPlace.account.unsubscribeFromFeed(this.model)},isSubscribed:function(){return CommonPlace.account.isSubscribedToFeed(this.model)}})}.call(this),function(){CommonPlace.wire_item.GroupPostWireItem=CommonPlace.wire_item.WireItem.extend({template:"wire_items/post-item",tagName:"li",className:"wire-item",tabName:"discussion",events:{"click .wire_filter":"loadWire","click .editlink":"edit","click .thank-link":"thank","click .share-link":"share","click .reply-link":"reply","click .flag-link":"flag","click .message-link":"messageUser","click .author":"showAuthorWire","click .avatar-container":"showAuthorWire","click .title":"showWireItem"},canEdit:function(){return CommonPlace.account.canEditGroupPost(this.model)}})}.call(this),function(){CommonPlace.wire_item.GroupProfileCard=CommonPlace.wire_item.ProfileCard.extend({template:"wire_items/group-card",tagName:"li",className:"profile-card",events:{"click .subscribe":"subscribe","click .unsubscribe":"unsubscribe"},post_count:function(){return this.model.get("post_count")},event_count:function(){return this.model.get("event_count")},subscribers:function(){return this.model.get("subscriber_count")},isSubscribed:function(){return CommonPlace.account.isSubscribedToGroup(this.model)},subscribe:function(a){return a&&a.preventDefault(),this.isGuest()?this.showRegistration():CommonPlace.account.subscribeToGroup(this.model,_.bind(function(){return this.render()},this))},unsubscribe:function(a){return a&&a.preventDefault(),CommonPlace.account.unsubscribeFromGroup(this.model,_.bind(function(){return this.render()},this))}})}.call(this),function(){CommonPlace.wire_item.MessageWireItem=CommonPlace.wire_item.WireItem.extend({template:"inbox/message",tagName:"li",className:"message-item",events:{"click a.person":"sendMessageToUser"},afterRender:function(){return this.repliesView={},this.reply(),this.model.on("change",this.render,this)},avatarUrl:function(){return this.model.get("avatar_url")},date:function(){return timeAgoInWords(this.model.get("published_at"))},title:function(){return this.model.get("title")},author:function(){return this.model.get("author")},recipient:function(){return this.model.get("user")},message_id:function(){return this.model.get("id")},body:function(){return this.model.get("body")},sendMessageToUser:function(a){var b;return a&&a.preventDefault(),b=new User({links:{self:this.model.link(this.isSent()?"user":"author")}}),b.fetch({success:function(){var a;return a=new MessageFormView({model:new Message({messagable:b})}),a.render()}})},feedUrl:function(){var a,b;return b=this,a=new Feed({links:{self:this.model.link("user")}}),a.fetch({success:function(){return b.$(".messagable.feed").attr("href",a.get("url"))}})},isFeed:function(){return this.model.get("type")==="Feed"},isSent:function(){return this.model.get("author_id")===CommonPlace.account.id}})}.call(this),function(){CommonPlace.wire_item.PostWireItem=CommonPlace.wire_item.WireItem.extend({template:"wire_items/post-item",tagName:"li",className:"wire-item",tabName:"discussion",events:{"click .wire_filter":"loadWire","click .editlink":"edit","click .thank-link":"thank","click .flag-link":"flag","click .share-link":"share","click .reply-link":"reply","click .message-link":"messageUser","click .author":"showAuthorWire","click .avatar-container":"showAuthorWire","click .title":"showWireItem"},canEdit:function(){return CommonPlace.account.canEditPost(this.model)}})}.call(this),function(){CommonPlace.wire_item.ReplyWireItem=CommonPlace.wire_item.WireItem.extend({tagName:"li",className:"reply-item",template:"wire_items/reply-item",afterRender:function(){return this.$(".reply-body").truncate({max_length:450}),this.$(".markdown p").last().append(this.$(".controls"))},events:{"click .reply-message-link":"messageUser","click .delete-reply":"deleteReply","click .author":"showAuthorWire","click .avatar-container":"showAuthorWire","click .thank-reply":"thankReply"},canEdit:function(){return CommonPlace.account.canEditReply(this.model)},deleteReply:function(a){var b;return a.preventDefault(),b=this,this.model.destroy()},numThanks:function(){return this.model.get("thanks").length},hasThanked:function(){return _.any(this.model.get("thanks"),function(a){return a.thanker===CommonPlace.account.get("name")})},canThank:function(){return this.model.get("author_id")!==CommonPlace.account.id},thankReply:function(a){return a&&a.preventDefault(),this.isGuest()?this.showRegistration():$.post("/api"+this.model.link("thank"),this.options.thankReply)},showThanks:function(a){return a&&a.preventDefault(),this.options.showThanks()}})}.call(this),function(){CommonPlace.wire_item.TransactionWireItem=CommonPlace.wire_item.WireItem.extend({template:"wire_items/transaction-item",tagName:"li",className:"wire-item",tabName:"transaction",events:{"click .wire_filter":"loadWire","click .buy-link":"buyItem","click .message-link":"messageUser","click .editlink":"edit","click .thank-link":"thank","click .flag-link":"flag","click .share-link":"share","click .reply-link":"reply","click .author":"showAuthorWire","click .avatar-container":"showAuthorWire","click .title":"showWireItem"},price:function(){return this.format(this.model.get("price"))},format:function(a){return a===0?"Free":"$"+(a/100).toFixed(2).toLocaleString()},buyItem:function(a){var b;return a&&a.preventDefault(),this.isGuest()?this.showRegistration():(b={buyer:CommonPlace.account.id},$.post("/api"+this.model.link("buy"),b,_.bind(function(a){var b;return b="Re: "+this.model.get("title"),typeof _kmq!="undefined"&&_kmq!==null&&_kmq.push(["record","Clicked Buy",{Schema:this.model.get("schema"),ID:this.model.id,Price:this.model.get("price")}]),this.model.user(function(a){var c;return c=new MessageFormView({model:new Message({messagable:a}),subject:b}),c.render()})},this)))},canEdit:function(){return CommonPlace.account.canEditTransaction(this.model)}})}.call(this),function(){CommonPlace.wire_item.UserWireItem=CommonPlace.wire_item.WireItem.extend({template:"wire_items/user-item",tagName:"li",className:"wire-item group-member",events:{"click .author":"showUserWire","click .message-user":"messageUser"},afterRender:function(){return this.model.on("change",this.render,this)}})}.call(this),function(){CommonPlace.wire_item.UserProfileCard=CommonPlace.wire_item.ProfileCard.extend({template:"wire_items/user-card",tagName:"li",className:"profile-card",events:{"click .message-link":"messageUser","click .meet":"meet","click .unmeet":"unmeet","click .page-link":"showPage"},defaultAbout:function(){return"This profile hasn't been filled out yet!"},canEdit:function(){return CommonPlace.account.canEditProfile(this.model)},isCurrentUser:function(){return CommonPlace.account.isCurrentUser(this.model)},slug:function(){return CommonPlace.account.isAuth()?CommonPlace.account.get("community_slug"):CommonPlace.community.get("slug")},account_url:function(){return"/"+this.slug()+"/account"},post_count:function(){return this.model.get("post_count")},reply_count:function(){return this.model.get("reply_count")},sell_count:function(){return this.model.get("sell_count")},thank_count:function(){return this.model.get("thank_count")},met_count:function(){return this.model.get("met_count")},pages:function(){var a;return a=this.model.get("pages"),a&&a.length>0&&(a[a.length-1].last=!0),a},hasPages:function(){var a;return a=this.model.get("pages"),a&&a.length>0},hasMet:function(){return CommonPlace.account.hasMetUser(this.model)},showPage:function(a){var b,c;a&&a.preventDefault(),b=this.$(a.currentTarget).attr("title"),c=CommonPlace.community.get("slug");if(b)return app.showFeedPage(c,b)},meet:function(a){a&&a.preventDefault();if(this.isGuest())return this.showRegistration();CommonPlace.account.meetUser(this.model),this.$(".just-met").show(),this.$(".meet").hide();if(typeof _kmq!="undefined"&&_kmq!==null)return _kmq.push(["record","Met User",{initiator:CommonPlace.account.id,recipient:this.model.id}])},unmeet:function(a){return CommonPlace.account.unmeetUser(this.model,_.bind(function(){return this.render()},this))}})}.call(this),function(){this.Templates||(this.Templates={}),this.Templates["wire_items/announcement-item"]='<div class="wire-top" data-published-at="{{published_at}}">\n</div>\n<div class="post-content">\n  <a href="{{feedUrl}}"><img class="avatar-container" src="{{avatar_url}}" /></a>\n  <h3><a class="title" href="{{share_url}}">{{title}}</a></h3>\n  {{#markdown}}\n   {{body}}\n  {{/markdown}}\n  <p class="post-info"><a class="author" {{#isFeed}} href="{{feedUrl}}" {{/isFeed}}{{^isFeed}} href="{{author_url}}" {{/isFeed}}>{{author}}</a> posted <a href="{{share_url}}">{{published_at_in_words}}</a> in <a class="wire_filter" href="{{wireCategoryUrl}}">{{wireCategoryName}}</a></p>\n  \n</div>\n<div class="post-action clear">\n  <ul class="actions">\n    <li class="reply-link default">\n      <i class="icon"></i>\n      <span>Reply</span>\n    </li>\n    <li class="message-link">\n      <i class="icon"></i>\n      <span>Message {{first_name}}</span>\n    </li>\n    <li class="share-link">\n      <i class="icon"></i>\n      <span>Share</span>\n    </li>\n    <li class="thank-link">\n      <i class="icon"></i>\n      <span>Thank</span>\n    </li>\n    <li class="flag-link">\n      <i class="icon"></i>\n      <span>Flag</span>\n    </li>\n    {{#canEdit}}\n     <span class="editlink"><a href="#">\n     <li class="edit-link">\n       <i class="icon"></i>\n      <span>Edit Post</span>\n     </li>\n     </a></span>\n     {{/canEdit}}\n   </ul>\n</div>\n<div class="post-interaction">\n  <div class="interaction">\n    {{#numThank}}\n    <p class="thanked">\n    <span class="blue">{{numThank}} {{peoplePerson}}</span> thanked this post:\n    {{#thanks}}\n    <span class="blue">{{thanker}} </span>\n    {{/thanks}}\n    </p>\n    {{/numThank}}\n    {{#num_shares}}\n    <!--\n    <p class="publicized">\n    <span class="blue">{{num_shares}} {{share_people}}</span> shared this post:\n    {{#shares}}\n    <span class="blue">{{sharer}}</span>\n    {{/shares}}\n    </p>\n    -->\n    {{/num_shares}}\n  </div>\n</div>\n\n<div class="replies-area"></div>\n\n<div class="clear">\n</div>\n',this.Templates["wire_items.announcement-item"]='<div class="wire-top" data-published-at="{{published_at}}">\n</div>\n<div class="post-content">\n  <a href="{{feedUrl}}"><img class="avatar-container" src="{{avatar_url}}" /></a>\n  <h3><a class="title" href="{{share_url}}">{{title}}</a></h3>\n  {{#markdown}}\n   {{body}}\n  {{/markdown}}\n  <p class="post-info"><a class="author" {{#isFeed}} href="{{feedUrl}}" {{/isFeed}}{{^isFeed}} href="{{author_url}}" {{/isFeed}}>{{author}}</a> posted <a href="{{share_url}}">{{published_at_in_words}}</a> in <a class="wire_filter" href="{{wireCategoryUrl}}">{{wireCategoryName}}</a></p>\n  \n</div>\n<div class="post-action clear">\n  <ul class="actions">\n    <li class="reply-link default">\n      <i class="icon"></i>\n      <span>Reply</span>\n    </li>\n    <li class="message-link">\n      <i class="icon"></i>\n      <span>Message {{first_name}}</span>\n    </li>\n    <li class="share-link">\n      <i class="icon"></i>\n      <span>Share</span>\n    </li>\n    <li class="thank-link">\n      <i class="icon"></i>\n      <span>Thank</span>\n    </li>\n    <li class="flag-link">\n      <i class="icon"></i>\n      <span>Flag</span>\n    </li>\n    {{#canEdit}}\n     <span class="editlink"><a href="#">\n     <li class="edit-link">\n       <i class="icon"></i>\n      <span>Edit Post</span>\n     </li>\n     </a></span>\n     {{/canEdit}}\n   </ul>\n</div>\n<div class="post-interaction">\n  <div class="interaction">\n    {{#numThank}}\n    <p class="thanked">\n    <span class="blue">{{numThank}} {{peoplePerson}}</span> thanked this post:\n    {{#thanks}}\n    <span class="blue">{{thanker}} </span>\n    {{/thanks}}\n    </p>\n    {{/numThank}}\n    {{#num_shares}}\n    <!--\n    <p class="publicized">\n    <span class="blue">{{num_shares}} {{share_people}}</span> shared this post:\n    {{#shares}}\n    <span class="blue">{{sharer}}</span>\n    {{/shares}}\n    </p>\n    -->\n    {{/num_shares}}\n  </div>\n</div>\n\n<div class="replies-area"></div>\n\n<div class="clear">\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["wire_items/event-item"]='<div class="wire-top" data-published-at="{{eventDateISO}}">\n</div>\n<div class="post-content">\n  <div class="calendar avatar">\n    <div class="month">{{short_month_name}}</div>\n    <div class="day-of-month">{{day_of_month}}</div>\n  </div>\n\n  <h3><a class="title" href="{{share_url}}">{{title}}</a></h3>\n  {{#markdown}}\n  {{body}}\n  <!--{{#start_time}}\n    <div class="event-time">\n      {{start_time}}\n    </div>\n    {{/start_time}}\n    {{#end_time}}\n    <div class="event-time">\n      &#8211; {{end_time}}\n    </div>\n    {{/end_time}}-->\n  <p class="address"><span class="bold">Date:</span> {{short_month_name}} {{day_of_month}} <span class="event-timestamp">({{eventDate}})</span></p>\n  <p class="address"><span class="bold">Time:</span> {{start_time}} &#8211; {{end_time}}</span></p>\n  {{#venue}}<p class="venue"><span class="bold">Venue:</span> {{venue}}</p>{{/venue}}\n  {{#address}}<p class="address"><span class="bold">Address:</span> {{address}}</p>{{/address}}\n  {{/markdown}}\n  <p class="post-info"><a class="author" {{#isFeed}} href="{{feedUrl}}" {{/isFeed}}{{^isFeed}} href="{{author_url}}" {{/isFeed}}>{{author}}</a> posted in <a class="wire_filter" href="{{wireCategoryUrl}}">{{wireCategoryName}}</a></p>\n</div>\n<div class="post-action clear">\n  <ul class="actions">\n    <li class="reply-link default">\n      <i class="icon"></i>\n      <span>Reply</span>\n    </li>\n    <li class="message-link">\n      <i class="icon"></i>\n      <span>Message {{first_name}}</span>\n    </li>\n    <li class="share-link">\n      <i class="icon"></i>\n      <span>Share</span>\n    </li>\n    <li class="thank-link">\n      <i class="icon"></i>\n      <span>Thank</span>\n    </li>\n    <li class="flag-link">\n      <i class="icon"></i>\n      <span>Flag</span>\n    </li>\n    {{#canEdit}}\n     <span class="editlink"><a href="#">\n     <li class="edit-link">\n       <i class="icon"></i>\n      <span>Edit Post</span>\n     </li>\n     </a></span>\n     {{/canEdit}}\n   </ul>\n</div>\n<div class="post-interaction">\n  <div class="interaction">\n    {{#numThank}}\n    <p class="thanked">\n    <span class="blue">{{numThank}} {{peoplePerson}}</span> thanked this post:\n    {{#thanks}}\n    <span class="blue">{{thanker}} </span>\n    {{/thanks}}\n    </p>\n    {{/numThank}}\n    {{#num_shares}}\n    <!--\n    <p class="publicized">\n    <span class="blue">{{num_shares}} {{share_people}}</span> shared this post:\n    {{#shares}}\n    <span class="blue">{{sharer}}</span>\n    {{/shares}}\n    </p>\n    -->\n    {{/num_shares}}\n  </div>\n</div>\n\n<div class="replies-area"></div>\n\n<div class="clear">\n</div>\n',this.Templates["wire_items.event-item"]='<div class="wire-top" data-published-at="{{eventDateISO}}">\n</div>\n<div class="post-content">\n  <div class="calendar avatar">\n    <div class="month">{{short_month_name}}</div>\n    <div class="day-of-month">{{day_of_month}}</div>\n  </div>\n\n  <h3><a class="title" href="{{share_url}}">{{title}}</a></h3>\n  {{#markdown}}\n  {{body}}\n  <!--{{#start_time}}\n    <div class="event-time">\n      {{start_time}}\n    </div>\n    {{/start_time}}\n    {{#end_time}}\n    <div class="event-time">\n      &#8211; {{end_time}}\n    </div>\n    {{/end_time}}-->\n  <p class="address"><span class="bold">Date:</span> {{short_month_name}} {{day_of_month}} <span class="event-timestamp">({{eventDate}})</span></p>\n  <p class="address"><span class="bold">Time:</span> {{start_time}} &#8211; {{end_time}}</span></p>\n  {{#venue}}<p class="venue"><span class="bold">Venue:</span> {{venue}}</p>{{/venue}}\n  {{#address}}<p class="address"><span class="bold">Address:</span> {{address}}</p>{{/address}}\n  {{/markdown}}\n  <p class="post-info"><a class="author" {{#isFeed}} href="{{feedUrl}}" {{/isFeed}}{{^isFeed}} href="{{author_url}}" {{/isFeed}}>{{author}}</a> posted in <a class="wire_filter" href="{{wireCategoryUrl}}">{{wireCategoryName}}</a></p>\n</div>\n<div class="post-action clear">\n  <ul class="actions">\n    <li class="reply-link default">\n      <i class="icon"></i>\n      <span>Reply</span>\n    </li>\n    <li class="message-link">\n      <i class="icon"></i>\n      <span>Message {{first_name}}</span>\n    </li>\n    <li class="share-link">\n      <i class="icon"></i>\n      <span>Share</span>\n    </li>\n    <li class="thank-link">\n      <i class="icon"></i>\n      <span>Thank</span>\n    </li>\n    <li class="flag-link">\n      <i class="icon"></i>\n      <span>Flag</span>\n    </li>\n    {{#canEdit}}\n     <span class="editlink"><a href="#">\n     <li class="edit-link">\n       <i class="icon"></i>\n      <span>Edit Post</span>\n     </li>\n     </a></span>\n     {{/canEdit}}\n   </ul>\n</div>\n<div class="post-interaction">\n  <div class="interaction">\n    {{#numThank}}\n    <p class="thanked">\n    <span class="blue">{{numThank}} {{peoplePerson}}</span> thanked this post:\n    {{#thanks}}\n    <span class="blue">{{thanker}} </span>\n    {{/thanks}}\n    </p>\n    {{/numThank}}\n    {{#num_shares}}\n    <!--\n    <p class="publicized">\n    <span class="blue">{{num_shares}} {{share_people}}</span> shared this post:\n    {{#shares}}\n    <span class="blue">{{sharer}}</span>\n    {{/shares}}\n    </p>\n    -->\n    {{/num_shares}}\n  </div>\n</div>\n\n<div class="replies-area"></div>\n\n<div class="clear">\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["wire_items/feed-card"]='<div>\n  <div class="left">\n    <img class="avatar-container" src={{avatar}} />\n    {{^isOwner}}\n      <a class="contact message-link" href="#">Send Message</a>\n      {{^isSubscribed}}<a href="#" class="subscribe">Subscribe</a>{{/isSubscribed}}\n      {{#isSubscribed}}<a href="#" class="unsubscribe">Unsubscribe</a>{{/isSubscribed}}\n    {{/isOwner}}\n    {{#canEdit}}\n    <a href="#" class="transaction red-button">Sell on the Marketplace!</a>\n    <a href="#" class="edit">Edit Page</a>\n    {{/canEdit}}\n  </div>\n  <div class="right">\n    <h2 class="name">{{name}}</h2>\n    <div class="stat-bar">\n      <ul>\n        <li class="announcements">\n          <span class="big">{{announce_count}}</span>\n          <span class="little">Announcements</span>\n          </li>\n          <li>\n          <span class="big events">{{event_count}}</span>\n          <span class="little">Events</span>\n          </li>\n          <li class="subscribers">\n          <span class="big">{{subscribers_count}}</span>\n          <span class="little">Subscribers</span>\n          </li>\n      </ul>\n    </div>\n    {{#hasAbout}}\n    <p>{{about}}</p>\n    {{/hasAbout}}\n    <p><span class="bold">Website:</span>  <a href={{site_url}} target="_blank">{{site_url}}</a></p>\n  </div>\n</div>\n',this.Templates["wire_items.feed-card"]='<div>\n  <div class="left">\n    <img class="avatar-container" src={{avatar}} />\n    {{^isOwner}}\n      <a class="contact message-link" href="#">Send Message</a>\n      {{^isSubscribed}}<a href="#" class="subscribe">Subscribe</a>{{/isSubscribed}}\n      {{#isSubscribed}}<a href="#" class="unsubscribe">Unsubscribe</a>{{/isSubscribed}}\n    {{/isOwner}}\n    {{#canEdit}}\n    <a href="#" class="transaction red-button">Sell on the Marketplace!</a>\n    <a href="#" class="edit">Edit Page</a>\n    {{/canEdit}}\n  </div>\n  <div class="right">\n    <h2 class="name">{{name}}</h2>\n    <div class="stat-bar">\n      <ul>\n        <li class="announcements">\n          <span class="big">{{announce_count}}</span>\n          <span class="little">Announcements</span>\n          </li>\n          <li>\n          <span class="big events">{{event_count}}</span>\n          <span class="little">Events</span>\n          </li>\n          <li class="subscribers">\n          <span class="big">{{subscribers_count}}</span>\n          <span class="little">Subscribers</span>\n          </li>\n      </ul>\n    </div>\n    {{#hasAbout}}\n    <p>{{about}}</p>\n    {{/hasAbout}}\n    <p><span class="bold">Website:</span>  <a href={{site_url}} target="_blank">{{site_url}}</a></p>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["wire_items/feed-item"]='<img src="{{avatar_url}}" width="50" height="50" class="avatar">\n\n<h3 class="title"><a href="{{url}}">{{name}}</a></h3>\n\n{{#isSubscribed}}\n<button class="unsubscribe">You\'re Subscribed</button>\n{{/isSubscribed}}\n{{^isSubscribed}}\n<button class="subscribe">Subscribe</button>\n{{/isSubscribed}}\n\n<div style="clear:both;"></div>\n',this.Templates["wire_items.feed-item"]='<img src="{{avatar_url}}" width="50" height="50" class="avatar">\n\n<h3 class="title"><a href="{{url}}">{{name}}</a></h3>\n\n{{#isSubscribed}}\n<button class="unsubscribe">You\'re Subscribed</button>\n{{/isSubscribed}}\n{{^isSubscribed}}\n<button class="subscribe">Subscribe</button>\n{{/isSubscribed}}\n\n<div style="clear:both;"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["wire_items/group-card"]='<div>\n   <div class="left">\n      <img class="avatar-container" src={{avatar}} />\n      {{^isSubscribed}}<a href="#" class="subscribe">Subscribe</a>{{/isSubscribed}}\n      {{#isSubscribed}}<a href="#" class="unsubscribe">Unsubscribe</a>{{/isSubscribed}}\n   </div>\n   <div class="right">\n      <h2 class="name">{{name}}</h2>\n      <div class="stat-bar">\n         <ul>\n            <li>\n              <span class="big">{{post_count}}</span>\n              <span class="little">Posts</span>\n            </li>\n            <li>\n              <span class="big">{{event_count}}</span>\n              <span class="little">Events</span>\n            </li>\n            <li>\n              <span class="big">{{subscribers}}</span>\n              <span class="little">Subscribers</span>\n            </li>\n         </ul>\n      </div>\n      {{#hasAbout}}\n      <p>{{about}}</p>\n      {{/hasAbout}}\n  </div>\n</div>\n',this.Templates["wire_items.group-card"]='<div>\n   <div class="left">\n      <img class="avatar-container" src={{avatar}} />\n      {{^isSubscribed}}<a href="#" class="subscribe">Subscribe</a>{{/isSubscribed}}\n      {{#isSubscribed}}<a href="#" class="unsubscribe">Unsubscribe</a>{{/isSubscribed}}\n   </div>\n   <div class="right">\n      <h2 class="name">{{name}}</h2>\n      <div class="stat-bar">\n         <ul>\n            <li>\n              <span class="big">{{post_count}}</span>\n              <span class="little">Posts</span>\n            </li>\n            <li>\n              <span class="big">{{event_count}}</span>\n              <span class="little">Events</span>\n            </li>\n            <li>\n              <span class="big">{{subscribers}}</span>\n              <span class="little">Subscribers</span>\n            </li>\n         </ul>\n      </div>\n      {{#hasAbout}}\n      <p>{{about}}</p>\n      {{/hasAbout}}\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["wire_items/post-item"]='<div class="wire-top" data-published-at="{{published_at}}">\n</div>\n<div class="post-content">\n   <a href="{{author_url}}"><img class="avatar-container" src="{{avatar_url}}" /></a>\n  <h3><a class="title" href="{{share_url}}">{{title}}</a></h3>\n  \n  {{#markdown}}\n   {{body}}\n  {{/markdown}}\n  <p class="post-info"><a class="author" href="{{author_url}}">{{author}}</a> posted <a href="{{share_url}}">{{published_at_in_words}}</a> in <a class="wire_filter" href="/{{community_slug}}/list/discussions">{{wireCategoryName}}</a></p>\n</div>\n<div class="post-action clear">\n  <ul class="actions">\n    <li class="reply-link default">\n      <i class="icon"></i>\n      <span>Reply</span>\n    </li>\n    <li class="message-link">\n      <i class="icon"></i>\n      <span>Message {{first_name}}</span>\n    </li>\n    <li class="share-link">\n      <i class="icon"></i>\n      <span>Share</span>\n    </li>\n    <li class="thank-link">\n      <i class="icon"></i>\n      <span>Thank</span>\n    </li>\n    <li class="flag-link">\n      <i class="icon"></i>\n      <span>Flag</span>\n    </li>\n    {{#canEdit}}\n    <span class="editlink"><a href="#">\n    <li class="edit-link">\n      <i class="icon"></i>\n     <span>Edit Post</span>\n    </li>\n    </a></span>\n    {{/canEdit}}\n   </ul>\n</div>\n\n<div class="post-interaction">\n  <div class="interaction">\n    {{#numThank}}\n    <p class="thanked">\n    <span class="blue">{{numThank}} {{peoplePerson}}</span> thanked this post:\n    {{#thanks}}\n    <span class="blue">{{thanker}} </span>\n    {{/thanks}}\n    </p>\n    {{/numThank}}\n    {{#num_shares}}\n    <!--\n    <p class="publicized">\n    <span class="blue">{{num_shares}} {{share_people}}</span> shared this post:\n    {{#shares}}\n    <span class="blue">{{sharer}}</span>\n    {{/shares}}\n    </p>\n    -->\n    {{/num_shares}}\n  </div>\n</div>\n\n<div class="replies-area"></div>\n\n<div class="clear">\n</div>\n',this.Templates["wire_items.post-item"]='<div class="wire-top" data-published-at="{{published_at}}">\n</div>\n<div class="post-content">\n   <a href="{{author_url}}"><img class="avatar-container" src="{{avatar_url}}" /></a>\n  <h3><a class="title" href="{{share_url}}">{{title}}</a></h3>\n  \n  {{#markdown}}\n   {{body}}\n  {{/markdown}}\n  <p class="post-info"><a class="author" href="{{author_url}}">{{author}}</a> posted <a href="{{share_url}}">{{published_at_in_words}}</a> in <a class="wire_filter" href="/{{community_slug}}/list/discussions">{{wireCategoryName}}</a></p>\n</div>\n<div class="post-action clear">\n  <ul class="actions">\n    <li class="reply-link default">\n      <i class="icon"></i>\n      <span>Reply</span>\n    </li>\n    <li class="message-link">\n      <i class="icon"></i>\n      <span>Message {{first_name}}</span>\n    </li>\n    <li class="share-link">\n      <i class="icon"></i>\n      <span>Share</span>\n    </li>\n    <li class="thank-link">\n      <i class="icon"></i>\n      <span>Thank</span>\n    </li>\n    <li class="flag-link">\n      <i class="icon"></i>\n      <span>Flag</span>\n    </li>\n    {{#canEdit}}\n    <span class="editlink"><a href="#">\n    <li class="edit-link">\n      <i class="icon"></i>\n     <span>Edit Post</span>\n    </li>\n    </a></span>\n    {{/canEdit}}\n   </ul>\n</div>\n\n<div class="post-interaction">\n  <div class="interaction">\n    {{#numThank}}\n    <p class="thanked">\n    <span class="blue">{{numThank}} {{peoplePerson}}</span> thanked this post:\n    {{#thanks}}\n    <span class="blue">{{thanker}} </span>\n    {{/thanks}}\n    </p>\n    {{/numThank}}\n    {{#num_shares}}\n    <!--\n    <p class="publicized">\n    <span class="blue">{{num_shares}} {{share_people}}</span> shared this post:\n    {{#shares}}\n    <span class="blue">{{sharer}}</span>\n    {{/shares}}\n    </p>\n    -->\n    {{/num_shares}}\n  </div>\n</div>\n\n<div class="replies-area"></div>\n\n<div class="clear">\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["wire_items/reply-item"]='<a href="{{author_url}}"><img class="avatar-container" src="{{avatar_url}}" /></a>\n<div class="reply-info">\n  <div class="reply-text">\n    <span class="author"><a href="{{author_url}}">{{author}}</a></span><p class="author">\n    \n    <div class="body reply-body">\n      {{#markdown}}{{body}}{{/markdown}}\n      <span class="controls">\n        <span class="time">{{published_at_in_words}}</span>\n        {{#hasThanks}}<span class="thank-divider">&#9734;</span><span class="thanks-count">{{numThanks}} {{peoplePerson}} thanked {{first_name}}</span>{{/hasThanks}}\n        {{#canThank}}\n          {{#hasThanked}}<span class="thanked-reply">THANKED!</span>{{/hasThanked}}\n          {{^hasThanked}}<a href="#" class="thank-reply">Thank</a>{{/hasThanked}}\n        {{/canThank}}\n        <a href="#" class="reply-message-link">Send Message</a>\n        {{#canEdit}}<a href="#" class="delete-reply">DELETE</a>{{/canEdit}}\n      </span>\n    </div>\n\n  </div>\n\n</div>\n\n<div style="clear: both;"></div>\n'
,this.Templates["wire_items.reply-item"]='<a href="{{author_url}}"><img class="avatar-container" src="{{avatar_url}}" /></a>\n<div class="reply-info">\n  <div class="reply-text">\n    <span class="author"><a href="{{author_url}}">{{author}}</a></span><p class="author">\n    \n    <div class="body reply-body">\n      {{#markdown}}{{body}}{{/markdown}}\n      <span class="controls">\n        <span class="time">{{published_at_in_words}}</span>\n        {{#hasThanks}}<span class="thank-divider">&#9734;</span><span class="thanks-count">{{numThanks}} {{peoplePerson}} thanked {{first_name}}</span>{{/hasThanks}}\n        {{#canThank}}\n          {{#hasThanked}}<span class="thanked-reply">THANKED!</span>{{/hasThanked}}\n          {{^hasThanked}}<a href="#" class="thank-reply">Thank</a>{{/hasThanked}}\n        {{/canThank}}\n        <a href="#" class="reply-message-link">Send Message</a>\n        {{#canEdit}}<a href="#" class="delete-reply">DELETE</a>{{/canEdit}}\n      </span>\n    </div>\n\n  </div>\n\n</div>\n\n<div style="clear: both;"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["wire_items/transaction-item"]='<div class="wire-top" data-published-at="{{publishedAtISO}}">\n</div>\n<div class="post-content">\n  <a href="{{author_url}}"><img class="avatar-container" src="{{avatar_url}}" /></a>\n  <h3><a class="title" href="{{share_url}}">{{title}}</a></h3>\n  {{#markdown}}\n   {{body}}\n  {{/markdown}}\n\n  {{#hasImages}}\n    <div class="photo-container">\n      <ul class="multi-photo">\n        {{#images}}\n        <li class="image_container">\n          <a href="{{image_original}}" target="_blank"><img class="post_image" src="{{image_large}}" /></a>\n        </li>\n        {{/images}}\n      </ul>\n    </div>\n  {{/hasImages}}\n  <p class="post-info"><a class="author" {{#isFeed}} href="{{feedUrl}}" {{/isFeed}}{{^isFeed}} href="{{author_url}}" {{/isFeed}}>{{author}}</a> posted <a href="{{share_url}}">{{published_at_in_words}}</a> in <a class="wire_filter" href="/{{community_slug}}/list/discussions">{{wireCategoryName}}</a></p>\n</div>\n<div class="post-action clear">\n  <ul class="actions">\n    <li class="buy-link default">\n      <i class="icon"></i>\n      <span>Make Offer: {{price}}</span>\n    </li>\n    <li class="reply-link">\n      <i class="icon"></i>\n      <span>Reply</span>\n    </li>\n    <li class="share-link">\n      <i class="icon"></i>\n      <span>Share</span>\n    </li>\n    <li class="thank-link">\n      <i class="icon"></i>\n      <span>Thank</span>\n    </li>\n    <li class="flag-link">\n      <i class="icon"></i>\n      <span>Flag</span>\n    </li>\n    {{#canEdit}}\n     <span class="editlink"><a href="#">\n     <li class="edit-link">\n       <i class="icon"></i>\n      <span>Edit Post</span>\n     </li>\n     </a></span>\n     {{/canEdit}}\n   </ul>\n</div>\n<div class="post-interaction">\n  <div class="interaction">\n    {{#numThank}}\n    <p class="thanked">\n    <span class="blue">{{numThank}} {{peoplePerson}}</span> thanked this post:\n    {{#thanks}}\n    <span class="blue">{{thanker}} </span>\n    {{/thanks}}\n    </p>\n    {{/numThank}}\n    {{#num_shares}}\n    <!--\n    <p class="publicized">\n    <span class="blue">{{num_shares}} {{share_people}}</span> shared this post:\n    {{#shares}}\n    <span class="blue">{{sharer}}</span>\n    {{/shares}}\n    </p>\n    -->\n    {{/num_shares}}\n  </div>\n</div>\n\n<div class="replies-area"></div>\n\n<div class="clear">\n</div>\n',this.Templates["wire_items.transaction-item"]='<div class="wire-top" data-published-at="{{publishedAtISO}}">\n</div>\n<div class="post-content">\n  <a href="{{author_url}}"><img class="avatar-container" src="{{avatar_url}}" /></a>\n  <h3><a class="title" href="{{share_url}}">{{title}}</a></h3>\n  {{#markdown}}\n   {{body}}\n  {{/markdown}}\n\n  {{#hasImages}}\n    <div class="photo-container">\n      <ul class="multi-photo">\n        {{#images}}\n        <li class="image_container">\n          <a href="{{image_original}}" target="_blank"><img class="post_image" src="{{image_large}}" /></a>\n        </li>\n        {{/images}}\n      </ul>\n    </div>\n  {{/hasImages}}\n  <p class="post-info"><a class="author" {{#isFeed}} href="{{feedUrl}}" {{/isFeed}}{{^isFeed}} href="{{author_url}}" {{/isFeed}}>{{author}}</a> posted <a href="{{share_url}}">{{published_at_in_words}}</a> in <a class="wire_filter" href="/{{community_slug}}/list/discussions">{{wireCategoryName}}</a></p>\n</div>\n<div class="post-action clear">\n  <ul class="actions">\n    <li class="buy-link default">\n      <i class="icon"></i>\n      <span>Make Offer: {{price}}</span>\n    </li>\n    <li class="reply-link">\n      <i class="icon"></i>\n      <span>Reply</span>\n    </li>\n    <li class="share-link">\n      <i class="icon"></i>\n      <span>Share</span>\n    </li>\n    <li class="thank-link">\n      <i class="icon"></i>\n      <span>Thank</span>\n    </li>\n    <li class="flag-link">\n      <i class="icon"></i>\n      <span>Flag</span>\n    </li>\n    {{#canEdit}}\n     <span class="editlink"><a href="#">\n     <li class="edit-link">\n       <i class="icon"></i>\n      <span>Edit Post</span>\n     </li>\n     </a></span>\n     {{/canEdit}}\n   </ul>\n</div>\n<div class="post-interaction">\n  <div class="interaction">\n    {{#numThank}}\n    <p class="thanked">\n    <span class="blue">{{numThank}} {{peoplePerson}}</span> thanked this post:\n    {{#thanks}}\n    <span class="blue">{{thanker}} </span>\n    {{/thanks}}\n    </p>\n    {{/numThank}}\n    {{#num_shares}}\n    <!--\n    <p class="publicized">\n    <span class="blue">{{num_shares}} {{share_people}}</span> shared this post:\n    {{#shares}}\n    <span class="blue">{{sharer}}</span>\n    {{/shares}}\n    </p>\n    -->\n    {{/num_shares}}\n  </div>\n</div>\n\n<div class="replies-area"></div>\n\n<div class="clear">\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["wire_items/user-card"]='<div>\n  <div class="left">\n    <img class="avatar-container" src={{avatar}} />\n    {{^isCurrentUser}}\n      <a class="contact message-link" href="#">Send Message</a>\n      {{^hasMet}}\n      <a href="#" class="meet">Have You Met?</a>\n      <a class="just-met" style="display: none;">You\'ve Met!</a>\n      {{/hasMet}}\n      {{#hasMet}}<a href="#" class="unmeet">Already Met!</a>{{/hasMet}}\n    {{/isCurrentUser}}\n    {{#canEdit}}<a class="editlink" href="{{account_url}}" data-remote>Edit Profile</a>{{/canEdit}}\n  </div>\n  <div class="right">\n    <h2 class="name">{{name}}</h2>\n    <div class="stat-bar">\n      <ul>\n        <li>\n        <span class="big">{{post_count}}</span>\n        <span class="little">Posts</span>\n        </li>\n        <li>\n        <span class="big">{{reply_count}}</span>\n        <span class="little">Replies</span>\n        </li>\n        <li>\n        <span class="big">{{sell_count}}</span>\n        <span class="little">Items</span>\n        </li>\n        <li>\n        <span class="big">{{thank_count}}</span>\n        <span class="little">Thanks</span>\n        </li>\n        <li>\n        <span class="big">{{met_count}}</span>\n        <span class="little">Mets</span>\n        </li>\n      </ul>\n    </div>\n    {{^hasAbout}}<p class="default-about">{{defaultAbout}}\n    </p>{{/hasAbout}}\n    {{#hasAbout}}<p class="bio">{{about}}\n    </p>{{/hasAbout}}\n    {{#hasPages}}\n    <p><span class="bold">Pages:</span>\n    {{#pages}}\n    <a class="page-link" title="{{slug}}" href="#">{{name}}</a><span>{{^last}},{{/last}}</span>  </p>\n    {{/pages}}\n    {{/hasPages}}\n  </div>\n</div>\n',this.Templates["wire_items.user-card"]='<div>\n  <div class="left">\n    <img class="avatar-container" src={{avatar}} />\n    {{^isCurrentUser}}\n      <a class="contact message-link" href="#">Send Message</a>\n      {{^hasMet}}\n      <a href="#" class="meet">Have You Met?</a>\n      <a class="just-met" style="display: none;">You\'ve Met!</a>\n      {{/hasMet}}\n      {{#hasMet}}<a href="#" class="unmeet">Already Met!</a>{{/hasMet}}\n    {{/isCurrentUser}}\n    {{#canEdit}}<a class="editlink" href="{{account_url}}" data-remote>Edit Profile</a>{{/canEdit}}\n  </div>\n  <div class="right">\n    <h2 class="name">{{name}}</h2>\n    <div class="stat-bar">\n      <ul>\n        <li>\n        <span class="big">{{post_count}}</span>\n        <span class="little">Posts</span>\n        </li>\n        <li>\n        <span class="big">{{reply_count}}</span>\n        <span class="little">Replies</span>\n        </li>\n        <li>\n        <span class="big">{{sell_count}}</span>\n        <span class="little">Items</span>\n        </li>\n        <li>\n        <span class="big">{{thank_count}}</span>\n        <span class="little">Thanks</span>\n        </li>\n        <li>\n        <span class="big">{{met_count}}</span>\n        <span class="little">Mets</span>\n        </li>\n      </ul>\n    </div>\n    {{^hasAbout}}<p class="default-about">{{defaultAbout}}\n    </p>{{/hasAbout}}\n    {{#hasAbout}}<p class="bio">{{about}}\n    </p>{{/hasAbout}}\n    {{#hasPages}}\n    <p><span class="bold">Pages:</span>\n    {{#pages}}\n    <a class="page-link" title="{{slug}}" href="#">{{name}}</a><span>{{^last}},{{/last}}</span>  </p>\n    {{/pages}}\n    {{/hasPages}}\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["wire_items/user-item"]='<a class="author" href="{{author_url}}"><img src="{{avatar_url}}" width="50" height="50" class="avatar"></a>\n\n<h3 class="title"><a class="author"  href="{{author_url}}">{{first_name}} {{last_name}}</a></h3>\n\n<a class="message-user" href="#">Send Message</a>\n\n<div style="clear:both;"></div>\n',this.Templates["wire_items.user-item"]='<a class="author" href="{{author_url}}"><img src="{{avatar_url}}" width="50" height="50" class="avatar"></a>\n\n<h3 class="title"><a class="author"  href="{{author_url}}">{{first_name}} {{last_name}}</a></h3>\n\n<a class="message-user" href="#">Send Message</a>\n\n<div style="clear:both;"></div>\n'}(this),function(){CommonPlace.shared.Directory=CommonPlace.View.extend({template:"shared.directory",id:"directory",lists_div:"directory_lists",results_div:"directory_results",events:{"click .directory_tab":"switchTab","click .remove_search":"removeSearch","keyup input.search":"search"},afterRender:function(){return this.lists=new CommonPlace.shared.DirectoryLists({el:this.$("#"+this.lists_div),removeSearchSpinner:_.bind(this.removeSearchSpinner,this)}),this.showTab("pages"),this.$("[placeholder]").placeholder(),$(window).resize(_.bind(this.resizeDirectory,this)),this.resizeDirectory(),this.hideClearSearch()},switchTabClass:function(a){return this.$(".directory_tab").removeClass("current_tab"),this.$("."+a+"-filter").addClass("current_tab")},switchTab:function(a){var b;return a.preventDefault(),this.isGuest()?this.showRegistration():(b=$(a.target).attr("title"),this.showTab(b))},showTab:function(a){return this.lists.showList(a,{}),this.switchTabClass(a)},hideClearSearch:function(){return this.$(".remove_search").hide()},showClearSearch:function(){return this.$(".remove_search").show()},search:_.debounce(function(){var a;return a=this.$("#directory_search input.search").val(),this.$(".search").addClass("loading"),a===""?(this.removeSearch(),this.removeSearchSpinner()):(this.showClearSearch(),this.lists.showSearch(a,{}),this.$(".directory_tab").removeClass("current"))},500),removeSearch:function(){return this.lists.clearSearch(!0),this.hideClearSearch()},removeSearchSpinner:function(){return this.$(".search").removeClass("loading")},resizeDirectory:function(){var a,b,c,d;return c=0,a=window.document.body,window.innerHeight!==void 0?c=window.innerHeight:a.parentElement.clientHeight!==void 0?c=a.parentElement.clientHeight:a&&a.clientHeight&&(c=a.clientHeight),d=this.$("#"+this.results_div).offset(),d.top===0?b=c-345:b=c-d.top-15,this.$("#"+this.results_div).height(b+"px")}})}.call(this),function(){CommonPlace.shared.DirectoryListItem=CommonPlace.View.extend({template:"shared.directory-list-item",tagName:"li",events:{"click .directory_item":"clicked_item"},avatar_url:function(){return this.model.get("avatar_url")},name:function(){return this.model.get("name")},clicked_item:function(a){var b,c,d;a&&a.preventDefault();if(this.isGuest())return this.showRegistration();d=CommonPlace.community.get("slug"),c=this.model.get("schema"),b=this.model.get("id");if(c==="users"){app.showUserWire(d,b);if(typeof _kmq!="undefined"&&_kmq!==null)return _kmq.push(["record","Clicked Directory Neighbor",{Neighbor:this.name}])}else if(c==="feeds"){app.showFeedPage(d,b);if(typeof _kmq!="undefined"&&_kmq!==null)return _kmq.push(["record","Clicked Directory Page",{"Page Name":this.name}])}else if(c==="groups"){app.showGroupPage(d,b);if(typeof _kmq!="undefined"&&_kmq!==null)return _kmq.push(["record","Clicked Directory Page",{"Page Name":this.name}])}}})}.call(this),function(){CommonPlace.shared.DirectoryLists=CommonPlace.View.extend({id:"directory",events:{"mouseover .scroll":"showScrollBar","mouseout .scroll":"hideScrollBar"},initialize:function(){var a;return this.lists={pages:CommonPlace.community.grouplikes,users:CommonPlace.community.featuredUsers},a=this,this.nextPageTrigger(),this.page=0,this.$("#directory_results").scroll(function(){var b;b=$(this).scrollTop();if($(this).scrollTop()+10>this.scrollHeight/3)return a.nextPageThrottled()})},showList:function(a,b){var c;this.page=0,this.nextPageTrigger(),c=this.lists[a];if(c&&this.currentList!==c)return this.clearSearch(!1),(!b||!b.nextPage)&&this.$("#directory_results ul").empty(),this.currentList=c,this.currentListName=a,this.fetchAndRenderCurrentList(b)},hideFailedSearch:function(){return this.$("#directory_failed_search").hide()},showSearch:function(a,b){return this.hideFailedSearch(),this.page=0,this.currentListName==="users"?this.currentList=CommonPlace.community.users:this.currentList=this.lists[this.currentListName],this.currentQuery=a,this.fetchAndRenderCurrentSearch(b)},renderCurrentList:function(a){var b,c,d;return c=this,this.removeListSpinner(),d=this.currentList.map(function(a){return new CommonPlace.shared.DirectoryListItem({model:a})}),_.invoke(d,"render"),b=this.$("#directory_results ul"),(!a||!a.nextPage)&&b.empty(),b.append(_.pluck(d,"el"))},fetchAndRenderCurrentList:function(a){var b;return b=_.bind(function(){return this.renderCurrentList(a)},this),this.showListSpinner(),this.currentList.fetch({success:b})},fetchAndRenderCurrentSearch:function(a){return this.showListSpinner(),this.currentList.fetch({data:{query:this.currentQuery},success:_.bind(function(){return this.currentList.length===0&&this.$("#directory_failed_search").show(),this.renderCurrentList(a),this.options.removeSearchSpinner()},this)})},clearSearch:function(a){this.$("#directory_search input.search").val(""),this.hideFailedSearch(),this.currentQuery="",this.$("#directory_results ul").empty();if(this.currentListName&&a)return this.currentList=this.lists[this.currentListName],this.fetchAndRenderCurrentList()},nextPageTrigger:function(){var a;return a=this,this.nextPageThrottled=_.once(function(){return a.nextPage()})},nextPage:function(){if(this.currentList.length<25)return;return this.page++,this.currentList.fetch({data:{query:this.currentQuery,page:this.page},success:_.bind(function(){return this.renderCurrentList({nextPage:!0}),this.nextPageTrigger()},this),error:_.bind(function(){return this.nextPageTrigger()},this)})},showListSpinner:function(){return this.$(".loading-list").show()},removeListSpinner:function(){return this.$(".loading-list").hide()},showScrollBar:function(a){return a.preventDefault(),this.$(a.currentTarget).css({"overflow-y":"auto"})},hideScrollBar:function(a){return a.preventDefault(),this.$(a.currentTarget).css({overflow:"hidden"})}})}.call(this),function(){CommonPlace.shared.FacebookNag=CommonPlace.View.extend({template:"shared.facebook-nag",events:{"click a.cancel":function(a){return a.preventDefault(),CommonPlace.account.set_metadata("completed_facebook_nag",!0),this.$el.hide(),CommonPlace.layout.reset()},"click a.connect":function(a){return a.preventDefault(),facebook_connect_post_registration(),this.$el.hide(),CommonPlace.layout.reset()}}})}.call(this),function(){CommonPlace.shared.HeaderView=CommonPlace.View.extend({template:"shared.new_header.header-view",id:"header",events:{"click .post":"showPostbox"},afterRender:function(){var a,b;return a=void 0,b=void 0,CommonPlace.account.isAuth()?CommonPlace.account.isGuest()?(a=new CommonPlace.shared.HeaderSearch,b=new CommonPlace.shared.HeaderLogin,this.$(".header_center").addClass("header_guest")):(a=new CommonPlace.shared.HeaderSearch,b=new CommonPlace.shared.HeaderNav):(a=new CommonPlace.shared.HeaderWrongTown,b=new CommonPlace.shared.HeaderLogin),window.HeaderNavigation=b,a.render(),b.render(),this.$(".header_center").html(a.el),this.$(".header_right").html(b.el)},showPostbox:function(a){return a&&a.preventDefault(),this.isGuest()?this.showRegistration():(this.postbox=new CommonPlace.main.PostBox({account:CommonPlace.account,community:CommonPlace.community}),this.postbox.render())},root_url:function(){return CommonPlace.community?"/"+CommonPlace.community.get("slug"):"/"},hasCommunity:function(){return CommonPlace.community},community_name:function(){if(CommonPlace.account.isAuth())return CommonPlace.account.get("community_name");if(CommonPlace.community)return CommonPlace.community.get("name")},community_url:function(){return CommonPlace.community?this.root_url():"/info"},isAuth:function(){return CommonPlace.account.isAuth()}})}.call(this);var HeaderActivity=CommonPlace.View.extend({template:"shared.header-activity",className:"my-activity selected-nav",tagName:"li",initialize:function(){this.activity=CommonPlace.account.get("activity")},weekly_cpcredits:function(){return this.activity.credits.week},all_cpcredits:function(){return this.activity.credits.all},sign_up_time:function(){return this.activity.created_at},post_count:function(){return this.activity.posts.all},posts_this_week_count:function(){return this.activity.posts.week},thanks_count:function(){return this.activity.thanks.all},thanks_this_week_count:function(){return this.activity.thanks.week},replies_count:function(){return this.activity.replies.all},replies_this_week_count:function(){return this.activity.replies.week},thanks_received_count:function(){return this.activity.received_thanks.all},thanks_received_this_week_count:function(){return this.activity.received_thanks.week},invites_count:function(){return this.activity.invites.all},invites_this_week_count:function(){return this.activity.invites.week},community_users_count:function(){return this.activity.community_users.all},community_users_this_week_count:function(){return this.activity.community_users.week},community_posts_count:function(){return this.activity.community_posts.all},community_posts_this_week_count:function(){return this.activity.community_posts.week},average_replies_count:function(){return Math.ceil(this.activity.community_replies.all/this.activity.community_users.all*100)},average_replies_this_week_count:function(){return Math.ceil(this.activity.community_replies.week/this.activity.community_users.all*100)},average_posts_count:function(){return Math.ceil(this.activity.community_posts.all/this.activity.community_users.all*100)},average_posts_this_week_count:function(){return Math.ceil(this.activity.community_posts.week/this.activity.community_users.all*100)},invite_url:function(){return"/"+this.community_slug()+"/invite"},percentage_penetration_px:function(){return Math.min(152,this.activity.community_users.all/this.activity.households*152)},percent_penetration:function(){return Math.min(100,this.activity.community_users.all/this.activity.households*100)},community_slug:function(){return CommonPlace.account.isAuth()?CommonPlace.account.get("community_slug"):CommonPlace.community.get("slug")}});((function(){CommonPlace.shared.HeaderActivity=CommonPlace.View.extend({template:"shared.new_header.header-activity",className:"my-activity selected-nav",tagName:"li",initialize:function(){return this.activity=CommonPlace.account.get("activity")},weekly_cpcredits:function(){return this.activity.credits.week},all_cpcredits:function(){return this.activity.credits.all},sign_up_time:function(){return this.activity.created_at},post_count:function(){return this.activity.posts.all},posts_this_week_count:function(){return this.activity.posts.week},thanks_count:function(){return this.activity.thanks.all},thanks_this_week_count:function(){return this.activity.thanks.week},replies_count:function(){return this.activity.replies.all},replies_this_week_count:function(){return this.activity.replies.week},thanks_received_count:function(){return this.activity.received_thanks.all},thanks_received_this_week_count:function(){return this.activity.received_thanks.week},invites_count:function(){return this.activity.invites.all},invites_this_week_count:function(){return this.activity.invites.week},community_users_count:function(){return this.activity.community_users.all},community_users_this_week_count:function(){return this.activity.community_users.week},community_posts_count:function(){return this.activity.community_posts.all},community_posts_this_week_count:function(){return this.activity.community_posts.week},average_replies_count:function(){return Math.ceil(this.activity.community_replies.all/this.activity.community_users.all*100)},average_replies_this_week_count:function(){return Math.ceil(this.activity.community_replies.week/this.activity.community_users.all*100)},average_posts_count:function(){return Math.ceil(this.activity.community_posts.all/this.activity.community_users.all*100)},average_posts_this_week_count:function(){return Math.ceil(this.activity.community_posts.week/this.activity.community_users.all*100)},invite_url:function(){return"/"+this.community_slug()+"/invite"},percentage_penetration_px:function(){return Math.min(152,this.activity.community_users.all/this.activity.households*152)},percent_penetration:function(){return Math.min(100,this.activity.community_users.all/this.activity.households*100)},community_slug:function(){return CommonPlace.account.isAuth()?CommonPlace.account.get("community_slug"):CommonPlace.community.get("slug")}})})).call(this),function(){CommonPlace.shared.HeaderLogin=CommonPlace.View.extend({template:"shared.new_header.header-login",id:"user_sign_in",tagName:"ul",events:{"click #login":"toggleLogin","click button[name=signin]":"login","click signin_button":"login","submit form":"login"},afterRender:function(){return this.$("#sign_in").hide(),this.$("input[placeholder]").placeholder()},toggleLogin:function(a){return a&&a.preventDefault(),this.$("#sign_in").toggle()},create_error:function(a){return"<li class='error'>"+a+"</li>"},login:function(a){var b,c,d;a&&a.preventDefault(),this.$(".notice").html(""),this.$(".error").removeClass("error"),b=this.$("input[name=email]").val();if(!b){this.$("#errors").text("Please enter an e-mail address"),this.$("input[name=email]").addClass("error");return}d=this.$("input[name=password][type=password]").val();if(!d){this.$("#errors").text("Please enter a password"),this.$("input[name=password][type=password]").addClass("error");return}return c=this.$("#errors"),$.postJSON({url:"/api/sessions",data:{email:b,password:d},success:function(){return window.location="/users/sign_in"},error:function(){return c.text("Your username or password is incorrect"),c.addClass("error")}})}})}.call(this),function(){CommonPlace.shared.HeaderNav=CommonPlace.View.extend({template:"shared.new_header.header-nav",className:"nav",unreadMessageCount:0,events:{"click .feed-link":"goToFeed","click .create-feed-link":"showFeedCreationForm"},initialize:function(){var a;return this.updateUnreadMessages(),a=this,CommonPlace.account.on("sync",function(){return a.updateUnreadMessages(),a.updateUnreadMessagesBadge(),a.render()})},goToFeed:function(a){var b,c;return a&&a.preventDefault(),c=CommonPlace.community.get("slug"),b=a.currentTarget.id,app.showFeedPage(c,b)},slug:function(){return CommonPlace.account.isAuth()?CommonPlace.account.get("community_slug"):CommonPlace.community.get("slug")},invite_url:function(){return"/"+this.slug()+"/invite"},inbox_url:function(){return"/"+this.slug()+"/inbox"},avatar_url:function(){return CommonPlace.account.get("avatar_url")},account_url:function(){return"/"+this.slug()+"/account"},user_url:function(){return"/"+this.slug()+"/show/users/"+CommonPlace.account.get("id")},faq_url:function(){return"/"+this.slug()+"/faq"},short_name:function(){return CommonPlace.account.get("short_name")},neighbor_discount_url:function(){},privacy_url:function(){return"/"+this.slug()+"/privacy"},feeds:function(){return CommonPlace.account.get("feeds")},activityIsEnabled:function(){return this.isActive("CPCreditsHeaderView")},unreadMessages:function(){return this.unreadMessageCount},updateUnreadMessages:function(){return this.unreadMessageCount=CommonPlace.account.get("unread")},hasUnreadMessages:function(){return this.unreadMessages()!==0},clearUnreadMessages:function(){return this.unreadMessageCount=0,this.updateUnreadMessagesBadge()},updateUnreadMessagesBadge:function(){return this.hasUnreadMessages()?this.$(".account").badger(""+this.unreadMessages()):this.$(".account").badger("")}})}.call(this),function(){CommonPlace.shared.HeaderSearch=CommonPlace.View.extend({template:"shared.new_header.header-search",className:"header_search",events:{"keyup #search-header":"search"},afterRender:function(){return this.$("input[placeholder], textarea[placeholder]").placeholder()},search:function(a){return this.query=this.$("#search-header").val(),this.eventAggregator.query=this.query,this.eventAggregator.trigger("searchBox:submit",this.query)}})}.call(this),function(){CommonPlace.shared.HeaderWrongTown=CommonPlace.View.extend({template:"shared.new_header.header-wrong-town",id:"choose_town_container",className:"choose_town_container",tagName:"ul",events:{"click #wrong_town":"toggleTown"},afterRender:function(){var a;return this.$("#choose_town").hide(),this.$("input[placeholder]").placeholder(),a="/api/communities/marquette/comm_completions",$.getJSON(a,_.bind(function(a){var b,c,d,e;if(a){e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(this.$("#town_list").append("<li><a href='/"+b.slug+"'>"+b.name+", "+b.state+"</a></li>"));return e}},this))},toggleTown:function(a){return a&&a.preventDefault(),this.$("#choose_town").toggle()},create_error:function(a){return"<li class='error'>"+a+"</li>"}})}.call(this),function(){CommonPlace.shared.Neighbors=CommonPlace.View.extend({template:"shared.sidebar.neighbors",events:{"click .neighbor_link":"clickNeighbor"},initialize:function(){return CommonPlace.community.featuredUsers.fetch({success:_.bind(function(a){return this.neighbors=a},this)}),this.nextPageTrigger(),this.page=0,this.eventAggregator.bind("loadNeighbors:scroll",this.nextPageThrottled)},nextPageTrigger:function(){var a;return a=this,this.nextPageThrottled=_.once(function(){return a.nextPage()})},nextPage:function(){if(this.neighbors.length<25)return;return this.page++,this.neighbors.fetch({data:{page:this.page},success:_.bind(function(){return this.showNeighbors(this.neighbors),this.nextPageTrigger(),this.eventAggregator.bind("loadNeighbors:scroll",this.nextPageThrottled)},this),error:_.bind(function(){return this.nextPageTrigger()},this)})},afterRender:function(){return this.neighbors?this.showNeighbors(this.neighbors):CommonPlace.community.featuredUsers.fetch({success:_.bind(function(a){return this.showNeighbors(a),this.neighbors=a},this)})},showNeighbors:function(a){var b=this;return a.each(function(a){var c,d;return d=a.toJSON(),d.about!==null&&d.about.trim(),Modernizr.history?d.url="/"+CommonPlace.community.get("slug")+"/show"+d.url:d.url=CommonPlace.community.get("slug")+"/show"+d.url,c=b.renderTemplate("shared.sidebar.neighbor",d),b.$(".list").append(c)})},clickNeighbor:function(a){a&&a.preventDefault(),$(".current").removeClass("current"),$(a.currentTarget).parent().addClass("current");if(typeof _kmq!="undefined"&&_kmq!==null)return _kmq.push(["record","Clicked Directory Neighbor",{Neighbor:a.currentTarget.innerText}])}})}.call(this),function(){CommonPlace.shared.Sidebar=CommonPlace.View.extend({template:"shared.sidebar",id:"sidebar",initialize:function(a){return this.nav=a.nav,this.directory=a.directory,this.options=a},afterRender:function(){var a;return a=this,this.nav.render(),this.$("#your-town").replaceWith(this.nav.el),this.directory.render(),this.$("#directory").replaceWith(this.directory.el)}})}.call(this),function(){CommonPlace.shared.YourTown=CommonPlace.View.extend({template:"shared.sidebar.your-town",id:"your-town",events:{"click a":"loadWire"},loadWire:function(a){var b;return a&&a.preventDefault(),this.isGuest()?this.showRegistration():(b=this.$(a.currentTarget).attr("id"),app.communityWire(CommonPlace.community.get("slug"),b))}})}.call(this),function(){this.Templates||(this.Templates={}),this.Templates["account_page/delete-account-form"]='<div class="form-container modal-border pie-element">\n  <h1>Delete Your Account?</h1>\n  <span class="divider"></span>\n  <p>If you delete your account everything will be removed, including your posts and replies. If you\'re absolutely sure you want to remove your account, press the following button.</p>\n  <div class="controls wide">\n    <button class="delete pie-element">Fully remove my account</button>\n    <a class="cancel" href="#">Cancel</a>\n    <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n  </div>\n</div>\n<div class="close">x</div>\n',this.Templates["account_page.delete-account-form"]='<div class="form-container modal-border pie-element">\n  <h1>Delete Your Account?</h1>\n  <span class="divider"></span>\n  <p>If you delete your account everything will be removed, including your posts and replies. If you\'re absolutely sure you want to remove your account, press the following button.</p>\n  <div class="controls wide">\n    <button class="delete pie-element">Fully remove my account</button>\n    <a class="cancel" href="#">Cancel</a>\n    <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n  </div>\n</div>\n<div class="close">x</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["account_page/main"]='<div id="account-edit">\n  <form>\n\n    <div class="error"></div>\n    <div class="success">Saved!</div>\n\n    <ul class="settings">\n      <li>\n        <div class="avatar">\n          <img src="{{avatarUrl}}" width="150">\n          <div class="avatar-controls">\n           <a class="upload">Change</a\n           ><a class="crop">Crop</a\n           ><a class="delete">Delete</a>\n          </div>\n\n        </div>\n      </li>\n\n      <li>\n        <label>Neighborhood Posts:</label>\n        <ul class="get-posts">\n          <li><label>\n            <input type="radio" name="get-posts" value="Live"></input>\n            Receive all posts by email\n          </label></li>\n          <li><label>\n            <input type="radio" name="get-posts" value="Three"></input>\n            Receive three posts by email per day\n          </label></li>\n          <li><label>\n            <input type="radio" name="get-posts" value="Daily"></input>\n            Only receive posts in the daily bulletin\n          </label></li>\n          <li><label>\n            <input type="radio" name="get-posts" value="Never"></input>\n            Receive no neighborhood posts\n          </label></li>\n        </ul>\n      </li>\n\n      <li>\n        <a class="delete-account"><div>Delete my account</div></a>\n      </li>\n    </ul>\n\n    <div class="profile">\n      <h1>Update your profile</h1>\n\n      <label for="full_name">Full Name:</label>\n      <input type="text" name="full_name" value="{{fullName}}" class="normal">\n\n      <label for="about">Tell your neighbors a bit about yourself:</label>\n      <textarea name="about" rows="3" class="about">{{about}}</textarea>\n\n      <label for="email">Email Address:</label>\n      <input type="email" name="email" value="{{email}}" class="normal">\n\n      <div><label for="interests">Interests</label>\n      <select name="interests" class="list" multiple="true" data-placeholder="Select some interests">\n        {{#interests}}\n          <option value="{{.}}">{{.}}</option>\n        {{/interests}}\n      </select>\n\n      <div><label for="skills">Skills</label>\n      <select name="skills" class="list" multiple="true" data-placeholder="Select some skills">\n        {{#skills}}\n          <option value="{{.}}">{{.}}</option>\n        {{/skills}}\n      </select>\n\n      <div><label for="goods">Goods</label>\n      <select name="goods" class="list" multiple="true" data-placeholder="Select some goods">\n        {{#goods}}\n          <option value="{{.}}">{{.}}</option>\n        {{/goods}}\n      </select>\n\n      <label for="password" class="show-password">Change your password:</label>\n      <input type="password" name="password" class="password normal">\n      <label for="password-redundant">Confirm your password:</label>\n      <input type="password" name="password-redundant" class="normal">\n\n      <div class="controls">\n        <button>Update Profile</button>\n      </div>\n      </div>\n\n  </form>\n</div>\n'
,this.Templates["account_page.main"]='<div id="account-edit">\n  <form>\n\n    <div class="error"></div>\n    <div class="success">Saved!</div>\n\n    <ul class="settings">\n      <li>\n        <div class="avatar">\n          <img src="{{avatarUrl}}" width="150">\n          <div class="avatar-controls">\n           <a class="upload">Change</a\n           ><a class="crop">Crop</a\n           ><a class="delete">Delete</a>\n          </div>\n\n        </div>\n      </li>\n\n      <li>\n        <label>Neighborhood Posts:</label>\n        <ul class="get-posts">\n          <li><label>\n            <input type="radio" name="get-posts" value="Live"></input>\n            Receive all posts by email\n          </label></li>\n          <li><label>\n            <input type="radio" name="get-posts" value="Three"></input>\n            Receive three posts by email per day\n          </label></li>\n          <li><label>\n            <input type="radio" name="get-posts" value="Daily"></input>\n            Only receive posts in the daily bulletin\n          </label></li>\n          <li><label>\n            <input type="radio" name="get-posts" value="Never"></input>\n            Receive no neighborhood posts\n          </label></li>\n        </ul>\n      </li>\n\n      <li>\n        <a class="delete-account"><div>Delete my account</div></a>\n      </li>\n    </ul>\n\n    <div class="profile">\n      <h1>Update your profile</h1>\n\n      <label for="full_name">Full Name:</label>\n      <input type="text" name="full_name" value="{{fullName}}" class="normal">\n\n      <label for="about">Tell your neighbors a bit about yourself:</label>\n      <textarea name="about" rows="3" class="about">{{about}}</textarea>\n\n      <label for="email">Email Address:</label>\n      <input type="email" name="email" value="{{email}}" class="normal">\n\n      <div><label for="interests">Interests</label>\n      <select name="interests" class="list" multiple="true" data-placeholder="Select some interests">\n        {{#interests}}\n          <option value="{{.}}">{{.}}</option>\n        {{/interests}}\n      </select>\n\n      <div><label for="skills">Skills</label>\n      <select name="skills" class="list" multiple="true" data-placeholder="Select some skills">\n        {{#skills}}\n          <option value="{{.}}">{{.}}</option>\n        {{/skills}}\n      </select>\n\n      <div><label for="goods">Goods</label>\n      <select name="goods" class="list" multiple="true" data-placeholder="Select some goods">\n        {{#goods}}\n          <option value="{{.}}">{{.}}</option>\n        {{/goods}}\n      </select>\n\n      <label for="password" class="show-password">Change your password:</label>\n      <input type="password" name="password" class="password normal">\n      <label for="password-redundant">Confirm your password:</label>\n      <input type="password" name="password-redundant" class="normal">\n\n      <div class="controls">\n        <button>Update Profile</button>\n      </div>\n      </div>\n\n  </form>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["art_project/main"]='<div class="plane_header">\n  <h2>Participate in the {{community_name}} CommonPlace</h2>\n  <h1>Annual Community Awards</h1>\n</div>\n<div class="banner">\n  <p>The {{community_name}} CommonPlace is hosting two town awards to recognize the best of the {{community_name}} community.</p>\n</div>\n<div class="how">\n  <h3 class="how-h3">Community Art Contest</h3>\n  <div class="left">\n    <dl>\n      <dt>Submit.</dt>\n      <dd>Submit a video or image of original artwork related to the town of {{community_name}}.  It can be a video, a photograph, a recorded song, a painting, a poem you read... anything that has to do with the public life of your hometown. You must be under 21 to submit. Submissions will closed May 25th. Fill out the form to the right to enter.</dd>\n      <dt>We\'ll Publicize.</dt>\n      <dd>We will publicize entrants on a rolling basis. When you send them in, we will send them to the town across the {{community_name}} CommonPlace network. If you have not signed up for the {{community_name}} CommonPlace yet, you can do so <a href="/{{community_name}}">here</a>.</dd>\n      <dt>Get thanks.</dt>\n      <dd>Weâll award the top prizes to the civic artwork with the most commnets or âthanksâ on CommonPlace. $250 to the first place winner and $50 to the second and third place winners.</dd>\n      <dt>Be seen.</dt>\n      <dd>The selected community heroes (and all nominees!) will be recognized in a press release and other publicity.</dd>\n    </dl>\n    \n  </div>\n  <div class="right">\n    <h4>Finished?</h4>\n    <h3>Submit Your Artwork!</h3>\n    <form>\n      <input type="text" name="name" id="name" placeholder="Enter your first and last name">\n    \n      <input type="text" name="email" id="email" placeholder="Enter a parents email">\n    \n      <input type="text" name="video" id="video" placeholder="Copy and paste YouTube video URL">\n      <input type="text" class="browsei" name="photo" id="photo" placeholder="commonplace-art-project.png">\n      <div class="upload">Upload</div>\n      <p class="help">File must be in JPG or PNG format and be less than 500kb</p>\n      <div class="submit">Submit</div>\n    </form>\n  </div>\n</div>\n<div class="nominate">\n\n  <h3 class="how-h3">Community Heroes Award</h3>\n  <div class="left">\n    <dl>\n      <dt>Nominate a neighbor.</dt>\n      <dd>The {{community_name}} CommonPlace wants to recognize some of {{community_name}}âs best local leaders. Take a moment to nominate anyone in your community -- from a great neighbor, to a wonderful teacher, to a vital organization leader.</dd>\n      <dt>We\'ll Publicize.</dt>\n      <dd>We will be send information out about the civic heroes you nominate to the {{community_name}} CommonPlace network. If you have not signed up for the {{community_name}} CommonPlace yet, you can do it here.</dd>\n      <dt>Honor Our Community Heroes.</dt>\n      <dd>The selected community heroes (and all nominees!) will be recognized at a town Gala in early April.</dd>\n    </dl>  \n  </div>\n  <div class="right">\n    <h4>Know a community hero?</h4>\n    <h3>Nominate them!\n    <form>\n      <input type="text" name="nom-name" id="nom-name" placeholder="First and last name of nominee">\n      <input type="text" name="nom-name" id="nom-name" placeholder="Enter email of nominee">\n      <input type="text" name="nom-name" id="nom-name" placeholder="Enter your email">\n      <textarea type="text" name="nom-name" id="nom-name" placeholder="Tell us why you\'re nomating this person"></textarea>\n      <div class="submit">Continue</div>\n    </form>\n  </div>\n</div>\n<div class="about">\n<h3>About the {{community_name}} CommonPlace</h3>\n<p>OurCommonPlace is a national organization dedicated to community revitalization. </p>\n<p>In November, we launched The {{community_name}} CommonPlace, a community web platform designed help neighbors and local leaders share and connect. \nWe will be helping to host events and run contests recognizing the best of {{community_name}} community. </p>\n</div>\n<div class="register">Sign Up</div>\n<div class="about">\n<h3>In Order to Form a More Perfect Community</h3>\n<p>Because community is the heart of Raleigh, and because our neighborhoods are made up of amazing and inspiring neighbors who love their families and want to help each other, it is time we hammer the Internet into a tool that unites rather than divides our communities.</p>\n<p>(A beautiful article about CommonPlace published in <span class="bold">The Raleigh Creative District</span>)</p>\n<div id="more"><a href="http://southwestraleigh.com/2011/06/in-order-to-form-a-more-perfect-community/">Learn More</a></div>\n</div>\n',this.Templates["art_project.main"]='<div class="plane_header">\n  <h2>Participate in the {{community_name}} CommonPlace</h2>\n  <h1>Annual Community Awards</h1>\n</div>\n<div class="banner">\n  <p>The {{community_name}} CommonPlace is hosting two town awards to recognize the best of the {{community_name}} community.</p>\n</div>\n<div class="how">\n  <h3 class="how-h3">Community Art Contest</h3>\n  <div class="left">\n    <dl>\n      <dt>Submit.</dt>\n      <dd>Submit a video or image of original artwork related to the town of {{community_name}}.  It can be a video, a photograph, a recorded song, a painting, a poem you read... anything that has to do with the public life of your hometown. You must be under 21 to submit. Submissions will closed May 25th. Fill out the form to the right to enter.</dd>\n      <dt>We\'ll Publicize.</dt>\n      <dd>We will publicize entrants on a rolling basis. When you send them in, we will send them to the town across the {{community_name}} CommonPlace network. If you have not signed up for the {{community_name}} CommonPlace yet, you can do so <a href="/{{community_name}}">here</a>.</dd>\n      <dt>Get thanks.</dt>\n      <dd>Weâll award the top prizes to the civic artwork with the most commnets or âthanksâ on CommonPlace. $250 to the first place winner and $50 to the second and third place winners.</dd>\n      <dt>Be seen.</dt>\n      <dd>The selected community heroes (and all nominees!) will be recognized in a press release and other publicity.</dd>\n    </dl>\n    \n  </div>\n  <div class="right">\n    <h4>Finished?</h4>\n    <h3>Submit Your Artwork!</h3>\n    <form>\n      <input type="text" name="name" id="name" placeholder="Enter your first and last name">\n    \n      <input type="text" name="email" id="email" placeholder="Enter a parents email">\n    \n      <input type="text" name="video" id="video" placeholder="Copy and paste YouTube video URL">\n      <input type="text" class="browsei" name="photo" id="photo" placeholder="commonplace-art-project.png">\n      <div class="upload">Upload</div>\n      <p class="help">File must be in JPG or PNG format and be less than 500kb</p>\n      <div class="submit">Submit</div>\n    </form>\n  </div>\n</div>\n<div class="nominate">\n\n  <h3 class="how-h3">Community Heroes Award</h3>\n  <div class="left">\n    <dl>\n      <dt>Nominate a neighbor.</dt>\n      <dd>The {{community_name}} CommonPlace wants to recognize some of {{community_name}}âs best local leaders. Take a moment to nominate anyone in your community -- from a great neighbor, to a wonderful teacher, to a vital organization leader.</dd>\n      <dt>We\'ll Publicize.</dt>\n      <dd>We will be send information out about the civic heroes you nominate to the {{community_name}} CommonPlace network. If you have not signed up for the {{community_name}} CommonPlace yet, you can do it here.</dd>\n      <dt>Honor Our Community Heroes.</dt>\n      <dd>The selected community heroes (and all nominees!) will be recognized at a town Gala in early April.</dd>\n    </dl>  \n  </div>\n  <div class="right">\n    <h4>Know a community hero?</h4>\n    <h3>Nominate them!\n    <form>\n      <input type="text" name="nom-name" id="nom-name" placeholder="First and last name of nominee">\n      <input type="text" name="nom-name" id="nom-name" placeholder="Enter email of nominee">\n      <input type="text" name="nom-name" id="nom-name" placeholder="Enter your email">\n      <textarea type="text" name="nom-name" id="nom-name" placeholder="Tell us why you\'re nomating this person"></textarea>\n      <div class="submit">Continue</div>\n    </form>\n  </div>\n</div>\n<div class="about">\n<h3>About the {{community_name}} CommonPlace</h3>\n<p>OurCommonPlace is a national organization dedicated to community revitalization. </p>\n<p>In November, we launched The {{community_name}} CommonPlace, a community web platform designed help neighbors and local leaders share and connect. \nWe will be helping to host events and run contests recognizing the best of {{community_name}} community. </p>\n</div>\n<div class="register">Sign Up</div>\n<div class="about">\n<h3>In Order to Form a More Perfect Community</h3>\n<p>Because community is the heart of Raleigh, and because our neighborhoods are made up of amazing and inspiring neighbors who love their families and want to help each other, it is time we hammer the Internet into a tool that unites rather than divides our communities.</p>\n<p>(A beautiful article about CommonPlace published in <span class="bold">The Raleigh Creative District</span>)</p>\n<div id="more"><a href="http://southwestraleigh.com/2011/06/in-order-to-form-a-more-perfect-community/">Learn More</a></div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["discount_page/main"]='<div id="planewrapper">\n  <div id="plane">\n    <h1>The CommonPlace</h1>\n    <h2>Good Neighbor Discount</h2>\n  </div>\n</div>\n\n<div id="gbox">\n  <h1>Use at these participating businesses:</h1>\n</div>\n\n<div id="businessinformation">\n  <ul id="infolist1">\n    {{#businesses}}\n      <li>{{.}}</li>\n    {{/businesses}}\n  </ul>\n</div>\n\n<div id="footerinfo">\n  <h3>{{community_name}} businesses are offering members of CommonPlace a\n    "Good Neighbor Discount." Ask at the register for details.</h3>\n</div>\n',this.Templates["discount_page.main"]='<div id="planewrapper">\n  <div id="plane">\n    <h1>The CommonPlace</h1>\n    <h2>Good Neighbor Discount</h2>\n  </div>\n</div>\n\n<div id="gbox">\n  <h1>Use at these participating businesses:</h1>\n</div>\n\n<div id="businessinformation">\n  <ul id="infolist1">\n    {{#businesses}}\n      <li>{{.}}</li>\n    {{/businesses}}\n  </ul>\n</div>\n\n<div id="footerinfo">\n  <h3>{{community_name}} businesses are offering members of CommonPlace a\n    "Good Neighbor Discount." Ask at the register for details.</h3>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["faq_page/main"]='\n<div id="sections_picker">\n  <h2>Quick links</h2>\n  <ul>\n    <li><a href="#content">Top of the page</a></li>\n    <li><a href="#1">General</a></li>\n    <li><a href="#2">Platform Functionality</a></li>\n    <li><a href="#3">How do I... ?</a></li>\n    <li><a href="#4">Ask your Question</a></li>\n</div>\n<div id="content">\n  <h2>Frequently Asked Questions</h2>\n  <p>Click on the questions below to see the answer, if you don\'t see your question submit it in the form below</p>\n  <ul>\n    <li>\n      <a href="#1">General</a>\n      <ul>\n        <li><a href="#1_1">What is CommonPlace?</a></li>\n        <li><a href="#1_2">What can I use CommonPlace for?</a></li>\n        <li><a href="#1_3">What happens if I sign up for {{community_name}}\'s CommonPlace?</a></li>\n        <li><a href="#1_4">Who is behind CommonPlace?</a></li>\n        <li><a href="#1_5">Why was CommonPlace created?</a></li>\n      </ul>\n    </li>\n    <li>\n      <a href="#2">Platform Functionality</a>\n      <ul>\n        <li><a href="#2_1">What\'s the difference between a neighborhood post and an announcement?</a></li>\n         <li><a href="#2_2">What\'s a Community Feed?</a></li>\n         <li><a href="#2_3">What is my \'neighborhood\' on CommonPlace?</a></li>\n         <li><a href="#2_4">How do email notifications work on CommonPlace?</a></li>\n         <li><a href="#2_5">How do I change my email notification settings?</a></li>\n         <li><a href="#2_6">What about privacy?</a></li>\n         <li><a href="#2_7">Why do I have to input my full name when I register?</a></li>\n         <li><a href="#2_8">Why do I have to input my street address when I register?</a></li>\n      </ul>\n    </li>\n    <li>\n      <a href="#3">How do I... ?</a>\n      <ul>\n        <li><a href="#3_1">How do I invite one of my neighbors to {{community_name}}\'s CommonPlace?</a></li>\n        <li><a href="#3_2">How do I post to CommonPlace?</a></li>\n        <li><a href="#3_3">How do I create a community feed?</a></li>\n        <li><a href="#3_4">How do I report a bug?</a></li>\n        <li><a href="#3_5">How do I help out with the CommonPlace movement in {{community_name}}?</a></li>\n      </ul>\n    </li>\n    <li>\n      <a href="#4">Ask your question</a>\n      <ul>\n        <li><a href="#4">Question form</a><li>\n      </ul>\n    </li>\n  </ul>\n\n  <div id="1">\n    <h2 class="section_head">General</h2>\n    <div id="1_1">\n      <h3 class="item_head">What is CommonPlace?</h3>\n      <div class="answer">\n        <p>CommonPlace is a web platform for local community engagement.  It is designed to make it easier for you to connect and share information with your neighbors and local leaders.</p>\n      </div>\n      </div>\n      <div id="1_2">\n        <h3 class="item_head">What can I use CommonPlace for?</h3>\n        <div class="answer"\n          <p>CommonPlace is like an online bulletin board for {{community_name}} that allows you to share events, needs, offers, questions and announcements with the people who live right around you.  You can use {{community_name}}\'s CommonPlace to&#58; notify your neighbors about a lost cat, or to ask to borrow a ladder&#59; use it to keep up with local events happening in town, or to publicize your own; use it to get announcements from the city government and local organizations, or to start up you own group in the community.</p>\n        </div>\n      </div>\n      <div id="1_3">\n        <h3 class="item_head">What happens if I sign up for {{community_name}}\'s CommonPlace?</h3>\n        <div class="answer">\n          <p>If you sign up, you can start receiving important community announcements from your neighbors and local leaders here in {{community_name}}.  You will easily stay in touch with what\'s happening in {{community_name}}, as well be able to get the word out to everyone in town about any event, need, offer, question or announcement that you want to share with your neighbors.</p>\n        </div>\n      </div>\n      <div id="1_4">\n        <h3 class="item_head">Who is behind CommonPlace?</h3>\n        <div class="answer">\n          <p>The lead CommonPlace organizer for {{community_name}} is {{organizer}}, who is helping to make the {{community_name}} community more civic and more connected by organizing neighbors onto the {{community_name}} CommonPlace platform.  If you have any questions or concerns about the platform, contact {{organizer}} at {{organizer_email}}</p>\n          <p>CommonPlace America - the umbrella organization for CommonPlaces in towns and cities across the country - was founded in 2009 by Harvard students Peter Davis and Max Novendstern.  They began the CommonPlace project with the question&#58; how can the internet be utilized to build up civic life in America?</p>\n        </div>\n      </div>\n      <div id="1_5">\n        <h3 class="item_head">Why was CommonPlace created?</h3>\n        <div class="answer">\n          <p>CommonPlace was created with the mission of using the internet to help revitalize local community in America.  We believe that web tools need not only connect us to \'friends\' around the world - rather they can be used to connect us to the people who live right around us.  We aim to create a new standard for community information-sharing infrastructure that make neighborhoods better places to live in&#58; more connected, more civic and more empowered.</p>\n        </div>\n      </div>\n  </div>\n  <div id="2">\n    <h2 class="section_head">Platform Functionality</h2>\n    <div id="2_1">\n      <h3 class="item_head">What\'s the difference between a neighborhood post and an announcement?</h3>\n      <div class="answer">\n          <p>A neighborhood post is meant to be a neighborly post from an individual to their neighbors, like requests ("Can we borrow a ladder?"), offers ("I\'m giving away maternity clothes"), questions ("Anyone know a good electrician?"), and personal, non-commercial updates ("We just had a baby!").</p>\n          <p>A community announcement is the place for publicity to the whole town and commercial announcements.  If you want to announce that you do tax preparation or are an SAT tutor, post it as a community announcement.  If you are seeking donations for your cause or volunteers for your fair, post it as a community announcement.  If you are an organization, city service or business that will posting many community announcements, consider starting a "Community Feed" so that you can post as the organization or business, and so that people can subscribe to your announcements.</p>\n          <p>In short, neighborhood posts are for neighbor-to-neighbor requests, offers, questions and updates while community announcements are for town-wide publicity and commercial use.</p>\n      </div>\n    </div>\n      <div id="2_2">\n        <h3 class="item_head">What\'s a Community Feed?</h3>\n        <div class="answer">\n          <p>Any organization, business, city service or cause can create a "Community Feed" on CommonPlace.  This allows you to send out announcements and events to the community from your organization.  For example, if you are the President of the PTA, you could create a PTA "Community Feed" and then send out announcements and events which would show up as coming from the PTA, as opposed to from an individual.  In addition, people can subscribe to your community feed and thus receive your announcements and events by email.</p>\n        </div>\n      </div>\n      <div id="2_3">\n        <h3 class="item_head">What is my \'neighborhood\' on CommonPlace?</h3>\n        <div class="answer">\n          <p>Each town on CommonPlace is split into neighborhoods of roughly 700 residences each.  When you write a neighborhood post, it is emailed immediately to those who are in your neighborhood.  Everyone else in town will receive that post at the end of the day in a daily digest, under "Posts Around Town."  For specific information about your neighborhood\'s borders, email your community CommonPlace organizer at {{organizer_email}}.</p>\n        </div>\n      </div>\n      <div id="2_4">\n        <h3 class="item_head">How do email notifications work on CommonPlace?</h3>\n        <div class="answer">\n          <p>Everything on CommonPlace - events, announcements and neighborhood posts - can be sent out in live emails (as they are posted), compiled into daily digest and/or compiled into a weekly bulletin.</p>\n          <p>The community weekly bulletin is a compilation of all announcements posted to CommonPlace that week as well as the next two weeks of upcoming events.</p>\n          <p>The daily digest is an email tailored directly to you, that includes posts from around town, as well as announcements and events from the community feeds to which you have subscribed.</p>\n          <p>All posts from your neighborhood are, by default, emailed to you live.  You can also select to receive announcements and events from certain community feeds immediately as they are posted.</p>\n          <p>If you ever want to change your email notification settings, feel free to go to the <a href="/{{community_slug}}/account" data-remote>settings page</a>.</p>\n        </div>\n      </div>\n      <div id="2_5">\n        <h3 class="item_head">How do I change my email notification settings?</h3>\n        <div class="answer">\n          <p>If you post announcements and events to CommonPlace, they not only are immediately posted to CommonPlace for everyone in town to see - they are also emailed to everyone every week in the community weekly bulletin.  If you have an organization, city service, business or cause in {{community_name}}, consider starting a Community Feed, which will allow you to send out announcements and events from your feed name.</p>\n        </div>\n      </div>\n      <div id="2_6">\n        <h3 class="item_head">What about privacy?</h3>\n        <div class="answer">\n          <p>CommonPlace is a closed network, meaning nothing you ever post or share on CommonPlace can be Googled-- one has to register and log in to see the information. </p>\n          <p>CommonPlace is all about sharing public, community information -- only share on CommonPlace what you would want your neighbors to see.</p>\n        </div>\n      </div>\n      <div id="2_7">\n        <h3 class="item_head">Why do I have to input my full name when I register?</h3>\n        <div class="answer">\n          <p>When researching internet platforms while building CommonPlace, we noted that internet anonymity quickly leads to vandalism and unproductive web communication.  By associating posts with names, it ensures healthy, productive and neighborly interaction on CommonPlace.  Plus, we have already had cases of people meeting in person and saying, "Oh, wow, you must be Janet - I saw your post on CommonPlace!  Great to meet you!"</p>\n        </div>\n      </div>\n      <div id="2_8">\n        <h3 class="item_head">Why do I have to input my street address when I register?</h3>\n        <div class="answer">\n          <p>This allows us to place you into the right neighborhood and to ensure you live in the correct CommonPlace town.</p>\n        </div>\n      </div>\n\n  </div>\n  <div id="3">\n      <h2 class="section_head">How do I... ?</h2>\n      <div id="3_1">\n        <h3 class="item_head">How do I invite one of my neighbors to {{community_name}}\'s CommonPlace?</h3>\n        <div class="answer">\n          <p>Fill out our <a href="/{{community_slug}}/invite" data-remote="true">invite form</a> - thanks for being a good neighbor!</p>\n        </div>\n      </div>\n      <div id="3_2">\n        <h3 class="item_head">How do I post to CommonPlace?</h3>\n        <div class="answer">\n          <p>Everything involving posting to CommonPlace is in the red box in the upper left hand corner of the mainpage, after you log in.</p>\n        </div>\n      </div>\n      <div id="3_3">\n        <h3 class="item_head">How do I create a community feed?</h3>\n        <div class="answer">\n          <p>Create a community feed <a href="/feed_registrations/new">here</a>.</p>\n        </div>\n      </div>\n      <div id="3_4">\n        <h3 class="item_head">How do I report a bug?</h3>\n        <div class="answer">\n          <p>Fill out the form below to report a bug.  Thanks for being on the look out!</p>\n        </div>\n      </div>\n      <div id="3_5">\n        <h3 class="item_head">How do I help out with the CommonPlace movement in {{community_name}}?</h3>\n        <div class="answer">\n          <p>We are always looking for volunteers who believe in our mission of bringing local communities closer together.  If you\'re interested, email {{community_name}}\'s lead CommonPlace organizer, {{organizer}}, at {{organizer_email}}.</p>\n        </div>\n      </div>\n  </div>\n  <div id="4">\n    <h2 class="section_head">Question form</h2>\n    <form class="ask-question">\n      <p class="confirm">Question sent</p>\n\n      <label for="email">Your Email Address:</label>\n      <br>\n      <input type="text" name="email">\n      <br>\n      <label for="name">Your Name:</label>\n      <br>\n      <input type="text" name="name">\n      <br>\n      <label for="message">Your Message:</label>\n      <br>\n      <textarea name="message"></textarea>\n      <br>\n      <input type="submit" value="Submit">\n\n    </form>\n  </div>\n<div class="cleared"></div>\n</div>\n',this.Templates["faq_page.main"]='\n<div id="sections_picker">\n  <h2>Quick links</h2>\n  <ul>\n    <li><a href="#content">Top of the page</a></li>\n    <li><a href="#1">General</a></li>\n    <li><a href="#2">Platform Functionality</a></li>\n    <li><a href="#3">How do I... ?</a></li>\n    <li><a href="#4">Ask your Question</a></li>\n</div>\n<div id="content">\n  <h2>Frequently Asked Questions</h2>\n  <p>Click on the questions below to see the answer, if you don\'t see your question submit it in the form below</p>\n  <ul>\n    <li>\n      <a href="#1">General</a>\n      <ul>\n        <li><a href="#1_1">What is CommonPlace?</a></li>\n        <li><a href="#1_2">What can I use CommonPlace for?</a></li>\n        <li><a href="#1_3">What happens if I sign up for {{community_name}}\'s CommonPlace?</a></li>\n        <li><a href="#1_4">Who is behind CommonPlace?</a></li>\n        <li><a href="#1_5">Why was CommonPlace created?</a></li>\n      </ul>\n    </li>\n    <li>\n      <a href="#2">Platform Functionality</a>\n      <ul>\n        <li><a href="#2_1">What\'s the difference between a neighborhood post and an announcement?</a></li>\n         <li><a href="#2_2">What\'s a Community Feed?</a></li>\n         <li><a href="#2_3">What is my \'neighborhood\' on CommonPlace?</a></li>\n         <li><a href="#2_4">How do email notifications work on CommonPlace?</a></li>\n         <li><a href="#2_5">How do I change my email notification settings?</a></li>\n         <li><a href="#2_6">What about privacy?</a></li>\n         <li><a href="#2_7">Why do I have to input my full name when I register?</a></li>\n         <li><a href="#2_8">Why do I have to input my street address when I register?</a></li>\n      </ul>\n    </li>\n    <li>\n      <a href="#3">How do I... ?</a>\n      <ul>\n        <li><a href="#3_1">How do I invite one of my neighbors to {{community_name}}\'s CommonPlace?</a></li>\n        <li><a href="#3_2">How do I post to CommonPlace?</a></li>\n        <li><a href="#3_3">How do I create a community feed?</a></li>\n        <li><a href="#3_4">How do I report a bug?</a></li>\n        <li><a href="#3_5">How do I help out with the CommonPlace movement in {{community_name}}?</a></li>\n      </ul>\n    </li>\n    <li>\n      <a href="#4">Ask your question</a>\n      <ul>\n        <li><a href="#4">Question form</a><li>\n      </ul>\n    </li>\n  </ul>\n\n  <div id="1">\n    <h2 class="section_head">General</h2>\n    <div id="1_1">\n      <h3 class="item_head">What is CommonPlace?</h3>\n      <div class="answer">\n        <p>CommonPlace is a web platform for local community engagement.  It is designed to make it easier for you to connect and share information with your neighbors and local leaders.</p>\n      </div>\n      </div>\n      <div id="1_2">\n        <h3 class="item_head">What can I use CommonPlace for?</h3>\n        <div class="answer"\n          <p>CommonPlace is like an online bulletin board for {{community_name}} that allows you to share events, needs, offers, questions and announcements with the people who live right around you.  You can use {{community_name}}\'s CommonPlace to&#58; notify your neighbors about a lost cat, or to ask to borrow a ladder&#59; use it to keep up with local events happening in town, or to publicize your own; use it to get announcements from the city government and local organizations, or to start up you own group in the community.</p>\n        </div>\n      </div>\n      <div id="1_3">\n        <h3 class="item_head">What happens if I sign up for {{community_name}}\'s CommonPlace?</h3>\n        <div class="answer">\n          <p>If you sign up, you can start receiving important community announcements from your neighbors and local leaders here in {{community_name}}.  You will easily stay in touch with what\'s happening in {{community_name}}, as well be able to get the word out to everyone in town about any event, need, offer, question or announcement that you want to share with your neighbors.</p>\n        </div>\n      </div>\n      <div id="1_4">\n        <h3 class="item_head">Who is behind CommonPlace?</h3>\n        <div class="answer">\n          <p>The lead CommonPlace organizer for {{community_name}} is {{organizer}}, who is helping to make the {{community_name}} community more civic and more connected by organizing neighbors onto the {{community_name}} CommonPlace platform.  If you have any questions or concerns about the platform, contact {{organizer}} at {{organizer_email}}</p>\n          <p>CommonPlace America - the umbrella organization for CommonPlaces in towns and cities across the country - was founded in 2009 by Harvard students Peter Davis and Max Novendstern.  They began the CommonPlace project with the question&#58; how can the internet be utilized to build up civic life in America?</p>\n        </div>\n      </div>\n      <div id="1_5">\n        <h3 class="item_head">Why was CommonPlace created?</h3>\n        <div class="answer">\n          <p>CommonPlace was created with the mission of using the internet to help revitalize local community in America.  We believe that web tools need not only connect us to \'friends\' around the world - rather they can be used to connect us to the people who live right around us.  We aim to create a new standard for community information-sharing infrastructure that make neighborhoods better places to live in&#58; more connected, more civic and more empowered.</p>\n        </div>\n      </div>\n  </div>\n  <div id="2">\n    <h2 class="section_head">Platform Functionality</h2>\n    <div id="2_1">\n      <h3 class="item_head">What\'s the difference between a neighborhood post and an announcement?</h3>\n      <div class="answer">\n          <p>A neighborhood post is meant to be a neighborly post from an individual to their neighbors, like requests ("Can we borrow a ladder?"), offers ("I\'m giving away maternity clothes"), questions ("Anyone know a good electrician?"), and personal, non-commercial updates ("We just had a baby!").</p>\n          <p>A community announcement is the place for publicity to the whole town and commercial announcements.  If you want to announce that you do tax preparation or are an SAT tutor, post it as a community announcement.  If you are seeking donations for your cause or volunteers for your fair, post it as a community announcement.  If you are an organization, city service or business that will posting many community announcements, consider starting a "Community Feed" so that you can post as the organization or business, and so that people can subscribe to your announcements.</p>\n          <p>In short, neighborhood posts are for neighbor-to-neighbor requests, offers, questions and updates while community announcements are for town-wide publicity and commercial use.</p>\n      </div>\n    </div>\n      <div id="2_2">\n        <h3 class="item_head">What\'s a Community Feed?</h3>\n        <div class="answer">\n          <p>Any organization, business, city service or cause can create a "Community Feed" on CommonPlace.  This allows you to send out announcements and events to the community from your organization.  For example, if you are the President of the PTA, you could create a PTA "Community Feed" and then send out announcements and events which would show up as coming from the PTA, as opposed to from an individual.  In addition, people can subscribe to your community feed and thus receive your announcements and events by email.</p>\n        </div>\n      </div>\n      <div id="2_3">\n        <h3 class="item_head">What is my \'neighborhood\' on CommonPlace?</h3>\n        <div class="answer">\n          <p>Each town on CommonPlace is split into neighborhoods of roughly 700 residences each.  When you write a neighborhood post, it is emailed immediately to those who are in your neighborhood.  Everyone else in town will receive that post at the end of the day in a daily digest, under "Posts Around Town."  For specific information about your neighborhood\'s borders, email your community CommonPlace organizer at {{organizer_email}}.</p>\n        </div>\n      </div>\n      <div id="2_4">\n        <h3 class="item_head">How do email notifications work on CommonPlace?</h3>\n        <div class="answer">\n          <p>Everything on CommonPlace - events, announcements and neighborhood posts - can be sent out in live emails (as they are posted), compiled into daily digest and/or compiled into a weekly bulletin.</p>\n          <p>The community weekly bulletin is a compilation of all announcements posted to CommonPlace that week as well as the next two weeks of upcoming events.</p>\n          <p>The daily digest is an email tailored directly to you, that includes posts from around town, as well as announcements and events from the community feeds to which you have subscribed.</p>\n          <p>All posts from your neighborhood are, by default, emailed to you live.  You can also select to receive announcements and events from certain community feeds immediately as they are posted.</p>\n          <p>If you ever want to change your email notification settings, feel free to go to the <a href="/{{community_slug}}/account" data-remote>settings page</a>.</p>\n        </div>\n      </div>\n      <div id="2_5">\n        <h3 class="item_head">How do I change my email notification settings?</h3>\n        <div class="answer">\n          <p>If you post announcements and events to CommonPlace, they not only are immediately posted to CommonPlace for everyone in town to see - they are also emailed to everyone every week in the community weekly bulletin.  If you have an organization, city service, business or cause in {{community_name}}, consider starting a Community Feed, which will allow you to send out announcements and events from your feed name.</p>\n        </div>\n      </div>\n      <div id="2_6">\n        <h3 class="item_head">What about privacy?</h3>\n        <div class="answer">\n          <p>CommonPlace is a closed network, meaning nothing you ever post or share on CommonPlace can be Googled-- one has to register and log in to see the information. </p>\n          <p>CommonPlace is all about sharing public, community information -- only share on CommonPlace what you would want your neighbors to see.</p>\n        </div>\n      </div>\n      <div id="2_7">\n        <h3 class="item_head">Why do I have to input my full name when I register?</h3>\n        <div class="answer">\n          <p>When researching internet platforms while building CommonPlace, we noted that internet anonymity quickly leads to vandalism and unproductive web communication.  By associating posts with names, it ensures healthy, productive and neighborly interaction on CommonPlace.  Plus, we have already had cases of people meeting in person and saying, "Oh, wow, you must be Janet - I saw your post on CommonPlace!  Great to meet you!"</p>\n        </div>\n      </div>\n      <div id="2_8">\n        <h3 class="item_head">Why do I have to input my street address when I register?</h3>\n        <div class="answer">\n          <p>This allows us to place you into the right neighborhood and to ensure you live in the correct CommonPlace town.</p>\n        </div>\n      </div>\n\n  </div>\n  <div id="3">\n      <h2 class="section_head">How do I... ?</h2>\n      <div id="3_1">\n        <h3 class="item_head">How do I invite one of my neighbors to {{community_name}}\'s CommonPlace?</h3>\n        <div class="answer">\n          <p>Fill out our <a href="/{{community_slug}}/invite" data-remote="true">invite form</a> - thanks for being a good neighbor!</p>\n        </div>\n      </div>\n      <div id="3_2">\n        <h3 class="item_head">How do I post to CommonPlace?</h3>\n        <div class="answer">\n          <p>Everything involving posting to CommonPlace is in the red box in the upper left hand corner of the mainpage, after you log in.</p>\n        </div>\n      </div>\n      <div id="3_3">\n        <h3 class="item_head">How do I create a community feed?</h3>\n        <div class="answer">\n          <p>Create a community feed <a href="/feed_registrations/new">here</a>.</p>\n        </div>\n      </div>\n      <div id="3_4">\n        <h3 class="item_head">How do I report a bug?</h3>\n        <div class="answer">\n          <p>Fill out the form below to report a bug.  Thanks for being on the look out!</p>\n        </div>\n      </div>\n      <div id="3_5">\n        <h3 class="item_head">How do I help out with the CommonPlace movement in {{community_name}}?</h3>\n        <div class="answer">\n          <p>We are always looking for volunteers who believe in our mission of bringing local communities closer together.  If you\'re interested, email {{community_name}}\'s lead CommonPlace organizer, {{organizer}}, at {{organizer_email}}.</p>\n        </div>\n      </div>\n  </div>\n  <div id="4">\n    <h2 class="section_head">Question form</h2>\n    <form class="ask-question">\n      <p class="confirm">Question sent</p>\n\n      <label for="email">Your Email Address:</label>\n      <br>\n      <input type="text" name="email">\n      <br>\n      <label for="name">Your Name:</label>\n      <br>\n      <input type="text" name="name">\n      <br>\n      <label for="message">Your Message:</label>\n      <br>\n      <textarea name="message"></textarea>\n      <br>\n      <input type="submit" value="Submit">\n\n    </form>\n  </div>\n<div class="cleared"></div>\n</div>\n'
}(this),function(){this.Templates||(this.Templates={}),this.Templates["feed_inbox_page/main"]='{{>shared.inbox-nav}}\n\n<div id="inbox">\n  <h2>Your Feed Inbox</h2>\n\n  <div id="message-list"></div>\n</div>\n',this.Templates["feed_inbox_page.main"]='{{>shared.inbox-nav}}\n\n<div id="inbox">\n  <h2>Your Feed Inbox</h2>\n\n  <div id="message-list"></div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["feed_page/feed-about"]='<h1 class="feed-sub-header">Feed Description</h1>\n<div class="about">{{#markdown}}{{about}}{{/markdown}}</div>\n',this.Templates["feed_page.feed-about"]='<h1 class="feed-sub-header">Feed Description</h1>\n<div class="about">{{#markdown}}{{about}}{{/markdown}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["feed_page/feed-actions"]='<div id="feed-action-nav">\n  <a href="#/post-announcement" class="post-announcement {{postAnnouncementClass}}">Publicize an Announcement</a>\n  <a href="#/post-event" class="post-event {{postEventClass}}">Post an <br>Event</a>\n  <a href="#/invite-subscribers" class="invite-subscribers {{inviteSubscribersClass}}">Invite New Subscribers</a>\n</div>\n\n<div class="tab post-announcement {{postAnnouncementClass}}">\n  <img class="avatar" src="{{avatarUrl}}" width="50" height="50">\n\n  <div class="error"></div>\n\n  <form>\n    <input name="title" placeholder="Title" type="text">\n    <textarea name="body" placeholder="Body" rows="4"></textarea>\n\n    <label>Label this post?</label>\n    <ul class="post-label-selector">\n      {{#groups}}\n        <li>\n          <label>\n            <img src="{{avatar_url}}" height="25" width="25">\n            {{name}}\n            <input name="groups" value="{{id}}" type="checkbox">\n          </label>\n        </li>\n      {{/groups}}\n    </ul>\n\n    <button>Post an Announcement</button>\n  </form>\n  <div style="clear: both;"></div>\n</div>\n\n<div class="tab post-event {{postEventClass}}">\n  <img class="avatar" src="{{avatarUrl}}" width="50" height="50">\n\n  <div class="error"></div>\n\n  <form>\n\n    <input name="title" placeholder="Event name" type="text">\n\n    <textarea name="about" placeholder="Event description" rows="4"></textarea>\n\n    <input class="date" name="date" placeholder="Event date" type="text">\n\n    <fieldset class="event-times">\n\n      <label for="start" class="time">\n        <select name="start" class="time dk" id="event_create_start">\n          <option value="">Starts at</option>\n          {{#time_values}}\n            <option value="{{.}}">{{.}}</option>\n          {{/time_values}}\n        </select>\n      </label>\n      <label for="end" class="time">\n        <select name="end" class="time dk" id="event_create_end">\n          <option value="">Ends at</option>\n      {{#time_values}}\n        <option value="{{.}}">{{.}}</option>\n      {{/time_values}}\n        </select>\n      </label>\n      <div style="clear: both;"></div>\n    </fieldset>\n\n    <input name="venue" placeholder="Venue" type="text">\n\n    <input name="address" placeholder="Event address" type="text">\n\n    <label>Label this post?</label>\n    <ul class="post-label-selector">\n      {{#groups}}\n        <li>\n          <label>\n            <img src="{{avatar_url}}" height="25" width="25">\n            {{name}}\n            <input name="groups" value="{{id}}" type="checkbox">\n          </label>\n        </li>\n      {{/groups}}\n    </ul>\n\n    <button>Post your Event</button>\n\n  </form>\n\n  <div style="clear: both;"></div>\n</div>\n\n<div class="tab invite-subscribers {{inviteSubscribersClass}}">\n\n  <h1 class="invite-by-email">Invite by email:</h1>\n  <form class="invite-by-email">\n\n    <textarea name="emails" placeholder="Enter email addresses"></textarea>\n    <textarea name="message" placeholder="Enter a personal message" rows="4"></textarea>\n    <button>Send Invite</button>\n\n    <div style="clear: both"></div>\n  </form>\n\n  <h1 class="invite-by-hand">Invite by hand:</h1>\n  <div class="invite-by-hand">\n    {{#community}}\n      {{#links}}\n        <a class="download" href="{{launch_letter}}">\n          <p class="description-text">CommonPlace Launch Letter</p>\n          <p class="download-pdf">Download PDF</p>\n        </a>\n        <a class="download" href="{{information_sheet}}">\n          <p class="description-text">Information Sheet</p>\n          <p class="download-pdf">Download PDF</p>\n        </a>\n        <a class="download last" href="{{neighborhood_flyer}}">\n          <p class="description-text">Neighborhood Flyer</p>\n          <p class="download-pdf">Download PDF</p>\n        </a>\n\n        <a href="{{all_flyers}}">\n          <button>Download All Flyers</button>\n        </a>\n      {{/links}}\n    {{/community}}\n    <div style="clear: both"></div>\n  </div>\n  <div style="clear: both;"></div>\n</div>\n',this.Templates["feed_page.feed-actions"]='<div id="feed-action-nav">\n  <a href="#/post-announcement" class="post-announcement {{postAnnouncementClass}}">Publicize an Announcement</a>\n  <a href="#/post-event" class="post-event {{postEventClass}}">Post an <br>Event</a>\n  <a href="#/invite-subscribers" class="invite-subscribers {{inviteSubscribersClass}}">Invite New Subscribers</a>\n</div>\n\n<div class="tab post-announcement {{postAnnouncementClass}}">\n  <img class="avatar" src="{{avatarUrl}}" width="50" height="50">\n\n  <div class="error"></div>\n\n  <form>\n    <input name="title" placeholder="Title" type="text">\n    <textarea name="body" placeholder="Body" rows="4"></textarea>\n\n    <label>Label this post?</label>\n    <ul class="post-label-selector">\n      {{#groups}}\n        <li>\n          <label>\n            <img src="{{avatar_url}}" height="25" width="25">\n            {{name}}\n            <input name="groups" value="{{id}}" type="checkbox">\n          </label>\n        </li>\n      {{/groups}}\n    </ul>\n\n    <button>Post an Announcement</button>\n  </form>\n  <div style="clear: both;"></div>\n</div>\n\n<div class="tab post-event {{postEventClass}}">\n  <img class="avatar" src="{{avatarUrl}}" width="50" height="50">\n\n  <div class="error"></div>\n\n  <form>\n\n    <input name="title" placeholder="Event name" type="text">\n\n    <textarea name="about" placeholder="Event description" rows="4"></textarea>\n\n    <input class="date" name="date" placeholder="Event date" type="text">\n\n    <fieldset class="event-times">\n\n      <label for="start" class="time">\n        <select name="start" class="time dk" id="event_create_start">\n          <option value="">Starts at</option>\n          {{#time_values}}\n            <option value="{{.}}">{{.}}</option>\n          {{/time_values}}\n        </select>\n      </label>\n      <label for="end" class="time">\n        <select name="end" class="time dk" id="event_create_end">\n          <option value="">Ends at</option>\n      {{#time_values}}\n        <option value="{{.}}">{{.}}</option>\n      {{/time_values}}\n        </select>\n      </label>\n      <div style="clear: both;"></div>\n    </fieldset>\n\n    <input name="venue" placeholder="Venue" type="text">\n\n    <input name="address" placeholder="Event address" type="text">\n\n    <label>Label this post?</label>\n    <ul class="post-label-selector">\n      {{#groups}}\n        <li>\n          <label>\n            <img src="{{avatar_url}}" height="25" width="25">\n            {{name}}\n            <input name="groups" value="{{id}}" type="checkbox">\n          </label>\n        </li>\n      {{/groups}}\n    </ul>\n\n    <button>Post your Event</button>\n\n  </form>\n\n  <div style="clear: both;"></div>\n</div>\n\n<div class="tab invite-subscribers {{inviteSubscribersClass}}">\n\n  <h1 class="invite-by-email">Invite by email:</h1>\n  <form class="invite-by-email">\n\n    <textarea name="emails" placeholder="Enter email addresses"></textarea>\n    <textarea name="message" placeholder="Enter a personal message" rows="4"></textarea>\n    <button>Send Invite</button>\n\n    <div style="clear: both"></div>\n  </form>\n\n  <h1 class="invite-by-hand">Invite by hand:</h1>\n  <div class="invite-by-hand">\n    {{#community}}\n      {{#links}}\n        <a class="download" href="{{launch_letter}}">\n          <p class="description-text">CommonPlace Launch Letter</p>\n          <p class="download-pdf">Download PDF</p>\n        </a>\n        <a class="download" href="{{information_sheet}}">\n          <p class="description-text">Information Sheet</p>\n          <p class="download-pdf">Download PDF</p>\n        </a>\n        <a class="download last" href="{{neighborhood_flyer}}">\n          <p class="description-text">Neighborhood Flyer</p>\n          <p class="download-pdf">Download PDF</p>\n        </a>\n\n        <a href="{{all_flyers}}">\n          <button>Download All Flyers</button>\n        </a>\n      {{/links}}\n    {{/community}}\n    <div style="clear: both"></div>\n  </div>\n  <div style="clear: both;"></div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["feed_page/feed-admin-bar"]='\n<ul>\n  {{#feeds}}\n    <li>\n      <a href="#/pages/{{slug}}" class="{{#current}}current{{/current}}">{{name}}</a>\n    </li>\n  {{/feeds}}\n</ul>\n\n<div style="clear: both;"></div>\n',this.Templates["feed_page.feed-admin-bar"]='\n<ul>\n  {{#feeds}}\n    <li>\n      <a href="#/pages/{{slug}}" class="{{#current}}current{{/current}}">{{name}}</a>\n    </li>\n  {{/feeds}}\n</ul>\n\n<div style="clear: both;"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["feed_page/feed-all-posts"]='<div id="feed-all-posts">\n  <h1>All Posts from {{name}}</h1>\n  <ul></ul>\n  <a href="#">Show More</a>\n</div>\n',this.Templates["feed_page.feed-all-posts"]='<div id="feed-all-posts">\n  <h1>All Posts from {{name}}</h1>\n  <ul></ul>\n  <a href="#">Show More</a>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["feed_page/feed-header"]='<h1>{{feedName}}</h1>\n\n{{#isOwner}}\n  <a href="#" class="edit feed-edit">EDIT FEED PROFILE</a>\n{{/isOwner}}\n\n{{^isOwner}}\n  {{#isSubscribed}}\n    <a href="#" class="unsubscribe">UNSUBSCRIBE</a>\n  {{/isSubscribed}}\n  {{^isSubscribed}}\n    <a href="#" class="subscribe">SUBSCRIBE</a>\n  {{/isSubscribed}}\n{{/isOwner}}\n',this.Templates["feed_page.feed-header"]='<h1>{{feedName}}</h1>\n\n{{#isOwner}}\n  <a href="#" class="edit feed-edit">EDIT FEED PROFILE</a>\n{{/isOwner}}\n\n{{^isOwner}}\n  {{#isSubscribed}}\n    <a href="#" class="unsubscribe">UNSUBSCRIBE</a>\n  {{/isSubscribed}}\n  {{^isSubscribed}}\n    <a href="#" class="subscribe">SUBSCRIBE</a>\n  {{/isSubscribed}}\n{{/isOwner}}\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["feed_page/feed-modal"]='<div id="modal-shadow"></div>\n\n<div class="modal-container"></div>\n',this.Templates["feed_page.feed-modal"]='<div id="modal-shadow"></div>\n\n<div class="modal-container"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["feed_page/feed-nav"]='<a data-tab="showAnnouncements"\n  href="#announcements"\n  class="{{#classIfCurrent}}showAnnouncements{{/classIfCurrent}}">Announcements\n</a>\n\n<a data-tab="showEvents"\n  href="#events"\n  class="{{#classIfCurrent}}showEvents{{/classIfCurrent}}">Events\n</a>\n\n<a data-tab="showSubscribers"\n  href="#subscribers"\n  class="{{#classIfCurrent}}showSubscribers{{/classIfCurrent}}">Subscribers\n</a>\n',this.Templates["feed_page.feed-nav"]='<a data-tab="showAnnouncements"\n  href="#announcements"\n  class="{{#classIfCurrent}}showAnnouncements{{/classIfCurrent}}">Announcements\n</a>\n\n<a data-tab="showEvents"\n  href="#events"\n  class="{{#classIfCurrent}}showEvents{{/classIfCurrent}}">Events\n</a>\n\n<a data-tab="showSubscribers"\n  href="#subscribers"\n  class="{{#classIfCurrent}}showSubscribers{{/classIfCurrent}}">Subscribers\n</a>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["feed_page/feed-profile"]='<h1>Organization Information</h1>\n\n<img src="{{avatarSrc}}" class="avatar" width="200" height="200">\n\n<dl class="contact-info">\n  {{#address}}\n  <dt>ADDRESS</dt>\n  <dd>{{address}}</dd>\n  {{/address}}\n  {{#phone}}\n  <dt>PHONE</dt>\n  <dd>{{phone}}</dd>\n  {{/phone}}\n  {{#website}}\n  <dt>WEBSITE</dt>\n  <dd><a href="{{websiteURL}}" target="_blank">{{website}}</a></dd>\n  {{/website}}\n</dl>\n\n<a class="send-message button" href="#">Send Us a Message</a>\n{{#isOwner}}<div class="feed-owners button"><a href="#">Add Feed Owners</a></div>{{/isOwner}}\n\n<div style="clear: left"></div>\n',this.Templates["feed_page.feed-profile"]='<h1>Organization Information</h1>\n\n<img src="{{avatarSrc}}" class="avatar" width="200" height="200">\n\n<dl class="contact-info">\n  {{#address}}\n  <dt>ADDRESS</dt>\n  <dd>{{address}}</dd>\n  {{/address}}\n  {{#phone}}\n  <dt>PHONE</dt>\n  <dd>{{phone}}</dd>\n  {{/phone}}\n  {{#website}}\n  <dt>WEBSITE</dt>\n  <dd><a href="{{websiteURL}}" target="_blank">{{website}}</a></dd>\n  {{/website}}\n</dl>\n\n<a class="send-message button" href="#">Send Us a Message</a>\n{{#isOwner}}<div class="feed-owners button"><a href="#">Add Feed Owners</a></div>{{/isOwner}}\n\n<div style="clear: left"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["feed_page/feed-subresources"]='\n<div class="feed-announcements tab {{#classIfCurrent}}showAnnouncements{{/classIfCurrent}}">\n  <h1 class="feed-sub-header">Announcements from {{feedName}}</h1>\n\n  <div class="wire">\n  </div>\n</div>\n\n<div class="feed-events tab {{#classIfCurrent}}showEvents{{/classIfCurrent}}">\n  <h1 class="feed-sub-header">Events from {{feedName}}</h1>\n\n  <div class="wire">\n  </div>\n</div>\n\n<div class="feed-subscribers tab {{#classIfCurrent}}showSubscribers{{/classIfCurrent}}">\n  <h1 class="feed-sub-header">Subscribers to {{feedName}}</h1>\n\n  <div class="wire">\n  </div>\n</div>\n',this.Templates["feed_page.feed-subresources"]='\n<div class="feed-announcements tab {{#classIfCurrent}}showAnnouncements{{/classIfCurrent}}">\n  <h1 class="feed-sub-header">Announcements from {{feedName}}</h1>\n\n  <div class="wire">\n  </div>\n</div>\n\n<div class="feed-events tab {{#classIfCurrent}}showEvents{{/classIfCurrent}}">\n  <h1 class="feed-sub-header">Events from {{feedName}}</h1>\n\n  <div class="wire">\n  </div>\n</div>\n\n<div class="feed-subscribers tab {{#classIfCurrent}}showSubscribers{{/classIfCurrent}}">\n  <h1 class="feed-sub-header">Subscribers to {{feedName}}</h1>\n\n  <div class="wire">\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["feed_page/feed"]='<div id="feed-admin-bar"></div>\n<div id="feed-header"></div>\n<div id="left-column">\n  <div id="feed-profile"></div>\n  <div id="feed-nav"></div>\n</div>\n\n<div id="center-column">\n  {{#isOwner}}\n    <div id="feed-actions"></div>\n  {{/isOwner}}\n  <div id="feed-about"></div>\n  <div id="feed-subresources"></div>\n</div>\n',this.Templates["feed_page.feed"]='<div id="feed-admin-bar"></div>\n<div id="feed-header"></div>\n<div id="left-column">\n  <div id="feed-profile"></div>\n  <div id="feed-nav"></div>\n</div>\n\n<div id="center-column">\n  {{#isOwner}}\n    <div id="feed-actions"></div>\n  {{/isOwner}}\n  <div id="feed-about"></div>\n  <div id="feed-subresources"></div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["feed_page/feeds-list"]='\n<h1>Recommended Feeds</h1>\n<ul>\n  {{#feeds}}\n    <li class="{{#isCurrent}}current{{/isCurrent}}" data-feed-slug="{{slug}}">\n      <a href="#/feeds/{{slug}}">\n        <img src="{{avatar_url}}" class="avatar" width="25" height="25">\n        {{name}}\n      </a>\n    </li>\n  {{/feeds}}\n</ul>\n',this.Templates["feed_page.feeds-list"]='\n<h1>Recommended Feeds</h1>\n<ul>\n  {{#feeds}}\n    <li class="{{#isCurrent}}current{{/isCurrent}}" data-feed-slug="{{slug}}">\n      <a href="#/feeds/{{slug}}">\n        <img src="{{avatar_url}}" class="avatar" width="25" height="25">\n        {{name}}\n      </a>\n    </li>\n  {{/feeds}}\n</ul>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["find_my_neighbors_page/main"]='<div id="find_my_neighbors">\n  <h1>Find Your Friends In Town</h1>\n\n  <div class="registration_information">\n    <ul>\n      <li>How many neighbors do you know? Select the names of friends in town and we\'ll add them to your CommonPlace profile!</li>\n      <li>Use Facebook and your email contacts to quickly find the neighbors you know:</li>\n      <li class="buttons">\n        <img src="/assets/buttons/facebook-connect.png" alt="Connect with Facebook" class="facebook">\n        <img src="/assets/buttons/gmail-connect.png" alt="Google Connect" class="google" style="display: none">\n        <img src="/assets/buttons/yahoo-connect.png" alt="Yahoo Connect" class="yahoo" style="display:none">\n        <img src="/assets/buttons/hotmail-connect.png" alt="Windows Live" class="windows_live" style="display: none">\n      </li>\n\n      </li>\n      <li class="can_contact">\n        Do you mind if we invite your friends to join you on CommonPlace?\n      </li>\n      <li class="buttons">\n        <label><input type="checkbox" name="can_contact" checked="checked" class="contact"> Invite them!</label>\n        <label class="right">   <input type="checkbox" name="cannot_contact" class="contact"> I do mind.</label>\n      </li>\n    </ul>\n  </div>\n\n  <form class="list">\n    <div class="search_area">\n      <input type="text" name="search" class="search">\n      <span class="remove_search inactive"></span>\n    </div>\n    <div class="know neighbor_count_li">\n        You know <span class="neighbor_count">0</span> <span class="plural">neighbors</span>.\n    </div>\n    <div class="neighbor_finder">\n      <div class="initial_load">Loading</div>\n      <table>\n      </table>\n    </div>\n\n    <div class="search_finder">\n      <table></table>\n      <div class="no_results">No people matched: <span class="query"></span></div>\n    </div>\n\n    <input type="submit" class="grey-button continue" value="Submit">\n  </form>\n</div>\n',this.Templates["find_my_neighbors_page.main"]='<div id="find_my_neighbors">\n  <h1>Find Your Friends In Town</h1>\n\n  <div class="registration_information">\n    <ul>\n      <li>How many neighbors do you know? Select the names of friends in town and we\'ll add them to your CommonPlace profile!</li>\n      <li>Use Facebook and your email contacts to quickly find the neighbors you know:</li>\n      <li class="buttons">\n        <img src="/assets/buttons/facebook-connect.png" alt="Connect with Facebook" class="facebook">\n        <img src="/assets/buttons/gmail-connect.png" alt="Google Connect" class="google" style="display: none">\n        <img src="/assets/buttons/yahoo-connect.png" alt="Yahoo Connect" class="yahoo" style="display:none">\n        <img src="/assets/buttons/hotmail-connect.png" alt="Windows Live" class="windows_live" style="display: none">\n      </li>\n\n      </li>\n      <li class="can_contact">\n        Do you mind if we invite your friends to join you on CommonPlace?\n      </li>\n      <li class="buttons">\n        <label><input type="checkbox" name="can_contact" checked="checked" class="contact"> Invite them!</label>\n        <label class="right">   <input type="checkbox" name="cannot_contact" class="contact"> I do mind.</label>\n      </li>\n    </ul>\n  </div>\n\n  <form class="list">\n    <div class="search_area">\n      <input type="text" name="search" class="search">\n      <span class="remove_search inactive"></span>\n    </div>\n    <div class="know neighbor_count_li">\n        You know <span class="neighbor_count">0</span> <span class="plural">neighbors</span>.\n    </div>\n    <div class="neighbor_finder">\n      <div class="initial_load">Loading</div>\n      <table>\n      </table>\n    </div>\n\n    <div class="search_finder">\n      <table></table>\n      <div class="no_results">No people matched: <span class="query"></span></div>\n    </div>\n\n    <input type="submit" class="grey-button continue" value="Submit">\n  </form>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["find_my_neighbors_page/neighbor"]='<input type="checkbox" name="neighbors_list" data-name="{{first_name}} {{last_name}}" {{#email}}data-email="{{email}}"{{/email}} {{#facebook_id}}data-facebook-id="{{facebook_id}}"{{/facebook_id}}>\n<img src="{{avatar_url}}" width="50" height="50">\n<p class="fName">{{first_name}}</p>\n<p class="lName">{{last_name}}</p>\n<div class="on-commonplace">&#9733; On CommonPlace</div>\n',this.Templates["find_my_neighbors_page.neighbor"]='<input type="checkbox" name="neighbors_list" data-name="{{first_name}} {{last_name}}" {{#email}}data-email="{{email}}"{{/email}} {{#facebook_id}}data-facebook-id="{{facebook_id}}"{{/facebook_id}}>\n<img src="{{avatar_url}}" width="50" height="50">\n<p class="fName">{{first_name}}</p>\n<p class="lName">{{last_name}}</p>\n<div class="on-commonplace">&#9733; On CommonPlace</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["group_page/group"]='<div id="group-header"></div>\n<div id="left-column">\n  <div id="group-profile"></div>\n  <div id="group-nav"></div>\n</div>\n\n<div id="center-column">\n  <div id="new-post"></div>\n  <div id="group-subresources"></div>\n</div>\n',this.Templates["group_page.group"]='<div id="group-header"></div>\n<div id="left-column">\n  <div id="group-profile"></div>\n  <div id="group-nav"></div>\n</div>\n\n<div id="center-column">\n  <div id="new-post"></div>\n  <div id="group-subresources"></div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["group_page/groups-list"]='\n<h1>All {{community_name}} Groups</h1>\n<ul>\n  {{#groups}}\n    <li class="{{#isCurrent}}current{{/isCurrent}}" data-group-slug="{{slug}}">\n      <a href="{{url}}">\n        <img src="{{avatar_url}}" class="avatar" width="25" height="25">\n        {{name}}\n      </a>\n    </li>\n  {{/groups}}\n</ul>\n',this.Templates["group_page.groups-list"]='\n<h1>All {{community_name}} Groups</h1>\n<ul>\n  {{#groups}}\n    <li class="{{#isCurrent}}current{{/isCurrent}}" data-group-slug="{{slug}}">\n      <a href="{{url}}">\n        <img src="{{avatar_url}}" class="avatar" width="25" height="25">\n        {{name}}\n      </a>\n    </li>\n  {{/groups}}\n</ul>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["group_page/header"]='<h1>{{name}}</h1>\n\n{{#isSubscribed}}\n  <a href="#" class="unsubscribe">UNSUBSCRIBE</a>\n{{/isSubscribed}}\n{{^isSubscribed}}\n  <a href="#" class="subscribe">SUBSCRIBE</a>\n{{/isSubscribed}}\n',this.Templates["group_page.header"]='<h1>{{name}}</h1>\n\n{{#isSubscribed}}\n  <a href="#" class="unsubscribe">UNSUBSCRIBE</a>\n{{/isSubscribed}}\n{{^isSubscribed}}\n  <a href="#" class="subscribe">SUBSCRIBE</a>\n{{/isSubscribed}}\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["group_page/nav"]='\n<a data-tab="showGroupPosts"\n  href="#posts"\n  class="{{#classIfCurrent}}showGroupPosts{{/classIfCurrent}}">All Posts\n</a>\n\n<a data-tab="showGroupMembers"\n  href="#members"\n  class="{{#classIfCurrent}}showGroupMembers{{/classIfCurrent}}">Members\n</a>\n\n<a data-tab="showAnnouncements"\n  href="#announcements"\n  class="{{#classIfCurrent}}showAnnouncements{{/classIfCurrent}}">Announcements\n</a>\n\n<a data-tab="showEvents"\n  href="#events"\n  class="{{#classIfCurrent}}showEvents{{/classIfCurrent}}">Events\n</a>\n',this.Templates["group_page.nav"]='\n<a data-tab="showGroupPosts"\n  href="#posts"\n  class="{{#classIfCurrent}}showGroupPosts{{/classIfCurrent}}">All Posts\n</a>\n\n<a data-tab="showGroupMembers"\n  href="#members"\n  class="{{#classIfCurrent}}showGroupMembers{{/classIfCurrent}}">Members\n</a>\n\n<a data-tab="showAnnouncements"\n  href="#announcements"\n  class="{{#classIfCurrent}}showAnnouncements{{/classIfCurrent}}">Announcements\n</a>\n\n<a data-tab="showEvents"\n  href="#events"\n  class="{{#classIfCurrent}}showEvents{{/classIfCurrent}}">Events\n</a>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["group_page/new-post"]='<h1>Post to this group:</h1>\n\n<img class="avatar" src="{{account_avatar}}" width="50" height="50">\n\n<div class="error"></div>\n\n<form>\n  <input name="title" type="text" placeholder="Post Title">\n  <textarea name="body" placeholder="Your Message"></textarea>\n  <button>Post a Message</button>\n</form>\n\n<div style="clear: both;"></div>\n',this.Templates["group_page.new-post"]='<h1>Post to this group:</h1>\n\n<img class="avatar" src="{{account_avatar}}" width="50" height="50">\n\n<div class="error"></div>\n\n<form>\n  <input name="title" type="text" placeholder="Post Title">\n  <textarea name="body" placeholder="Your Message"></textarea>\n  <button>Post a Message</button>\n</form>\n\n<div style="clear: both;"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["group_page/post-list"]='<ul>\n  <li>\n    <div class="date-posted">september 2</div>\n    <div class="avatar">\n      <img src="http://robrimes.files.wordpress.com/2011/05/pig_may-2009-thumb-350x332.jpg" width="50" height="50">\n      <p>this is a reply<p>\n    </div>\n\n    <h1>Post title</h1>\n\n    <div class="author">aristotle</div>\n\n    <p>saying stuff</p>\n  </li>\n</ul>\n',this.Templates["group_page.post-list"]='<ul>\n  <li>\n    <div class="date-posted">september 2</div>\n    <div class="avatar">\n      <img src="http://robrimes.files.wordpress.com/2011/05/pig_may-2009-thumb-350x332.jpg" width="50" height="50">\n      <p>this is a reply<p>\n    </div>\n\n    <h1>Post title</h1>\n\n    <div class="author">aristotle</div>\n\n    <p>saying stuff</p>\n  </li>\n</ul>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["group_page/profile"]='<h1>Group Profile</h1>\n\n<img src="{{avatar_url}}" class="avatar" width="200" height="200">\n\n<p class="about">{{about}}</p>\n',this.Templates["group_page.profile"]='<h1>Group Profile</h1>\n\n<img src="{{avatar_url}}" class="avatar" width="200" height="200">\n\n<p class="about">{{about}}</p>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["group_page/subresources"]='\n<div class="group-posts tab {{#classIfCurrent}}showGroupPosts{{/classIfCurrent}}">\n  <div class="wire">\n  </div>\n</div>\n\n<div class="group-members tab {{#classIfCurrent}}showGroupMembers{{/classIfCurrent}}">\n  <div class="wire">\n  </div>\n</div>\n\n<div class="group-announcements tab {{#classIfCurrent}}showAnnouncements{{/classIfCurrent}}">\n  <div class="wire">\n  </div>\n</div>\n\n<div class="group-events tab {{#classIfCurrent}}showEvents{{/classIfCurrent}}">\n  <div class="wire">\n  </div>\n</div>\n',this.Templates["group_page.subresources"]='\n<div class="group-posts tab {{#classIfCurrent}}showGroupPosts{{/classIfCurrent}}">\n  <div class="wire">\n  </div>\n</div>\n\n<div class="group-members tab {{#classIfCurrent}}showGroupMembers{{/classIfCurrent}}">\n  <div class="wire">\n  </div>\n</div>\n\n<div class="group-announcements tab {{#classIfCurrent}}showAnnouncements{{/classIfCurrent}}">\n  <div class="wire">\n  </div>\n</div>\n\n<div class="group-events tab {{#classIfCurrent}}showEvents{{/classIfCurrent}}">\n  <div class="wire">\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["inbox/inbox"]='\n<h2>{{title}}</h2>\n\n<div id="message-list"></div>\n',this.Templates["inbox.inbox"]='\n<h2>{{title}}</h2>\n\n<div id="message-list"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["inbox/message-list"]='<ul class="list wire-list"></ul>\n\n{{#areMore}}\n<div class="end">\n  <div class="loading">Loading more...</div>\n</div>\n{{/areMore}}\n',this.Templates["inbox.message-list"]='<ul class="list wire-list"></ul>\n\n{{#areMore}}\n<div class="end">\n  <div class="loading">Loading more...</div>\n</div>\n{{/areMore}}\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["inbox/message"]='<div class="main-message" id="message_{{message_id}}">\n  <a name="{{message_id}}" />\n  <img class="avatar" src="{{avatarUrl}}" width="75" height="75">\n  {{^isFeed}}\n    {{^isSent}}<div class="date"><a class="messagable person">{{author}}</a>  sent {{date}}:</div>{{/isSent}}\n    {{#isSent}}<div class="date"><span class="messagable person">You</span> sent to <a class="messagable person">{{recipient}}</a> {{date}}:</div>{{/isSent}}\n  {{/isFeed}}\n  {{#isFeed}}\n    {{^isSent}}<div class="date"><a class="messagable person">{{author}}</a>  sent to <a class="messagable feed" href="{{feedUrl}}">{{recipient}}</a> {{date}}:</div>{{/isSent}}\n    {{#isSent}}<div class="date"><span class="messagable person">You</span> sent to <a class="messagable feed" href="{{feedUrl}}">{{recipient}}</a> {{date}}:</div>{{/isSent}}\n  {{/isFeed}}\n  <h3>{{title}}</h3>\n  <div class="body">{{#markdown}}{{body}}{{/markdown}}</div>\n  <div class="clear"></div>\n</div>\n\n<div class="replies-area"></div>\n\n',this.Templates["inbox.message"]='<div class="main-message" id="message_{{message_id}}">\n  <a name="{{message_id}}" />\n  <img class="avatar" src="{{avatarUrl}}" width="75" height="75">\n  {{^isFeed}}\n    {{^isSent}}<div class="date"><a class="messagable person">{{author}}</a>  sent {{date}}:</div>{{/isSent}}\n    {{#isSent}}<div class="date"><span class="messagable person">You</span> sent to <a class="messagable person">{{recipient}}</a> {{date}}:</div>{{/isSent}}\n  {{/isFeed}}\n  {{#isFeed}}\n    {{^isSent}}<div class="date"><a class="messagable person">{{author}}</a>  sent to <a class="messagable feed" href="{{feedUrl}}">{{recipient}}</a> {{date}}:</div>{{/isSent}}\n    {{#isSent}}<div class="date"><span class="messagable person">You</span> sent to <a class="messagable feed" href="{{feedUrl}}">{{recipient}}</a> {{date}}:</div>{{/isSent}}\n  {{/isFeed}}\n  <h3>{{title}}</h3>\n  <div class="body">{{#markdown}}{{body}}{{/markdown}}</div>\n  <div class="clear"></div>\n</div>\n\n<div class="replies-area"></div>\n\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["inbox/nav"]='<a href="#received" class="received nav-tab">Inbox</a>\n<a href="#sent" class="sent nav-tab">Sent</a>\n{{#hasFeeds}}<a href="#feeds" class="feeds nav-tab">Feeds</a>{{/hasFeeds}}\n',this.Templates["inbox.nav"]='<a href="#received" class="received nav-tab">Inbox</a>\n<a href="#sent" class="sent nav-tab">Sent</a>\n{{#hasFeeds}}<a href="#feeds" class="feeds nav-tab">Feeds</a>{{/hasFeeds}}\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["inbox_page/main"]='{{>shared.inbox-nav}}\n\n<div id="inbox">\n  <h2>Your Inbox</h2>\n\n  <div id="message-list" class="loading"></div>\n</div>\n',this.Templates["inbox_page.main"]='{{>shared.inbox-nav}}\n\n<div id="inbox">\n  <h2>Your Inbox</h2>\n\n  <div id="message-list" class="loading"></div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["invite_page/main"]='<div id="planewrapper">\n  <div id="plane">\n    <h1>Make CommonPlace Better!</h1>\n    <p class="subh1">Improve CommonPlace by inviting people you know.</p>\n  </div>\n</div>\n\n<ul class="invite-methods">\n\n  <li>\n      <h2>1. Invite neighbors by Facebook</h2>\n      <p class="subh2">Find your neighbors on Facebook and invite them to join you on CommonPlace!</p>\n      <a href="#" class="find-on-facebook-button"\n        data-message="I joined The {{community_name}} CommonPlace, a new online community bulletin board for neighbors in {{community_name}}. You should join too at: www.{{community_slug}}.OurCommonPlace.com."\n        data-slug="{{community_slug}}"></a>\n    </li>\n    <li>\n      <h2>2. Share on Facebook and Twitter</h2>\n      <p class="subh2">Let your friends and followers know you are on CommonPlace.</p>\n      <a href="#" class="share-on-facebook-button"\n        data-name="Register for The {{community_name}} CommonPlace"\n        data-url="https://www.ourcommonplace.com/{{community_slug}}"\n        data-picture="https://www.ourcommonplace.com/images/logo-pin.png"\n        data-caption="The {{community_name}} CommonPlace is a new online community bulletin board for neighbors in {{community_name}}."\n        data-description="Join your neighbors at https://www.ourcommonplace.com/{{community_slug}}."\n        data-message="I joined The {{community_name}} CommonPlace, a new online community bulletin board for neighbors in {{community_name}}. You should join too at: www.{{community_slug}}.OurCommonPlace.com.">\n      </a>\n      <a href="https://twitter.com/intent/tweet?url=http://{{community_slug}}.OurCommonPlace.com&text=Hey neighbors! If you live in {{community_name}}, check out {{community_name}}\'s CommonPlace, a new local community bulletin board:&count=horizontal"\n        class="share-on-twitter-button" target="_blank">\n      </a>\n    </li>\n    <li>\n      <h2>3. Invite neighbors by email</h2>\n      <p class="subh2">Invite your neighbors by adding their email addresses and writing a short message.</p>\n\n      <a href="#" class="import-contacts-from-email-button"></a>\n\n      <p class="option-separator">OR</p>\n\n      <form class="send-invites">\n        <p class="confirm">Invites sent. Send some more!</p>\n\n        <textarea id="invite_emails" name="email" placeholder="Enter email addresses here (separated by commas)" rows="4"></textarea>\n\n        <textarea name="body" placeholder="Include a message about why you love CommonPlace" rows="6"></textarea>\n\n        <button></button>\n    </li>\n</ul>\n'
,this.Templates["invite_page.main"]='<div id="planewrapper">\n  <div id="plane">\n    <h1>Make CommonPlace Better!</h1>\n    <p class="subh1">Improve CommonPlace by inviting people you know.</p>\n  </div>\n</div>\n\n<ul class="invite-methods">\n\n  <li>\n      <h2>1. Invite neighbors by Facebook</h2>\n      <p class="subh2">Find your neighbors on Facebook and invite them to join you on CommonPlace!</p>\n      <a href="#" class="find-on-facebook-button"\n        data-message="I joined The {{community_name}} CommonPlace, a new online community bulletin board for neighbors in {{community_name}}. You should join too at: www.{{community_slug}}.OurCommonPlace.com."\n        data-slug="{{community_slug}}"></a>\n    </li>\n    <li>\n      <h2>2. Share on Facebook and Twitter</h2>\n      <p class="subh2">Let your friends and followers know you are on CommonPlace.</p>\n      <a href="#" class="share-on-facebook-button"\n        data-name="Register for The {{community_name}} CommonPlace"\n        data-url="https://www.ourcommonplace.com/{{community_slug}}"\n        data-picture="https://www.ourcommonplace.com/images/logo-pin.png"\n        data-caption="The {{community_name}} CommonPlace is a new online community bulletin board for neighbors in {{community_name}}."\n        data-description="Join your neighbors at https://www.ourcommonplace.com/{{community_slug}}."\n        data-message="I joined The {{community_name}} CommonPlace, a new online community bulletin board for neighbors in {{community_name}}. You should join too at: www.{{community_slug}}.OurCommonPlace.com.">\n      </a>\n      <a href="https://twitter.com/intent/tweet?url=http://{{community_slug}}.OurCommonPlace.com&text=Hey neighbors! If you live in {{community_name}}, check out {{community_name}}\'s CommonPlace, a new local community bulletin board:&count=horizontal"\n        class="share-on-twitter-button" target="_blank">\n      </a>\n    </li>\n    <li>\n      <h2>3. Invite neighbors by email</h2>\n      <p class="subh2">Invite your neighbors by adding their email addresses and writing a short message.</p>\n\n      <a href="#" class="import-contacts-from-email-button"></a>\n\n      <p class="option-separator">OR</p>\n\n      <form class="send-invites">\n        <p class="confirm">Invites sent. Send some more!</p>\n\n        <textarea id="invite_emails" name="email" placeholder="Enter email addresses here (separated by commas)" rows="4"></textarea>\n\n        <textarea name="body" placeholder="Include a message about why you love CommonPlace" rows="6"></textarea>\n\n        <button></button>\n    </li>\n</ul>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/account-profile"]='<div class="spacing">\n  <div class="profile-main">\n    <h3>{{fullName}}</h3>\n    <img src="{{avatarUrl}}" width="122" />\n    <div class="image-overlay">\n    </div>\n    <div class="profile-top">\n      <p>\n        <span class="profile-number">{{post_count}}</span><br />\n        <span class="profile-title">Posts</span><br />\n      </p>\n      <p>\n        <span class="profile-number">{{reply_count}}</span><br />\n        <span class="profile-title">Replies</span><br />\n      </p>\n      <p>\n\n      <div class="box-links">\n        <a href="{{editUrl}}" class="gray-button edit">Edit My Profile</a>\n      </div>\n    </div>\n\n  </div>\n  <div class="profile-data">\n    {{#hasAbout}}\n      <div>\n        <h4>About</h4>\n        <div class="about">{{#markdown}}{{about}}{{/markdown}}</div>\n      </div>\n    {{/hasAbout}}\n    {{#hasInterests}}\n      <div>\n        <h4>Interests</h4>\n        <ul>\n          {{#interests}}\n            <li class="interest">\n              {{.}}\n            </li>\n          {{/interests}}\n        </ul>\n      </div>\n    {{/hasInterests}}\n    {{#hasSkills}}\n      <div>\n        <h4>Skills</h4>\n        <ul>\n          {{#skills}}\n            <li class="interest">\n              {{.}}\n            </li>\n          {{/skills}}\n        </ul>\n      </div>\n    {{/hasSkills}}\n    {{#hasGoods}}\n      <div>\n        <h4>Goods</h4>\n        <ul>\n          {{#goods}}\n            <li class="interest">\n              {{.}}\n            </li>\n          {{/goods}}\n        </ul>\n      </div>\n    {{/hasGoods}}\n    <div class="profile-history">\n    </div>\n  </div>\n</div>\n',this.Templates["main_page.account-profile"]='<div class="spacing">\n  <div class="profile-main">\n    <h3>{{fullName}}</h3>\n    <img src="{{avatarUrl}}" width="122" />\n    <div class="image-overlay">\n    </div>\n    <div class="profile-top">\n      <p>\n        <span class="profile-number">{{post_count}}</span><br />\n        <span class="profile-title">Posts</span><br />\n      </p>\n      <p>\n        <span class="profile-number">{{reply_count}}</span><br />\n        <span class="profile-title">Replies</span><br />\n      </p>\n      <p>\n\n      <div class="box-links">\n        <a href="{{editUrl}}" class="gray-button edit">Edit My Profile</a>\n      </div>\n    </div>\n\n  </div>\n  <div class="profile-data">\n    {{#hasAbout}}\n      <div>\n        <h4>About</h4>\n        <div class="about">{{#markdown}}{{about}}{{/markdown}}</div>\n      </div>\n    {{/hasAbout}}\n    {{#hasInterests}}\n      <div>\n        <h4>Interests</h4>\n        <ul>\n          {{#interests}}\n            <li class="interest">\n              {{.}}\n            </li>\n          {{/interests}}\n        </ul>\n      </div>\n    {{/hasInterests}}\n    {{#hasSkills}}\n      <div>\n        <h4>Skills</h4>\n        <ul>\n          {{#skills}}\n            <li class="interest">\n              {{.}}\n            </li>\n          {{/skills}}\n        </ul>\n      </div>\n    {{/hasSkills}}\n    {{#hasGoods}}\n      <div>\n        <h4>Goods</h4>\n        <ul>\n          {{#goods}}\n            <li class="interest">\n              {{.}}\n            </li>\n          {{/goods}}\n        </ul>\n      </div>\n    {{/hasGoods}}\n    <div class="profile-history">\n    </div>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/announcement-resources"]='<div class="no-results"><p>There were no results</p></div>\n<div class="announcements wire">{{>wires.wire}}</div>\n',this.Templates["main_page.announcement-resources"]='<div class="no-results"><p>There were no results</p></div>\n<div class="announcements wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/chrono-resources"]='<div class="chrono wire">{{>wires.wire}}</div>\n',this.Templates["main_page.chrono-resources"]='<div class="chrono wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/chrono-search-resources"]='<div class="chrono wire">{{>wires.wire}}</div>\n',this.Templates["main_page.chrono-search-resources"]='<div class="chrono wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/community-resources"]='<div class="resources">\n  <div class="loading-resource">\n    <div class="loading"></div>\n  </div>\n  <div class="wire"></div>\n</div>\n',this.Templates["main_page.community-resources"]='<div class="resources">\n  <div class="loading-resource">\n    <div class="loading"></div>\n  </div>\n  <div class="wire"></div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/community-search-form"]='<div class="post-search search-switch"><input type="text" placeholder="Search postsâ¦"/></div>\n<div class="directory-search search-switch"><input type="text" placeholder="Search communityâ¦"/></div>\n<div class="cancel"></div>\n',this.Templates["main_page.community-search-form"]='<div class="post-search search-switch"><input type="text" placeholder="Search postsâ¦"/></div>\n<div class="directory-search search-switch"><input type="text" placeholder="Search communityâ¦"/></div>\n<div class="cancel"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/directory-resources"]='<div class="no-results"><p>There were no results</p></div>\n<div class="users wire">{{>wires.wire}}</div>\n',this.Templates["main_page.directory-resources"]='<div class="no-results"><p>There were no results</p></div>\n<div class="users wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/dynamic-landing-resources"]='<div class="populated">\n  <div class="wire events"></div>\n</div>\n\n<div class="empty">\n  <div class="neighborhoodPosts wire"></div>\n  <div class="offerPosts wire"></div>\n  <div class="helpPosts wire"></div>\n  <div class="publicityPosts wire"></div>\n  <div class="otherPosts wire"></div>\n  <div class="groupPosts wire"></div>\n  <div class="announcements wire"></div>\n</div>\n\n<div class="wire chrono"></div>\n',this.Templates["main_page.dynamic-landing-resources"]='<div class="populated">\n  <div class="wire events"></div>\n</div>\n\n<div class="empty">\n  <div class="neighborhoodPosts wire"></div>\n  <div class="offerPosts wire"></div>\n  <div class="helpPosts wire"></div>\n  <div class="publicityPosts wire"></div>\n  <div class="otherPosts wire"></div>\n  <div class="groupPosts wire"></div>\n  <div class="announcements wire"></div>\n</div>\n\n<div class="wire chrono"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/event-resources"]='<div class="no-results"><p>There were no results</p></div>\n<div class="events wire">{{>wires.wire}}</div>\n',this.Templates["main_page.event-resources"]='<div class="no-results"><p>There were no results</p></div>\n<div class="events wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/failed-search"]='<div class="spacing">\n  <div class="profile-main">\n    <h3>No Search Results</h3>\n  </div>\n  <div class="about">No directory results were found matching <strong>{{query}}</strong>.</div>\n  <a href="/invite" class="gray-button">Invite New Neighbors</a>\n  <a href="/feed_registrations/new" class="gray-button">Register a New Feed</a>\n</div>\n',this.Templates["main_page.failed-search"]='<div class="spacing">\n  <div class="profile-main">\n    <h3>No Search Results</h3>\n  </div>\n  <div class="about">No directory results were found matching <strong>{{query}}</strong>.</div>\n  <a href="/invite" class="gray-button">Invite New Neighbors</a>\n  <a href="/feed_registrations/new" class="gray-button">Register a New Feed</a>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/feed-profile"]='<div class="spacing">\n  <div class="profile-main">\n    <img src="{{avatarUrl}}" width="122" />\n    <div class="profile-top">\n      <a href="{{url}}"><h3>{{fullName}}</h3></a>\n      <a href="{{url}}" class="gray-button">View Feed Page</a>\n      {{^isOwner}}<a href="#" class="gray-button message">Send a Message</a>{{/isOwner}}\n      {{#isOwner}}<a href="#" class="gray-button edit-feed">Edit Feed Profile</a>{{/isOwner}}\n      {{^isSubscribed}}<a href="#" class="gray-button subscribe">Subscribe</a>{{/isSubscribed}}\n      {{#isSubscribed}}<a href="#" class="gray-button unsubscribe">Unsubscribe</a>{{/isSubscribed}}\n    </div>\n  </div>\n  {{#about}}\n    <h4>About</h4>\n    <div class="about">{{#markdown}}{{about}}{{/markdown}}</div>\n  {{/about}}\n</div>\n',this.Templates["main_page.feed-profile"]='<div class="spacing">\n  <div class="profile-main">\n    <img src="{{avatarUrl}}" width="122" />\n    <div class="profile-top">\n      <a href="{{url}}"><h3>{{fullName}}</h3></a>\n      <a href="{{url}}" class="gray-button">View Feed Page</a>\n      {{^isOwner}}<a href="#" class="gray-button message">Send a Message</a>{{/isOwner}}\n      {{#isOwner}}<a href="#" class="gray-button edit-feed">Edit Feed Profile</a>{{/isOwner}}\n      {{^isSubscribed}}<a href="#" class="gray-button subscribe">Subscribe</a>{{/isSubscribed}}\n      {{#isSubscribed}}<a href="#" class="gray-button unsubscribe">Unsubscribe</a>{{/isSubscribed}}\n    </div>\n  </div>\n  {{#about}}\n    <h4>About</h4>\n    <div class="about">{{#markdown}}{{about}}{{/markdown}}</div>\n  {{/about}}\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/forms/announcement-form"]='<div id="post-box" class="form modal">\n\t<div class="error"></div>\n\n  <div class="form-container announcement">\n    {{^hasFeeds}}\n      <div class="new-announcement">\n       <ul>\n         <li>\n          {{#isHarvardNeighbors}} \n            Post an Announcement\n          {{/isHarvardNeighbors}}    \n\n          {{^isHarvardNeighbors}} \n            Promote Your Work\n          {{/isHarvardNeighbors}}    \n         </li>\n       </ul>\n       <span class="divider">\n       </span>\n      <p>You must first register a service or organization before you can promote it.</p>\n      </div>\n    <div class="controls wide">\n         <a id="new_feed_button" class="red-button" href="/feed_registrations/new">Register a New Page</a>\n         <a class="back" href="#">Back</a>\n    </div>\n    {{/hasFeeds}}\n    {{#hasFeeds}}\n    {{#hasBusinessFeeds}}\n      <p>In order to publicize your business, please post a deal in the marketplace.</p>\n      <div class="controls wide">\n        <button class="red-button transaction">Post to Marketplace</button>\n        <a class="back" href="#">Back</a>\n      </div>\n    {{/hasBusinessFeeds}}\n    {{^hasBusinessFeeds}}\n    <div class="posting-header promote">\n      <i class="icon"></i>\n      <div class="left">\n\n      {{#isHarvardNeighbors}} \n        <h1>Promote Your Work</h1>\n        <span>Advertise your organization or business</span>\n      {{/isHarvardNeighbors}}    \n\n      {{^isHarvardNeighbors}} \n        <h1>Post an Announcement</h1>\n        <span>Publicize interest group updates</span>\n      {{/isHarvardNeighbors}}    \n      </div>\n    </div>\n    <span class="divider">\n    </span>\n    <div class="post_category">\n      <form>\n        <select name="feed_selector" class="chzn-select" tabindex="1">\n          <option value="">What organization do you want to promote?&nbsp;&nbsp;&nbsp;&nbsp;</option>\n          {{#feeds}}\n          <option value="{{id}}">{{name}}</option>\n          {{/feeds}}\n        </select>\n\n        <input type="text" placeholder="Title" name="title" class="rounded_corners">\n        <textarea placeholder="Message" name="body" rows="15" cols="55" class="rounded_corners"></textarea>\n\n        <div class="controls">\n          {{^isPostEdit}}\n           <button class="red-button submit">POST NOW</button>\n           <a class="back" href="#">Back</a>\n           {{/isPostEdit}}\n          {{#isPostEdit}}\n           <button class="red-button submit">SUBMIT EDIT</button>\n           <a class="delete" href="#">Delete</a>\n           {{/isPostEdit}}\n           <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n        </div>\n      </form>\n    </div>\n    {{/hasBusinessFeeds}}\n    {{/hasFeeds}}\n  </div>\n</div>\n',this.Templates["main_page.forms.announcement-form"]='<div id="post-box" class="form modal">\n\t<div class="error"></div>\n\n  <div class="form-container announcement">\n    {{^hasFeeds}}\n      <div class="new-announcement">\n       <ul>\n         <li>\n          {{#isHarvardNeighbors}} \n            Post an Announcement\n          {{/isHarvardNeighbors}}    \n\n          {{^isHarvardNeighbors}} \n            Promote Your Work\n          {{/isHarvardNeighbors}}    \n         </li>\n       </ul>\n       <span class="divider">\n       </span>\n      <p>You must first register a service or organization before you can promote it.</p>\n      </div>\n    <div class="controls wide">\n         <a id="new_feed_button" class="red-button" href="/feed_registrations/new">Register a New Page</a>\n         <a class="back" href="#">Back</a>\n    </div>\n    {{/hasFeeds}}\n    {{#hasFeeds}}\n    {{#hasBusinessFeeds}}\n      <p>In order to publicize your business, please post a deal in the marketplace.</p>\n      <div class="controls wide">\n        <button class="red-button transaction">Post to Marketplace</button>\n        <a class="back" href="#">Back</a>\n      </div>\n    {{/hasBusinessFeeds}}\n    {{^hasBusinessFeeds}}\n    <div class="posting-header promote">\n      <i class="icon"></i>\n      <div class="left">\n\n      {{#isHarvardNeighbors}} \n        <h1>Promote Your Work</h1>\n        <span>Advertise your organization or business</span>\n      {{/isHarvardNeighbors}}    \n\n      {{^isHarvardNeighbors}} \n        <h1>Post an Announcement</h1>\n        <span>Publicize interest group updates</span>\n      {{/isHarvardNeighbors}}    \n      </div>\n    </div>\n    <span class="divider">\n    </span>\n    <div class="post_category">\n      <form>\n        <select name="feed_selector" class="chzn-select" tabindex="1">\n          <option value="">What organization do you want to promote?&nbsp;&nbsp;&nbsp;&nbsp;</option>\n          {{#feeds}}\n          <option value="{{id}}">{{name}}</option>\n          {{/feeds}}\n        </select>\n\n        <input type="text" placeholder="Title" name="title" class="rounded_corners">\n        <textarea placeholder="Message" name="body" rows="15" cols="55" class="rounded_corners"></textarea>\n\n        <div class="controls">\n          {{^isPostEdit}}\n           <button class="red-button submit">POST NOW</button>\n           <a class="back" href="#">Back</a>\n           {{/isPostEdit}}\n          {{#isPostEdit}}\n           <button class="red-button submit">SUBMIT EDIT</button>\n           <a class="delete" href="#">Delete</a>\n           {{/isPostEdit}}\n           <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n        </div>\n      </form>\n    </div>\n    {{/hasBusinessFeeds}}\n    {{/hasFeeds}}\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/forms/event-form"]='<div id="post-box" class="form">\n  <div class="error"></div>\n  <div class="form-container event">\n    <div class="posting-header event">\n      <i class="icon"></i>\n      <div class="left">\n        <h1>Publicize an Event</h1>\n        <span>Add to the community\'s events board</span>\n      </div>\n    </div>\n    <span class="divider">\n    </span>\n    {{#hasFeeds}}\n      <select name="feed_selector" class="chzn-select" tabindex="1">\n        <option value="">Who would you like to post this as?&nbsp;&nbsp;&nbsp;&nbsp;</option>\n\n        <option value="self">{{user}}</option>\n        {{#feeds}}\n        <option value="{{id}}">{{name}}</option>\n        {{/feeds}}\n      </select>\n    {{/hasFeeds}}\n    <form>\n      <input type="text" placeholder="Event Name" name="title" class="rounded_corners">\n      <textarea placeholder="Description of your event" name="body" class="rounded_corners"></textarea>\n\n      <div id="event_date">\n        <input class="date rounded_corners" id="date" placeholder="Date" name="date" value="{{date}}" type="text">\n      </div>\n\n      <div id="start_at_time">\n        <select name="start" id="start_time" class="chzn-select" tabindex="1">\n          <option value="">Starts</option>\n          {{#time_values}}\n            <option class="starting_times" value="{{.}}">{{.}}</option>\n          {{/time_values}}\n        </select>\n      </div>\n\n      <div id="end_at_time">\n        <select name="end" id="end_time" class="chzn-select" tabindex="1">\n          <option value="">Ends</option>\n          {{#time_values}}\n            <option class="ending_times" value="{{.}}">{{.}}</option>\n          {{/time_values}}\n        </select>\n      </div>\n      <input id="address" type="text" placeholder="Address" name="address" class="rounded_corners">\n      <input id="venue" type="text" placeholder="Venue Name" name="venue" class="rounded_corners">\n      <div class="controls">\n          {{^isPostEdit}}\n           <button class="red-button submit">POST NOW</button>\n           <a class="back" href="#">Back</a>\n           {{/isPostEdit}}\n          {{#isPostEdit}}\n           <button class="red-button submit">SUBMIT EDIT</button>\n           <a class="delete" href="#">Delete</a>\n           {{/isPostEdit}}\n         <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n      </div>\n      </form>\n  </div>\n</div>\n\n',this.Templates["main_page.forms.event-form"]='<div id="post-box" class="form">\n  <div class="error"></div>\n  <div class="form-container event">\n    <div class="posting-header event">\n      <i class="icon"></i>\n      <div class="left">\n        <h1>Publicize an Event</h1>\n        <span>Add to the community\'s events board</span>\n      </div>\n    </div>\n    <span class="divider">\n    </span>\n    {{#hasFeeds}}\n      <select name="feed_selector" class="chzn-select" tabindex="1">\n        <option value="">Who would you like to post this as?&nbsp;&nbsp;&nbsp;&nbsp;</option>\n\n        <option value="self">{{user}}</option>\n        {{#feeds}}\n        <option value="{{id}}">{{name}}</option>\n        {{/feeds}}\n      </select>\n    {{/hasFeeds}}\n    <form>\n      <input type="text" placeholder="Event Name" name="title" class="rounded_corners">\n      <textarea placeholder="Description of your event" name="body" class="rounded_corners"></textarea>\n\n      <div id="event_date">\n        <input class="date rounded_corners" id="date" placeholder="Date" name="date" value="{{date}}" type="text">\n      </div>\n\n      <div id="start_at_time">\n        <select name="start" id="start_time" class="chzn-select" tabindex="1">\n          <option value="">Starts</option>\n          {{#time_values}}\n            <option class="starting_times" value="{{.}}">{{.}}</option>\n          {{/time_values}}\n        </select>\n      </div>\n\n      <div id="end_at_time">\n        <select name="end" id="end_time" class="chzn-select" tabindex="1">\n          <option value="">Ends</option>\n          {{#time_values}}\n            <option class="ending_times" value="{{.}}">{{.}}</option>\n          {{/time_values}}\n        </select>\n      </div>\n      <input id="address" type="text" placeholder="Address" name="address" class="rounded_corners">\n      <input id="venue" type="text" placeholder="Venue Name" name="venue" class="rounded_corners">\n      <div class="controls">\n          {{^isPostEdit}}\n           <button class="red-button submit">POST NOW</button>\n           <a class="back" href="#">Back</a>\n           {{/isPostEdit}}\n          {{#isPostEdit}}\n           <button class="red-button submit">SUBMIT EDIT</button>\n           <a class="delete" href="#">Delete</a>\n           {{/isPostEdit}}\n         <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n      </div>\n      </form>\n  </div>\n</div>\n\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/forms/post-form"]='<div id="post-box">\n  <div class="error"></div>\n  <div class="form-container">\n    <div class="posting-header discussion">\n      <i class="icon"></i>\n      <div class="left">\n        <h1>Share Community Thoughts</h1>\n        <span>\n          {{#isHarvardNeighbors}} \n            Discuss a campus topic with your neighbors\n          {{/isHarvardNeighbors}}    \n\n          {{^isHarvardNeighbors}} \n            Discuss a town topic with your neighbors\n          {{/isHarvardNeighbors}}    \n        </span>\n      </div>\n    </div>\n    <span class="divider">\n    </span>\n    <form>\n        <select name="group_selector" class="chzn-select" tabindex="1">\n          <option value="">What topic are you posting to?&nbsp;&nbsp;&nbsp;&nbsp;</option>\n          {{#groups}}\n          <option value="{{id}}">{{name}}</option>\n          {{/groups}}\n        </select>\n        <input type="text" placeholder="Title" name="title" class="rounded_corners"></input>\n        <textarea placeholder="Message" name="body" rows="15" cols="55" class="rounded_corners"></textarea>\n      <div class="controls pie-element">\n          {{^isPostEdit}}\n           <button class="red-button submit">POST NOW</button>\n           <a class="back" href="#">Back</a>\n           {{/isPostEdit}}\n          {{#isPostEdit}}\n           <button class="red-button submit">SUBMIT EDIT</button>\n           <a class="delete" href="#">Delete</a>\n           {{/isPostEdit}}\n         <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n      </div>      \n    </form>\n  </div>\n</div>\n',this.Templates["main_page.forms.post-form"]='<div id="post-box">\n  <div class="error"></div>\n  <div class="form-container">\n    <div class="posting-header discussion">\n      <i class="icon"></i>\n      <div class="left">\n        <h1>Share Community Thoughts</h1>\n        <span>\n          {{#isHarvardNeighbors}} \n            Discuss a campus topic with your neighbors\n          {{/isHarvardNeighbors}}    \n\n          {{^isHarvardNeighbors}} \n            Discuss a town topic with your neighbors\n          {{/isHarvardNeighbors}}    \n        </span>\n      </div>\n    </div>\n    <span class="divider">\n    </span>\n    <form>\n        <select name="group_selector" class="chzn-select" tabindex="1">\n          <option value="">What topic are you posting to?&nbsp;&nbsp;&nbsp;&nbsp;</option>\n          {{#groups}}\n          <option value="{{id}}">{{name}}</option>\n          {{/groups}}\n        </select>\n        <input type="text" placeholder="Title" name="title" class="rounded_corners"></input>\n        <textarea placeholder="Message" name="body" rows="15" cols="55" class="rounded_corners"></textarea>\n      <div class="controls pie-element">\n          {{^isPostEdit}}\n           <button class="red-button submit">POST NOW</button>\n           <a class="back" href="#">Back</a>\n           {{/isPostEdit}}\n          {{#isPostEdit}}\n           <button class="red-button submit">SUBMIT EDIT</button>\n           <a class="delete" href="#">Delete</a>\n           {{/isPostEdit}}\n         <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n      </div>      \n    </form>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/forms/question-form"]='<div id="post-box" class="question">\n  <div class="error"></div>\n\n  <div class="form-container">\n    <div class="posting-header request">\n      <i class="icon"></i>\n      <div class="left">\n        <h1>Ask A Question</h1>\n        <span>Request help from your neighbors</span>\n      </div>\n    </div>\n    <span class="divider">\n    </span>\n    <form>\n      <input type="text" placeholder="Title" name="title" class="rounded_corners"></input>\n      <textarea placeholder="Message" name="body" class="rounded_corners"></textarea>\n      <div class="controls pie-element">\n          {{^isPostEdit}}\n           <button class="red-button submit">POST NOW</button>\n           <a class="back" href="#">Back</a>\n           {{/isPostEdit}}\n          {{#isPostEdit}}\n           <button class="red-button submit">SUBMIT EDIT</button>\n           <a class="delete" href="#">Delete</a>\n           {{/isPostEdit}}\n         <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n      </div>      \n    </form>\n  </div>\n</div>\n',this.Templates["main_page.forms.question-form"]='<div id="post-box" class="question">\n  <div class="error"></div>\n\n  <div class="form-container">\n    <div class="posting-header request">\n      <i class="icon"></i>\n      <div class="left">\n        <h1>Ask A Question</h1>\n        <span>Request help from your neighbors</span>\n      </div>\n    </div>\n    <span class="divider">\n    </span>\n    <form>\n      <input type="text" placeholder="Title" name="title" class="rounded_corners"></input>\n      <textarea placeholder="Message" name="body" class="rounded_corners"></textarea>\n      <div class="controls pie-element">\n          {{^isPostEdit}}\n           <button class="red-button submit">POST NOW</button>\n           <a class="back" href="#">Back</a>\n           {{/isPostEdit}}\n          {{#isPostEdit}}\n           <button class="red-button submit">SUBMIT EDIT</button>\n           <a class="delete" href="#">Delete</a>\n           {{/isPostEdit}}\n         <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n      </div>      \n    </form>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/forms/transaction-form"]='<div id="post-box" class="form">\n  <div class="error"></div>\n\n  <div class="form-container">\n    <div class="posting-header transaction">\n      <i class="icon"></i>\n      <div class="left">\n        <h1>Sell on the Marketplace</h1>\n        <span>Sell something (or give it away for free!)</span>\n      </div>\n    </div>\n    <span class="divider">\n    </span>\n    {{#hasFeeds}}\n      <select name="feed_selector" class="chzn-select" tabindex="1">\n        <option value="">Who would you like to post this as?&nbsp;&nbsp;&nbsp;&nbsp;</option>\n\n        <option value="self">{{user}}</option>\n        {{#feeds}}\n        <option selected="selected" value="{{id}}">{{name}}</option>\n        {{/feeds}}\n      </select>\n    {{/hasFeeds}}\n    <form>\n      <div class="inputs">\n      <input type="text" placeholder="Title" name="title" class="rounded_corners" >\n      <div class="form-left">\n      <textarea placeholder="Message" name="body" rows="15" cols="55" class="rounded_corners description"></textarea>\n      <input type="text" placeholder="Price" name="price" class="rounded_corners price">\n      </div>\n      </div>\n      <div class="upload-section">\n        <div class="box">\n          <img class="item_pic one" id="1" src="/assets/shared/redesign/upload-default.png" alt="This is a picture of the item for sale" />\n        </div>\n        <div class="box">\n          <img class="item_pic two" id="2" src="/assets/shared/redesign/upload-default.png" alt="This is a picture of the item for sale" />\n        </div>\n        <div class="box">\n          <img class="item_pic three" id="3" src="/assets/shared/redesign/upload-default.png" alt="This is a picture of the item for sale" />\n        </div>\n      </div>\n\n      <div class="controls">\n          {{^isPostEdit}}\n           <button class="red-button submit">POST NOW</button>\n           <a class="back" href="#">Back</a>\n           {{/isPostEdit}}\n          {{#isPostEdit}}\n           <button class="red-button submit">SUBMIT EDIT</button>\n           <a class="delete" href="#">Delete</a>\n           {{/isPostEdit}}\n         <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n      </div>\n    </form>\n  </div>\n</div>\n',this.Templates["main_page.forms.transaction-form"]='<div id="post-box" class="form">\n  <div class="error"></div>\n\n  <div class="form-container">\n    <div class="posting-header transaction">\n      <i class="icon"></i>\n      <div class="left">\n        <h1>Sell on the Marketplace</h1>\n        <span>Sell something (or give it away for free!)</span>\n      </div>\n    </div>\n    <span class="divider">\n    </span>\n    {{#hasFeeds}}\n      <select name="feed_selector" class="chzn-select" tabindex="1">\n        <option value="">Who would you like to post this as?&nbsp;&nbsp;&nbsp;&nbsp;</option>\n\n        <option value="self">{{user}}</option>\n        {{#feeds}}\n        <option selected="selected" value="{{id}}">{{name}}</option>\n        {{/feeds}}\n      </select>\n    {{/hasFeeds}}\n    <form>\n      <div class="inputs">\n      <input type="text" placeholder="Title" name="title" class="rounded_corners" >\n      <div class="form-left">\n      <textarea placeholder="Message" name="body" rows="15" cols="55" class="rounded_corners description"></textarea>\n      <input type="text" placeholder="Price" name="price" class="rounded_corners price">\n      </div>\n      </div>\n      <div class="upload-section">\n        <div class="box">\n          <img class="item_pic one" id="1" src="/assets/shared/redesign/upload-default.png" alt="This is a picture of the item for sale" />\n        </div>\n        <div class="box">\n          <img class="item_pic two" id="2" src="/assets/shared/redesign/upload-default.png" alt="This is a picture of the item for sale" />\n        </div>\n        <div class="box">\n          <img class="item_pic three" id="3" src="/assets/shared/redesign/upload-default.png" alt="This is a picture of the item for sale" />\n        </div>\n      </div>\n\n      <div class="controls">\n          {{^isPostEdit}}\n           <button class="red-button submit">POST NOW</button>\n           <a class="back" href="#">Back</a>\n           {{/isPostEdit}}\n          {{#isPostEdit}}\n           <button class="red-button submit">SUBMIT EDIT</button>\n           <a class="delete" href="#">Delete</a>\n           {{/isPostEdit}}\n         <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n      </div>\n    </form>\n  </div>\n</div>\n'
}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/group-post-resources"]='<div class="no-results"><p>There were no results</p></div>\n<div class="groupPosts wire group_posts">{{>wires.wire}}</div>\n',this.Templates["main_page.group-post-resources"]='<div class="no-results"><p>There were no results</p></div>\n<div class="groupPosts wire group_posts">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/group-profile"]='<div class="spacing">\n  <div class="profile-main">\n    <img src="{{avatarUrl}}" width="122" />\n    <div class="profile-top">\n      <a href="{{url}}"><h3>{{fullName}}</h3></a>\n      <a href="{{url}}" class="gray-button">View Group Page</a>\n      {{^isSubscribed}}<a href="#" class="gray-button subscribe">Subscribe</a>{{/isSubscribed}}\n      {{#isSubscribed}}<a href="#" class="gray-button unsubscribe">Unsubscribe</a>{{/isSubscribed}}\n    </div>\n  </div>\n  {{#about}}\n    <h4>About</h4>\n    <div class="about">{{#markdown}}{{about}}{{/markdown}}</div>\n  {{/about}}\n</div>\n',this.Templates["main_page.group-profile"]='<div class="spacing">\n  <div class="profile-main">\n    <img src="{{avatarUrl}}" width="122" />\n    <div class="profile-top">\n      <a href="{{url}}"><h3>{{fullName}}</h3></a>\n      <a href="{{url}}" class="gray-button">View Group Page</a>\n      {{^isSubscribed}}<a href="#" class="gray-button subscribe">Subscribe</a>{{/isSubscribed}}\n      {{#isSubscribed}}<a href="#" class="gray-button unsubscribe">Unsubscribe</a>{{/isSubscribed}}\n    </div>\n  </div>\n  {{#about}}\n    <h4>About</h4>\n    <div class="about">{{#markdown}}{{about}}{{/markdown}}</div>\n  {{/about}}\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/history_items/announcements"]='{{name}} posted the announcement <a data-remote\n  href="/{{slug}}/show/{{schema}}/{{id}}">\n  {{title}}\n</a>\n',this.Templates["main_page.history_items.announcements"]='{{name}} posted the announcement <a data-remote\n  href="/{{slug}}/show/{{schema}}/{{id}}">\n  {{title}}\n</a>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/history_items/events"]='{{name}} posted the event <a data-remote\n  href="/{{slug}}/show/{{schema}}/{{id}}">\n  {{title}}\n</a>\n',this.Templates["main_page.history_items.events"]='{{name}} posted the event <a data-remote\n  href="/{{slug}}/show/{{schema}}/{{id}}">\n  {{title}}\n</a>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/history_items/group_posts"]='{{name}} posted <a data-remote\n  href="/{{slug}}/show/{{schema}}/{{id}}">\n  {{title}}\n</a>\nto {{group_name}}\n',this.Templates["main_page.history_items.group_posts"]='{{name}} posted <a data-remote\n  href="/{{slug}}/show/{{schema}}/{{id}}">\n  {{title}}\n</a>\nto {{group_name}}\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/history_items/posts"]='{{name}} posted <a data-remote\n  href="/{{slug}}/show/{{schema}}/{{id}}">\n  {{title}}\n</a>\n',this.Templates["main_page.history_items.posts"]='{{name}} posted <a data-remote\n  href="/{{slug}}/show/{{schema}}/{{id}}">\n  {{title}}\n</a>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/history_items/replies"]='{{name}} replied to <a data-remote\n  href="/{{slug}}/show/{{repliable_schema}}/{{repliable_id}}">\n  {{title}}\n</a>\n',this.Templates["main_page.history_items.replies"]='{{name}} replied to <a data-remote\n  href="/{{slug}}/show/{{repliable_schema}}/{{repliable_id}}">\n  {{title}}\n</a>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/history_items/transactions"]='{{name}} is selling: <a data-remote\n  href="/{{slug}}/show/{{schema}}/{{id}}">\n  {{title}}\n</a>\n',this.Templates["main_page.history_items.transactions"]='{{name}} is selling: <a data-remote\n  href="/{{slug}}/show/{{schema}}/{{id}}">\n  {{title}}\n</a>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/info-list"]='<a href="#">\n  <img src="{{avatarUrl}}" width="32" height="32">\n  <p>\n    <strong>{{title}}</strong>\n    {{about}}\n  </p>\n</a>\n\n',this.Templates["main_page.info-list"]='<a href="#">\n  <img src="{{avatarUrl}}" width="32" height="32">\n  <p>\n    <strong>{{title}}</strong>\n    {{about}}\n  </p>\n</a>\n\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/landing-resources"]='<div class="wire posts"></div>\n\n<div class="wire events"></div>\n\n<div class="wire announcements"></div>\n\n<div class="wire groupPosts"></div>\n\n',this.Templates["main_page.landing-resources"]='<div class="wire posts"></div>\n\n<div class="wire events"></div>\n\n<div class="wire announcements"></div>\n\n<div class="wire groupPosts"></div>\n\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/loading-resource"]='<div class="loading"></div>\n',this.Templates["main_page.loading-resource"]='<div class="loading"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/main-page"]='<div id="sidebar"></div>\n\n<div id="right-column">\n  <!--<div id="community-resources-spacer"></div>-->\n  <div id="community-resources"></div>\n</div>\n<div id="wire-overlay"></div>\n<div style="clear: both;"></div>\n',this.Templates["main_page.main-page"]='<div id="sidebar"></div>\n\n<div id="right-column">\n  <!--<div id="community-resources-spacer"></div>-->\n  <div id="community-resources"></div>\n</div>\n<div id="wire-overlay"></div>\n<div style="clear: both;"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/post-box"]='<div class="modal-border post-box">\n  <div class="links scroll-pane">\n    <div id="posting_navlinks" class="navigation">\n      <ul class="overview">\n        <li class="request" data-tab="request">\n          <i class="icon"></i>\n          <div class="left">\n            Ask a Question<br />\n            <span>Request help from your neighbors</span>\n          </div>\n        </li>\n        <li class="transaction" data-tab="transaction">\n          <i class="icon"></i>\n          <div class="left">\n            Sell on the Marketplace<br />\n            <span>Post an item (or give it away for free!)</span>\n          </div>   \n        </li>\n        <li class="event" data-tab="event">\n          <i class="icon"></i>\n          <div class="left">\n            Publicize an Event<br />\n            <span>Add to the community\'s events board</span>\n          </div>   \n        </li>\n        <li class="discussion" data-tab="discussion">\n          <i class="icon"></i>\n          <div class="left">\n            Share Community Thoughts<br />\n            <span>\n              {{#isHarvardNeighbors}} \n                Discuss a campus topic with your neighbors\n              {{/isHarvardNeighbors}}    \n\n              {{^isHarvardNeighbors}} \n                Discuss a town topic with your neighbors\n              {{/isHarvardNeighbors}}    \n            </span>\n          </div>\n        </li>        \n        <li class="promote" data-tab="promote">\n          <i class="icon"></i>\n          <div class="left">\n            <h4>{{promote_header}}</h4>\n            <span>\n              {{#isHarvardNeighbors}} \n              Publicize interest group updates\n              {{/isHarvardNeighbors}}    \n\n              {{^isHarvardNeighbors}} \n              Advertise your organization or business\n              {{/isHarvardNeighbors}}    \n\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n    <div class="close">\n      x\n    </div>\n</div>\n',this.Templates["main_page.post-box"]='<div class="modal-border post-box">\n  <div class="links scroll-pane">\n    <div id="posting_navlinks" class="navigation">\n      <ul class="overview">\n        <li class="request" data-tab="request">\n          <i class="icon"></i>\n          <div class="left">\n            Ask a Question<br />\n            <span>Request help from your neighbors</span>\n          </div>\n        </li>\n        <li class="transaction" data-tab="transaction">\n          <i class="icon"></i>\n          <div class="left">\n            Sell on the Marketplace<br />\n            <span>Post an item (or give it away for free!)</span>\n          </div>   \n        </li>\n        <li class="event" data-tab="event">\n          <i class="icon"></i>\n          <div class="left">\n            Publicize an Event<br />\n            <span>Add to the community\'s events board</span>\n          </div>   \n        </li>\n        <li class="discussion" data-tab="discussion">\n          <i class="icon"></i>\n          <div class="left">\n            Share Community Thoughts<br />\n            <span>\n              {{#isHarvardNeighbors}} \n                Discuss a campus topic with your neighbors\n              {{/isHarvardNeighbors}}    \n\n              {{^isHarvardNeighbors}} \n                Discuss a town topic with your neighbors\n              {{/isHarvardNeighbors}}    \n            </span>\n          </div>\n        </li>        \n        <li class="promote" data-tab="promote">\n          <i class="icon"></i>\n          <div class="left">\n            <h4>{{promote_header}}</h4>\n            <span>\n              {{#isHarvardNeighbors}} \n              Publicize interest group updates\n              {{/isHarvardNeighbors}}    \n\n              {{^isHarvardNeighbors}} \n              Advertise your organization or business\n              {{/isHarvardNeighbors}}    \n\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n    <div class="close">\n      x\n    </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/post-help-resources"]='<div class="posts wire">{{>wires.wire}}</div>\n',this.Templates["main_page.post-help-resources"]='<div class="posts wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/post-meetup-resources"]='<div class="posts wire">{{>wires.wire}}</div>\n',this.Templates["main_page.post-meetup-resources"]='<div class="posts wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/post-neighborhood-resources"]='<div class="posts wire">{{>wires.wire}}</div>\n',this.Templates["main_page.post-neighborhood-resources"]='<div class="posts wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/post-offer-resources"]='<div class="posts wire">{{>wires.wire}}</div>\n',this.Templates["main_page.post-offer-resources"]='<div class="posts wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/post-other-resources"]='<div class="posts wire">{{>wires.wire}}</div>\n',this.Templates["main_page.post-other-resources"]='<div class="posts wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/post-publicity-resources"]='<div class="posts wire">{{>wires.wire}}</div>\n',this.Templates["main_page.post-publicity-resources"]='<div class="posts wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/post-resources"]='<div class="no-results"><p>There were no results</p></div>\n<div class="posts wire">{{>wires.wire}}</div>\n',this.Templates["main_page.post-resources"]='<div class="no-results"><p>There were no results</p></div>\n<div class="posts wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/profile-box-list-item"]='<a href="{{wireUrl}}" data-remote>\n  <img src="{{avatarUrl}}" width="32" height="32">\n  <p>\n    <strong>{{title}}</strong>\n    {{about}}\n  </p>\n</a>\n',this.Templates["main_page.profile-box-list-item"]='<a href="{{wireUrl}}" data-remote>\n  <img src="{{avatarUrl}}" width="32" height="32">\n  <p>\n    <strong>{{title}}</strong>\n    {{about}}\n  </p>\n</a>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/profile-history"]='{{#hasHistory}}\n  <h4>Activity</h4><br>\n  <ul class="history">\n    {{#history}}\n      <li>{{{to_html}}}</li>\n    {{/history}}\n  </ul>\n{{/hasHistory}}\n',this.Templates["main_page.profile-history"]='{{#hasHistory}}\n  <h4>Activity</h4><br>\n  <ul class="history">\n    {{#history}}\n      <li>{{{to_html}}}</li>\n    {{/history}}\n  </ul>\n{{/hasHistory}}\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/profile"]="<div></div>\n",this.Templates["main_page.profile"]="<div></div>\n"}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/tour/address"]='<div id="norms" class="address_verif container">\n<div class="registration_border">\n    <h2>Resident of {{community_name}}?</h2>\n    <span class="divider"></span>\n    <p>OurCommonPlace {{community_name}} is just for {{community_name}} residents! Before registering, verify that you live in town<sup>*</sup>.</p>\n    <div id="address">\n      <input name="address" type="input" type="text" class="address" placeholder="Enter your {{community_name}} street address" /><br />\n      <span class="error address"></span>\n    </div>\n    <span id="bypass" class="error" style="display:none">\n      Did we make a mistake? <a href="#" class="confirm">Click here to continue</a>\n    </span>\n    <div id="address_verification" style="display:none">\n      Please confirm your street address:<Br />\n      <input type="radio" id="suggested" checked="checked" name="verify_address" value="suggested" class="address_verify_radio" /> <span class="address_verify_radio">Use the address we have in our system:</span>\n      <div id="suggested_address"></div>\n      <input type="radio" name="verify_address" value="entered" class="address_verify_radio" /> <span class="address_verify_radio">Use the address I typed.</span><br />\n    </div>\n    <p class="caption"><sup>*</sup> We won\'t share your address with anyone</p>\n    <div id="referral_source">\n      <form>\n        <select name="referral_source" id="hear" class="dk" tabindex="1">\n          <option value="placeholder" selected="selected">How did you hear about CommonPlace?</option>\n          {{#referrers}}\n          <option value="{{.}}">{{.}}</option>\n          {{/referrers}}\n        </select>\n      </form>\n      <span class="error referral_source"></span>\n    </div>\n    <div id="referral_metadata">\n      <input name="referral_metadata" type="input" type="text" class="referral_metadata" placeholder="From who?" /><br />\n      <span class="error referral_metadata"></span>\n    </div>\n    <div class="controls">\n      <div class="spinner">\n         <img src=\'/assets/loading-post.gif\' style="border:0px none;outline:none;"/>\n      </div>\n      <div id="find_button">\n         <a href="#" class="blue-button next-button">Confirm</a>\n      </div>\n    </div>\n  </div>\n</div>\n',this.Templates["main_page.tour.address"]='<div id="norms" class="address_verif container">\n<div class="registration_border">\n    <h2>Resident of {{community_name}}?</h2>\n    <span class="divider"></span>\n    <p>OurCommonPlace {{community_name}} is just for {{community_name}} residents! Before registering, verify that you live in town<sup>*</sup>.</p>\n    <div id="address">\n      <input name="address" type="input" type="text" class="address" placeholder="Enter your {{community_name}} street address" /><br />\n      <span class="error address"></span>\n    </div>\n    <span id="bypass" class="error" style="display:none">\n      Did we make a mistake? <a href="#" class="confirm">Click here to continue</a>\n    </span>\n    <div id="address_verification" style="display:none">\n      Please confirm your street address:<Br />\n      <input type="radio" id="suggested" checked="checked" name="verify_address" value="suggested" class="address_verify_radio" /> <span class="address_verify_radio">Use the address we have in our system:</span>\n      <div id="suggested_address"></div>\n      <input type="radio" name="verify_address" value="entered" class="address_verify_radio" /> <span class="address_verify_radio">Use the address I typed.</span><br />\n    </div>\n    <p class="caption"><sup>*</sup> We won\'t share your address with anyone</p>\n    <div id="referral_source">\n      <form>\n        <select name="referral_source" id="hear" class="dk" tabindex="1">\n          <option value="placeholder" selected="selected">How did you hear about CommonPlace?</option>\n          {{#referrers}}\n          <option value="{{.}}">{{.}}</option>\n          {{/referrers}}\n        </select>\n      </form>\n      <span class="error referral_source"></span>\n    </div>\n    <div id="referral_metadata">\n      <input name="referral_metadata" type="input" type="text" class="referral_metadata" placeholder="From who?" /><br />\n      <span class="error referral_metadata"></span>\n    </div>\n    <div class="controls">\n      <div class="spinner">\n         <img src=\'/assets/loading-post.gif\' style="border:0px none;outline:none;"/>\n      </div>\n      <div id="find_button">\n         <a href="#" class="blue-button next-button">Confirm</a>\n      </div>\n    </div>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/tour/create_page"]='<div id="create_page_registration" class="container">\n  <div class="registration_border">\n    {{#isHarvardNeighbors}} \n      <h2 class="civic_title">Your Organization</h2>\n    {{/isHarvardNeighbors}}    \n\n    {{^isHarvardNeighbors}} \n      <h2 class="civic_title">Your Service or Organization</h2>\n    {{/isHarvardNeighbors}}  \n    <span class="divider"></span>\n    <div class="create_page">\n      <img class="profile_pic" src="{{avatarUrl}}" alt="This is your profile photo" />\n      <div id="name">\n        <input type="text" class="name" name="name" placeholder="Business or Organization Name" value="{{pageName}}">\n        <span class="error name"></span>\n      </div>\n      <a hre="#" class="avatar_file_browse">Upload a Photo</a>\n      \n      {{#isHarvardNeighbors}} \n      <textarea rows="2" cols="20" name="about" placeholder="Describe your organization" class="create_page">{{about}}</textarea>\n      {{/isHarvardNeighbors}}    \n\n      {{^isHarvardNeighbors}} \n      <textarea rows="2" cols="20" name="about" placeholder="Describe your business or organization" class="create_page">{{about}}</textarea>\n      {{/isHarvardNeighbors}}    \n\n      <input type="text" name="address" placeholder="Street Address" class="address" value="{{address}}">\n      <input type="text" name="website" placeholder="Website" class="website half" value="{{website}}">\n      <input type="text" name="phone" placeholder="Phone Number" class="phone half" value="{{phone}}">\n      {{^isHarvardNeighbors}}\n         <form>\n           <select name="page_kind" class="dk" tabindex="1">\n             <option value="">What type of business/organization is this?&nbsp;&nbsp;&nbsp;&nbsp;</option>\n             <option value="0">A non-profit</option>\n             <option value="1">A community group</option>\n             <option value="2">A business</option>\n             <option value="3">A muncipal entity</option>\n             <option value="4">A newspaper, news service, or news blog</option>\n             <option value="5">Other</option>\n           </select>\n         </form>\n         <span class="error kind"></span>\n       {{/isHarvardNeighbors}}\n      <input name="rss" value="{{rss}}" type="text" placeholder="Your RSS feed">\n    </div>\n    <div class="controls">\n       <div class="spinner">\n          <img src=\'/assets/loading-post.gif\' />\n       </div>\n       <div id="civic_button">\n         <a href="#" class="blue-button next-button">Continue</a>\n       </div>\n       <a href="#" class="cancel cancel-button">Cancel</a>\n     </div>\n  </div>\n</div>\n',this.Templates["main_page.tour.create_page"]='<div id="create_page_registration" class="container">\n  <div class="registration_border">\n    {{#isHarvardNeighbors}} \n      <h2 class="civic_title">Your Organization</h2>\n    {{/isHarvardNeighbors}}    \n\n    {{^isHarvardNeighbors}} \n      <h2 class="civic_title">Your Service or Organization</h2>\n    {{/isHarvardNeighbors}}  \n    <span class="divider"></span>\n    <div class="create_page">\n      <img class="profile_pic" src="{{avatarUrl}}" alt="This is your profile photo" />\n      <div id="name">\n        <input type="text" class="name" name="name" placeholder="Business or Organization Name" value="{{pageName}}">\n        <span class="error name"></span>\n      </div>\n      <a hre="#" class="avatar_file_browse">Upload a Photo</a>\n      \n      {{#isHarvardNeighbors}} \n      <textarea rows="2" cols="20" name="about" placeholder="Describe your organization" class="create_page">{{about}}</textarea>\n      {{/isHarvardNeighbors}}    \n\n      {{^isHarvardNeighbors}} \n      <textarea rows="2" cols="20" name="about" placeholder="Describe your business or organization" class="create_page">{{about}}</textarea>\n      {{/isHarvardNeighbors}}    \n\n      <input type="text" name="address" placeholder="Street Address" class="address" value="{{address}}">\n      <input type="text" name="website" placeholder="Website" class="website half" value="{{website}}">\n      <input type="text" name="phone" placeholder="Phone Number" class="phone half" value="{{phone}}">\n      {{^isHarvardNeighbors}}\n         <form>\n           <select name="page_kind" class="dk" tabindex="1">\n             <option value="">What type of business/organization is this?&nbsp;&nbsp;&nbsp;&nbsp;</option>\n             <option value="0">A non-profit</option>\n             <option value="1">A community group</option>\n             <option value="2">A business</option>\n             <option value="3">A muncipal entity</option>\n             <option value="4">A newspaper, news service, or news blog</option>\n             <option value="5">Other</option>\n           </select>\n         </form>\n         <span class="error kind"></span>\n       {{/isHarvardNeighbors}}\n      <input name="rss" value="{{rss}}" type="text" placeholder="Your RSS feed">\n    </div>\n    <div class="controls">\n       <div class="spinner">\n          <img src=\'/assets/loading-post.gif\' />\n       </div>\n       <div id="civic_button">\n         <a href="#" class="blue-button next-button">Continue</a>\n       </div>\n       <a href="#" class="cancel cancel-button">Cancel</a>\n     </div>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/tour/email"]='<div id="register" class="register_email container">\n<div class="registration_border">\n  <h2>Sign Up</h2>\n  <span class="divider"></span>\n  <p class="intro">We need to verify that you live in {{community_name}}! Sign up now to share goods, services and events with your neighbors and connect with local organizations. To learn more, <a href="{{community_name}}/about" target="_blank">click here</a>.</p>\n  <form class="registration" id="registration1">\n    <div id="full_name">\n      <input name="full_name" class="name" type="text" placeholder="Full Name" />\n      <span class="error full_name"></span>\n    </div>\n    <div id="email">\n      <input class="email" type="email" name="email" placeholder="Email Address" />\n      <span class="error email"></span>\n    </div>\n    <div id="password">\n      <input class="password" type="password" name="password" placeholder="Create Password" /><br />\n      <span class="error password"></span>\n    </div>\n    <button class="next-button">Register Now!</button></form>\n    <div class="facebook">\n      <p>Or you can:</p>\n      <a href="#">Facebook</a>\n    </div>\n  </form>\n</div>\n<div class="close">X</div>\n</div>\n',this.Templates["main_page.tour.email"]='<div id="register" class="register_email container">\n<div class="registration_border">\n  <h2>Sign Up</h2>\n  <span class="divider"></span>\n  <p class="intro">We need to verify that you live in {{community_name}}! Sign up now to share goods, services and events with your neighbors and connect with local organizations. To learn more, <a href="{{community_name}}/about" target="_blank">click here</a>.</p>\n  <form class="registration" id="registration1">\n    <div id="full_name">\n      <input name="full_name" class="name" type="text" placeholder="Full Name" />\n      <span class="error full_name"></span>\n    </div>\n    <div id="email">\n      <input class="email" type="email" name="email" placeholder="Email Address" />\n      <span class="error email"></span>\n    </div>\n    <div id="password">\n      <input class="password" type="password" name="password" placeholder="Create Password" /><br />\n      <span class="error password"></span>\n    </div>\n    <button class="next-button">Register Now!</button></form>\n    <div class="facebook">\n      <p>Or you can:</p>\n      <a href="#">Facebook</a>\n    </div>\n  </form>\n</div>\n<div class="close">X</div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/tour/feed-item"]='<li class="check">\n  <img class="avatar-container" src="{{avatar_url}}" />\n  <div class="description-container">\n     <h4>{{feed_name}}</h4>\n     <span class="page_text">{{feed_about}}</span>\n  </div>\n  <input type="checkbox" name="feeds_list" value="{{feed_id}}">\n</li>\n',this.Templates["main_page.tour.feed-item"]='<li class="check">\n  <img class="avatar-container" src="{{avatar_url}}" />\n  <div class="description-container">\n     <h4>{{feed_name}}</h4>\n     <span class="page_text">{{feed_about}}</span>\n  </div>\n  <input type="checkbox" name="feeds_list" value="{{feed_id}}">\n</li>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/tour/group-item"]='<li class="check">\n  <img class="avatar-container" src="{{avatar_url}}" />\n  <div class="description-container">\n     <h4>{{group_name}}</h4>\n     <span class="page_text">{{group_about}}</span>\n  </div>\n  <input type="checkbox" name="groups_list" value="{{group_id}}">\n</li>\n',this.Templates["main_page.tour.group-item"]='<li class="check">\n  <img class="avatar-container" src="{{avatar_url}}" />\n  <div class="description-container">\n     <h4>{{group_name}}</h4>\n     <span class="page_text">{{group_about}}</span>\n  </div>\n  <input type="checkbox" name="groups_list" value="{{group_id}}">\n</li>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/tour/modal"]='<div id="tour">\n  <div id="current-tour-page"></div>\n  <div id="next-tour-page"></div>\n</div>\n',this.Templates["main_page.tour.modal"]='<div id="tour">\n  <div id="current-tour-page"></div>\n  <div id="next-tour-page"></div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/tour/neighbors"]='<div id="RealFindNeighbors" class="container">\n  <div class="registration_border">\n     <h2 class="find_title">How Many Neighbors Do You Know?</h2>\n\n     <div class="find_known">You currently know 4 neighbors in {{community_name}}</div>\n\n     <div class="find_steps">\n       <p>1. Use Facebook or Gmail to add your friends from {{community_name}} to CommonPlace:</p>\n       <div id="buttons">\n         <a href="#"><img src="/assets/shared/redesign/fb.png">&nbsp;&nbsp;Facebook</a>\n         <a href="#"><img src="/assets/shared/redesign/gmail.png">&nbsp;&nbsp;Gmail</a>\t\t\n       </div>\n       <br /><br />\n       <p>2. Name some people you know that live around Highland Avenue</p>\n       <input type="text" id="search" class="findneighbors_search">\n       <br /><br />\n       <p>3. Name some people you know that are part of The Rotary Club of {{community_name}}</p>\n       <input type="text" id="search" class="findneighbors_search">\t\n       <br /><br />\n       <p>4. Name some people you know that are part of The {{community_name}} Beekeeper\'s Society</p>\n         <input type="text" id="search" class="findneighbors_search">\t\n     </div>\t\n\n     <div id="find_bottom">\n       <div id="invite_friends">\n         <p>Can we invite your friends to join CommonPlace?</p>\n           <ul>\n             <li><input type="radio" name="business" value="yes">Yes</li>\n             <li><input type="radio" name="business" value="no">No</li>\n           </ul>\n       </div>\n       <div id="find_button">\n         <a href="#" class="blue-button next-button">Continue</a>\n       </div>\n     </div>\n  </div>\n</div>\n',this.Templates["main_page.tour.neighbors"]='<div id="RealFindNeighbors" class="container">\n  <div class="registration_border">\n     <h2 class="find_title">How Many Neighbors Do You Know?</h2>\n\n     <div class="find_known">You currently know 4 neighbors in {{community_name}}</div>\n\n     <div class="find_steps">\n       <p>1. Use Facebook or Gmail to add your friends from {{community_name}} to CommonPlace:</p>\n       <div id="buttons">\n         <a href="#"><img src="/assets/shared/redesign/fb.png">&nbsp;&nbsp;Facebook</a>\n         <a href="#"><img src="/assets/shared/redesign/gmail.png">&nbsp;&nbsp;Gmail</a>\t\t\n       </div>\n       <br /><br />\n       <p>2. Name some people you know that live around Highland Avenue</p>\n       <input type="text" id="search" class="findneighbors_search">\n       <br /><br />\n       <p>3. Name some people you know that are part of The Rotary Club of {{community_name}}</p>\n       <input type="text" id="search" class="findneighbors_search">\t\n       <br /><br />\n       <p>4. Name some people you know that are part of The {{community_name}} Beekeeper\'s Society</p>\n         <input type="text" id="search" class="findneighbors_search">\t\n     </div>\t\n\n     <div id="find_bottom">\n       <div id="invite_friends">\n         <p>Can we invite your friends to join CommonPlace?</p>\n           <ul>\n             <li><input type="radio" name="business" value="yes">Yes</li>\n             <li><input type="radio" name="business" value="no">No</li>\n           </ul>\n       </div>\n       <div id="find_button">\n         <a href="#" class="blue-button next-button">Continue</a>\n       </div>\n     </div>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/tour/profile"]='<div id="civicProfile" class="container">\n  <div class="registration_border">\n    <h2 class="civic_title">Fill Out Your Profile</h2>\n    <span class="divider"></span>\n    <div class="civic">\n      <img class="profile_pic" src="{{avatar_url}}" alt="This is your profile photo" />\n      <input type="text" class="name" name="name" placeholder="Full Name">\n      <div class="not-facebook">\n        <a href="#" class="avatar_file_browse">Upload a Photo</a>\n        <a href="#"><img class="facebook" src="/assets/shared/redesign/use_facebook.png" alt="Connect with Facebook" /></a>\n      </div>\n\n      <textarea rows="2" cols="20" name="about" placeholder="Tell your neighbors something about yourself..." class="civic_profile"></textarea>\n      <br />\n      <input type="text" name="organizations" placeholder="What organizations are you part of?" class="civic_orgs">\n      <br />\n\n      {{^isHarvardNeighbors}}\n      <div class="org">\n        <p>Would you like to promote your business, organization, or service on CommonPlace?</p>\n        <input type="radio" name="org" id="yes">\n        <label class="org_yes" for="yes">Yes</label>\n        <input type="radio" name="org" id="no">\n        <label class="org_no" for="no">No</label>\n      </div>\n      {{/isHarvardNeighbors}}\n    </div>\n    <div class="controls">\n       <div class="spinner">\n          <img src=\'/assets/loading-post.gif\' />\n       </div>\n       <div id="civic_button">\n          <a href="#" class="blue-button next-button">Continue</a>\n       </div>\n     </div>\n  </div>\n</div>\n',this.Templates["main_page.tour.profile"]='<div id="civicProfile" class="container">\n  <div class="registration_border">\n    <h2 class="civic_title">Fill Out Your Profile</h2>\n    <span class="divider"></span>\n    <div class="civic">\n      <img class="profile_pic" src="{{avatar_url}}" alt="This is your profile photo" />\n      <input type="text" class="name" name="name" placeholder="Full Name">\n      <div class="not-facebook">\n        <a href="#" class="avatar_file_browse">Upload a Photo</a>\n        <a href="#"><img class="facebook" src="/assets/shared/redesign/use_facebook.png" alt="Connect with Facebook" /></a>\n      </div>\n\n      <textarea rows="2" cols="20" name="about" placeholder="Tell your neighbors something about yourself..." class="civic_profile"></textarea>\n      <br />\n      <input type="text" name="organizations" placeholder="What organizations are you part of?" class="civic_orgs">\n      <br />\n\n      {{^isHarvardNeighbors}}\n      <div class="org">\n        <p>Would you like to promote your business, organization, or service on CommonPlace?</p>\n        <input type="radio" name="org" id="yes">\n        <label class="org_yes" for="yes">Yes</label>\n        <input type="radio" name="org" id="no">\n        <label class="org_no" for="no">No</label>\n      </div>\n      {{/isHarvardNeighbors}}\n    </div>\n    <div class="controls">\n       <div class="spinner">\n          <img src=\'/assets/loading-post.gif\' />\n       </div>\n       <div id="civic_button">\n          <a href="#" class="blue-button next-button">Continue</a>\n       </div>\n     </div>\n  </div>\n</div>\n'
}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/tour/rules"]='<div id="norms" class="container">\n  <div class="registration_border">\n    <h2 class="norms_title">Our Community Culture</h2>\n    <span class="divider"></span>\n    <p>To keep our community strong, we encourage three norms:</p>\n    <ol id="rules">\n      <li>\n        <img src="../assets/shared/redesign/norms-1.png" alt="Be Yourself" title="Be Yourself" />\n        <p><strong>1. Be yourself.</strong> Use your real name. Add a photo so people can recognize you!</p>\n      </li>\n      <li>\n        <img src="../assets/shared/redesign/norms-2.png" alt="Give, don\'t just take" title="Give, don\'t just take" />\n        <p><strong>2. Help others.</strong> Try to give your neighborhood great things as much as you ask for them. If you want to grow your business, please register a community page.</p>\n      </li>\n      <li>\n        <img src="../assets/shared/redesign/norms-3.png" alt="Stay neighborly" title="Stay neighborly" />\n        <p><strong>3. Stay neighborly.</strong> Please, please be kind to your neighbors! Avoid saying anything you wouldn\'t feel comfortable saying in person.</p>\n      </li>\n    </ol>\n\n    <p>If you feel anyone is violating these norms, click "Flag" next to their post.</p>\n\n    <div class="controls">\n       <div class="spinner">\n          <img src=\'/assets/loading-post.gif\' />\n       </div>\n       <div id="norms_button">\n          <a href="#" class="blue-button next-button">I Agree</a>\n       </div>\n     </div>\n  </div>\n</div>\n',this.Templates["main_page.tour.rules"]='<div id="norms" class="container">\n  <div class="registration_border">\n    <h2 class="norms_title">Our Community Culture</h2>\n    <span class="divider"></span>\n    <p>To keep our community strong, we encourage three norms:</p>\n    <ol id="rules">\n      <li>\n        <img src="../assets/shared/redesign/norms-1.png" alt="Be Yourself" title="Be Yourself" />\n        <p><strong>1. Be yourself.</strong> Use your real name. Add a photo so people can recognize you!</p>\n      </li>\n      <li>\n        <img src="../assets/shared/redesign/norms-2.png" alt="Give, don\'t just take" title="Give, don\'t just take" />\n        <p><strong>2. Help others.</strong> Try to give your neighborhood great things as much as you ask for them. If you want to grow your business, please register a community page.</p>\n      </li>\n      <li>\n        <img src="../assets/shared/redesign/norms-3.png" alt="Stay neighborly" title="Stay neighborly" />\n        <p><strong>3. Stay neighborly.</strong> Please, please be kind to your neighbors! Avoid saying anything you wouldn\'t feel comfortable saying in person.</p>\n      </li>\n    </ol>\n\n    <p>If you feel anyone is violating these norms, click "Flag" next to their post.</p>\n\n    <div class="controls">\n       <div class="spinner">\n          <img src=\'/assets/loading-post.gif\' />\n       </div>\n       <div id="norms_button">\n          <a href="#" class="blue-button next-button">I Agree</a>\n       </div>\n     </div>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/tour/subscribe"]='<div id="findNeighbors" class="container">\n\t<div class="registration_border">\n      <h2 class="find_title">Subscribe To Some Pages</h2>\n      <ul class="subscribe_categories">\n        {{#categories}}\n      \t<li><a href="#{{id}}">{{name}}</a></li>\n        {{/categories}}\n      </ul>\n      <span class="divider"></span>\n      <div id="subscribe_pages">\n        {{#categories}}\n        <div class="page_category" id="{{id}}">\n          <a name="{{id}}"><h3>{{name}}</h2></a>\n          <ul class="subscribe_pages {{id}}"></ul>\n        </div>\n        {{/categories}}\n      </div>\n\n      <div id="find_bottom">\n      <!--<div id="invite_friends">\n      \t<p>Are you running an organization? <br /><a href="#" class="subscribe_create">Create A New Page</a></p>\n      </div>-->\n      <div class="controls">\n         <div class="spinner">\n            <img src=\'/assets/loading-post.gif\' />\n         </div>\n         <div id="find_button">\n            <a href="#" class="blue-button next-button">Continue</a>\n         </div>\n      </div>\n  </div>\n</div>\n',this.Templates["main_page.tour.subscribe"]='<div id="findNeighbors" class="container">\n\t<div class="registration_border">\n      <h2 class="find_title">Subscribe To Some Pages</h2>\n      <ul class="subscribe_categories">\n        {{#categories}}\n      \t<li><a href="#{{id}}">{{name}}</a></li>\n        {{/categories}}\n      </ul>\n      <span class="divider"></span>\n      <div id="subscribe_pages">\n        {{#categories}}\n        <div class="page_category" id="{{id}}">\n          <a name="{{id}}"><h3>{{name}}</h2></a>\n          <ul class="subscribe_pages {{id}}"></ul>\n        </div>\n        {{/categories}}\n      </div>\n\n      <div id="find_bottom">\n      <!--<div id="invite_friends">\n      \t<p>Are you running an organization? <br /><a href="#" class="subscribe_create">Create A New Page</a></p>\n      </div>-->\n      <div class="controls">\n         <div class="spinner">\n            <img src=\'/assets/loading-post.gif\' />\n         </div>\n         <div id="find_button">\n            <a href="#" class="blue-button next-button">Continue</a>\n         </div>\n      </div>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/tour/welcome"]='<div class="welcome">\n  <h4>Welcome to</h4>\n  <h3>{{community_name}}</h3>\n  <div class="white-box">\n    <p>Congratulations {{first_name}}! You\'re in.</p>\n  </div>\n  <div class="bottom">\n     <p class="welcome-divider">Use OurCommonPlace to:</p>\n     <ul>\n       <li>Share needs and announcements with your neighbors</li>\n       <li>Meet your neighbors and find great local organizations</li>\n       <li>Discover great ways to get involved in the community</li>\n     </ul>\n     <div class="welcome_button">\n      <input class="next-button blue-button" type="button" value="Fill Out My Profile" />\n      <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n     </div>\n  </div>\n</div>\n',this.Templates["main_page.tour.welcome"]='<div class="welcome">\n  <h4>Welcome to</h4>\n  <h3>{{community_name}}</h3>\n  <div class="white-box">\n    <p>Congratulations {{first_name}}! You\'re in.</p>\n  </div>\n  <div class="bottom">\n     <p class="welcome-divider">Use OurCommonPlace to:</p>\n     <ul>\n       <li>Share needs and announcements with your neighbors</li>\n       <li>Meet your neighbors and find great local organizations</li>\n       <li>Discover great ways to get involved in the community</li>\n     </ul>\n     <div class="welcome_button">\n      <input class="next-button blue-button" type="button" value="Fill Out My Profile" />\n      <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n     </div>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/tour/wire"]='\n<p>{{#t}}p1{{/t}}</p>\n\n\n<a class="profile-tour"></a>\n',this.Templates["main_page.tour.wire"]='\n<p>{{#t}}p1{{/t}}</p>\n\n\n<a class="profile-tour"></a>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/transaction-resources"]='<div class="no-results"><p>There were no results</p></div>\n<div class="transactions wire">{{>wires.wire}}</div>\n',this.Templates["main_page.transaction-resources"]='<div class="no-results"><p>There were no results</p></div>\n<div class="transactions wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/user-profile"]='<div class="spacing">\n  <div class="profile-main">\n    <h3>{{fullName}}</h3>\n    <img src="{{avatarUrl}}" width="122" />\n    <div class="profile-top">\n      <p>\n      <span class="profile-number">{{post_count}}</span><br />\n      <span class="profile-title">Posts</span><br />\n      </p>\n      <p>\n      <span class="profile-number">{{reply_count}}</span><br />\n      <span class="profile-title">Replies</span><br />\n      </p>\n      <p>\n      <div class="box-links">\n      <a href="#" class="gray-button message">Send a Message</a>\n      {{^hasMet}}\n        <a href="#" class="gray-button meet">Have You Met?</a>\n        <a class="gray-button just-met" style="display: none;">You\'ve Met!</a>\n      {{/hasMet}}\n      {{#hasMet}}<a href="#" class="gray-button unmeet">Don\'t Know Them?</a>{{/hasMet}}\n  </div>\n    </div>\n\n  </div>\n  <div class="profile-data">\n    {{#hasAbout}}\n      <div>\n        <h4>About</h4>\n        <div class="about">{{#markdown}}{{about}}{{/markdown}}</div>\n      </div>\n    {{/hasAbout}}\n    {{#hasInterests}}\n      <div>\n        <h4>Interests</h4>\n        <ul>\n          {{#interests}}<li class="interest">{{.}}</li>{{/interests}}\n        </ul>\n      </div>\n    {{/hasInterests}}\n    {{#hasSkills}}\n      <div>\n        <h4>Skills</h4>\n        <ul>\n          {{#skills}}<li class="interest">{{.}}</li>{{/skills}}\n        </ul>\n      </div>\n    {{/hasSkills}}\n    {{#hasGoods}}\n      <div>\n        <h4>Goods</h4>\n        <ul>\n          {{#goods}}<li class="interest">{{.}}</li>{{/goods}}\n        </ul>\n      </div>\n    {{/hasGoods}}\n    <div class="profile-history">\n    </div>\n  </ul>\n</div>\n',this.Templates["main_page.user-profile"]='<div class="spacing">\n  <div class="profile-main">\n    <h3>{{fullName}}</h3>\n    <img src="{{avatarUrl}}" width="122" />\n    <div class="profile-top">\n      <p>\n      <span class="profile-number">{{post_count}}</span><br />\n      <span class="profile-title">Posts</span><br />\n      </p>\n      <p>\n      <span class="profile-number">{{reply_count}}</span><br />\n      <span class="profile-title">Replies</span><br />\n      </p>\n      <p>\n      <div class="box-links">\n      <a href="#" class="gray-button message">Send a Message</a>\n      {{^hasMet}}\n        <a href="#" class="gray-button meet">Have You Met?</a>\n        <a class="gray-button just-met" style="display: none;">You\'ve Met!</a>\n      {{/hasMet}}\n      {{#hasMet}}<a href="#" class="gray-button unmeet">Don\'t Know Them?</a>{{/hasMet}}\n  </div>\n    </div>\n\n  </div>\n  <div class="profile-data">\n    {{#hasAbout}}\n      <div>\n        <h4>About</h4>\n        <div class="about">{{#markdown}}{{about}}{{/markdown}}</div>\n      </div>\n    {{/hasAbout}}\n    {{#hasInterests}}\n      <div>\n        <h4>Interests</h4>\n        <ul>\n          {{#interests}}<li class="interest">{{.}}</li>{{/interests}}\n        </ul>\n      </div>\n    {{/hasInterests}}\n    {{#hasSkills}}\n      <div>\n        <h4>Skills</h4>\n        <ul>\n          {{#skills}}<li class="interest">{{.}}</li>{{/skills}}\n        </ul>\n      </div>\n    {{/hasSkills}}\n    {{#hasGoods}}\n      <div>\n        <h4>Goods</h4>\n        <ul>\n          {{#goods}}<li class="interest">{{.}}</li>{{/goods}}\n        </ul>\n      </div>\n    {{/hasGoods}}\n    <div class="profile-history">\n    </div>\n  </ul>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["main_page/user-wire-resources"]='<div class="user-wire wire">{{>wires.wire}}</div>\n',this.Templates["main_page.user-wire-resources"]='<div class="user-wire wire">{{>wires.wire}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["mobile/imin"]='<div id="place">{{title}}</div>\n<div id="venue">{{venue}}</div>\n<div id="top">\n    <div id="in">I\'m in!</div>\n</div>\n<div id="feed">\n<div id="header">Here\'s what your neighbors are saying:</div>\n{{#notes}}\n    <div class="note">\n        <div class="author">{{author}}</div>\n        <div class="timestamp">{{timestamp}}</div>\n        <div class="message">{{body}}</div>\n    </div>\n{{/notes}}\n',this.Templates["mobile.imin"]='<div id="place">{{title}}</div>\n<div id="venue">{{venue}}</div>\n<div id="top">\n    <div id="in">I\'m in!</div>\n</div>\n<div id="feed">\n<div id="header">Here\'s what your neighbors are saying:</div>\n{{#notes}}\n    <div class="note">\n        <div class="author">{{author}}</div>\n        <div class="timestamp">{{timestamp}}</div>\n        <div class="message">{{body}}</div>\n    </div>\n{{/notes}}\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["mobile/landing"]='<div id="header">Welcome to CommonPlace!</div>\n<div id="login"><a id="login" href="#">Log in</a></div>\n<div id="or">or</div>\n<div id="register"><a id="register" href="#">Register</a></div>\n',this.Templates["mobile.landing"]='<div id="header">Welcome to CommonPlace!</div>\n<div id="login"><a id="login" href="#">Log in</a></div>\n<div id="or">or</div>\n<div id="register"><a id="register" href="#">Register</a></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["mobile/login"]='<div id="message" style="display: none">\n    Sorry, your email or password was incorrect. <a href="#" id="register">Click here</a> to register.\n</div>\n<div id="login_form">\n<form id="login_form">\n    <input id="email" name="email" type="text" placeholder="Email"/>\n    <input id="password" name="password" type="password" placeholder="Password"/>\n    <input type="submit" name="submit" value="Login"/>\n</form>\n</div>\n<div id="facebook">or... <a id="fb_button" href="/users/auth/facebook">Log in with Facebook</a></div>\n',this.Templates["mobile.login"]='<div id="message" style="display: none">\n    Sorry, your email or password was incorrect. <a href="#" id="register">Click here</a> to register.\n</div>\n<div id="login_form">\n<form id="login_form">\n    <input id="email" name="email" type="text" placeholder="Email"/>\n    <input id="password" name="password" type="password" placeholder="Password"/>\n    <input type="submit" name="submit" value="Login"/>\n</form>\n</div>\n<div id="facebook">or... <a id="fb_button" href="/users/auth/facebook">Log in with Facebook</a></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["mobile/mobile-view"]="\nhello {{hello}}\n",this.Templates["mobile.mobile-view"]="\nhello {{hello}}\n"}(this),function(){this.Templates||(this.Templates={}),this.Templates["mobile/recommendations"]='<div id="welcome">Welcome, {{user}}!</div>\n<div id="header">Where are you?</div>\n{{#recommendations}}\n    <div class="recommendation" data-id="{{id}}">\n    <div class="rec_title">{{title}}</div>\n    <div class="rec_venue">{{venue}}</div>\n    <div class="distance">{{distance}}</div>\n    </div>\n{{/recommendations}}\n',this.Templates["mobile.recommendations"]='<div id="welcome">Welcome, {{user}}!</div>\n<div id="header">Where are you?</div>\n{{#recommendations}}\n    <div class="recommendation" data-id="{{id}}">\n    <div class="rec_title">{{title}}</div>\n    <div class="rec_venue">{{venue}}</div>\n    <div class="distance">{{distance}}</div>\n    </div>\n{{/recommendations}}\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["mobile/register"]='<div id="errors"></div>\n<div id="register_form">\n<form name="register">\n    <input type="text" name="full_name" id="full_name" placeholder="Full Name" />\n    <input type="text" name="email" id="email" placeholder="Email" />\n    <input type="text" name="address1" id="address1" placeholder="Street Address Line 1" />\n    <input type="text" name="address2" id="address2" placeholder="Street Address Line 2" />\n    <input type="password" name="password" id="password" placeholder="Password" />\n    <input type="password" name="password2" id="password2" placeholder="Repeat Password" />\n    <input type="submit" value="Register for CommonPlace" />\n</form>\n</div>\n<div id="facebook">or... <a id="fb_button" href="/users/auth/facebook">Log in with Facebook</a></div>\n',this.Templates["mobile.register"]='<div id="errors"></div>\n<div id="register_form">\n<form name="register">\n    <input type="text" name="full_name" id="full_name" placeholder="Full Name" />\n    <input type="text" name="email" id="email" placeholder="Email" />\n    <input type="text" name="address1" id="address1" placeholder="Street Address Line 1" />\n    <input type="text" name="address2" id="address2" placeholder="Street Address Line 2" />\n    <input type="password" name="password" id="password" placeholder="Password" />\n    <input type="password" name="password2" id="password2" placeholder="Repeat Password" />\n    <input type="submit" value="Register for CommonPlace" />\n</form>\n</div>\n<div id="facebook">or... <a id="fb_button" href="/users/auth/facebook">Log in with Facebook</a></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["mobile/write_note"]='<div id="write_note_form">\n<form id="write_note" name="write_note">\n    <div id="message_box"><textarea id="message" name="message" placeholder="Leave a note..."></textarea></div>\n    <input id="submit" type="submit" value="Post">\n</form>\n<div id="progress" style="display:none">Loading...</div>\n</div>\n<div id="thanks" style="display:none">Thanks for posting a note!</div>\n\n',this.Templates["mobile.write_note"]='<div id="write_note_form">\n<form id="write_note" name="write_note">\n    <div id="message_box"><textarea id="message" name="message" placeholder="Leave a note..."></textarea></div>\n    <input id="submit" type="submit" value="Post">\n</form>\n<div id="progress" style="display:none">Loading...</div>\n</div>\n<div id="thanks" style="display:none">Thanks for posting a note!</div>\n\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["organizer_app/community-file"]='<div id="title">{{name}}</div>\n',this.Templates["organizer_app.community-file"]='<div id="title">{{name}}</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["organizer_app/feed-picker"]='<div id="feed-picker-filters">\n<button id="new-resident">New Resident</button>\n<button id="todo-list">Todo List</button>\n<button id="statistics-charts">Charts</button>\n<HR>\n<button id="files">Back</button>\n<HR>\n  <input type="text" placeholder="search" id="query-input" size=25>\n  <button id="search-button">Search</button>\n  <select id="query-select">\n    <option value="last name">by last name</option>\n    <option>by full name</option>\n    <option value="first name">by first name</option>\n    <option value="email">by e-mail</option>\n    <option value="address">by address</option>\n    <option value="notes">by notes</option>\n  </select>\n<HR>\n\n<button id="prev">Prev</button>Page: <label id="pg_num"></label><button id="next">Next</button>\n<br>\n&nbsp;&nbsp;&nbsp; Amount: <label id="amount" name="amount">Counting...</label>\nTotal: <label id="total" name="total"></label>\n</div>\n\n<ul id="file-picker-list" style= "list-style:none; ">\n<li>Loading...</li>\n</ul>\n',this.Templates["organizer_app.feed-picker"]='<div id="feed-picker-filters">\n<button id="new-resident">New Resident</button>\n<button id="todo-list">Todo List</button>\n<button id="statistics-charts">Charts</button>\n<HR>\n<button id="files">Back</button>\n<HR>\n  <input type="text" placeholder="search" id="query-input" size=25>\n  <button id="search-button">Search</button>\n  <select id="query-select">\n    <option value="last name">by last name</option>\n    <option>by full name</option>\n    <option value="first name">by first name</option>\n    <option value="email">by e-mail</option>\n    <option value="address">by address</option>\n    <option value="notes">by notes</option>\n  </select>\n<HR>\n\n<button id="prev">Prev</button>Page: <label id="pg_num"></label><button id="next">Next</button>\n<br>\n&nbsp;&nbsp;&nbsp; Amount: <label id="amount" name="amount">Counting...</label>\nTotal: <label id="total" name="total"></label>\n</div>\n\n<ul id="file-picker-list" style= "list-style:none; ">\n<li>Loading...</li>\n</ul>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["organizer_app/feed-viewer"]='<div id="feed-viewer">\n  <h3 id="name">\n    {{name}}\n  </h3>\n  <input id="email" type="text" placeholder="New owner\'s email">\n  <button id="transfer">Transfer Feed</button>\n  <HR>\n  Feed Owner: {{feed_owner}}\n  <br>\n  Number of Subscribers: {{subscribers_count}}\n  <br>\n</div>\n',this.Templates["organizer_app.feed-viewer"]='<div id="feed-viewer">\n  <h3 id="name">\n    {{name}}\n  </h3>\n  <input id="email" type="text" placeholder="New owner\'s email">\n  <button id="transfer">Transfer Feed</button>\n  <HR>\n  Feed Owner: {{feed_owner}}\n  <br>\n  Number of Subscribers: {{subscribers_count}}\n  <br>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["organizer_app/file-picker"]='<!-- What in blazes is this for anyway?\n<script  type="text/javascript">\nvar ids=new Array();\nvar currentid=1;\nfunction show(id){\nif(ids.indexOf(id)>=0){\n  //console.log(id+"is in");\n  return;\n}\nelse{\n  ids.push(id);\n  var newid=++currentid;\n  var newselect=$("<br><select id=\\"haveornot\\" name=\\"haveornot\\" ><option value=yes selected=true> Have<option value=no> Not</select><select id=\\""+newid+"\\" name=\\"filter-tags\\" style=\\"width:130px\\" onchange=\\"show(this.id)\\"><option value=\'\'>Choose a tag</option> {{#dropdowns}}<option value=\\"{{tag}}\\">{{val}}{{/dropdowns}}</select>");\nnewselect.insertBefore("#filter");\n  if(newid==2){\n    $("<br>").insertAfter("#1");\n  }\n}\n}\n</script>\n//-->\n\n<div id="file-picker-filters">\n<button id="new-resident">New Resident</button>\n<button id="todo-list">Todo List</button>\n<button id="statistics-charts">Charts</button>\n<HR>\n<button id="merge">Merge</button>\n<button id="feeds">Feeds</button>\n<HR>\n  <input type="text" placeholder="search" id="query-input" size=25>\n  <button id="search-button">Search</button>\n  <select id="query-select">\n    <option value="last name">by last name</option>\n    <option>by full name</option>\n    <option value="first name">by first name</option>\n    <option value="email">by e-mail</option>\n    <option value="address">by address</option>\n    <option value="notes">by notes</option>\n  </select>\n<HR>\n  <label id="haveornot" name="haveornot" style="width:77px">Has</label>\n<select id="1" multiple="true" class="list" name="filter-tags" data-placeholder="Choose a tag" style="width:200px">\n  {{#dropdowns}}\n    <option value="{{tag}}" > {{val}} </option>\n  {{/dropdowns}}\n</select>\n\n<br>\n  <label id="haveornot" name="haveornot" style="width:77px">No</label>\n<select id="2" multiple="true" class="list" name="filter-tags" data-placeholder="Choose a tag" style="width:200px">\n  {{#dropdowns}}\n    <option value="{{tag}}" > {{val}} </option>\n  {{/dropdowns}}\n</select>\n\n<button id="filter">Filter</button><br>\n\n<select id="order">\n  <option value=time>Recent</option>\n  <option value=quantity>Quantity</option>\n</select>\n <select id="order-tags" name="order-tags" style="width:130px">\n  <option>Choose a tag</option>\n  {{#dropdowns}}\n        <option value="{{tag}}" > {{val}} </option>\n  {{/dropdowns}}\n</select>\n  <button id="filter-order">Order by</button>\n<HR>\n<select class="list" id="tag-list" style="width:198px">\n  <option></option>\n   {{#tags}}\n     <option class="tag-adding" value="{{.}}">{{.}}</option>\n  {{/tags}}\n</select>\n<button id="add-tag">Add tag</button>\n<button id="server-tag">Add tag to all filtered</button>\n<HR>\n\n<button id="prev">Prev</button>Page: <label id="pg_num"></label><button id="next">Next</button>\n<br>\n<input type="checkbox" id="check-all">Check all shown</input>\n&nbsp;&nbsp;&nbsp; Amount: <label id="amount" name="amount">Counting...</label>\nTotal: <label id="total" name="total"></label>\n</div>\n\n<ul id="file-picker-list" style= "list-style:none; ">\n<li>Loading...</li>\n</ul>\n',this.Templates["organizer_app.file-picker"]='<!-- What in blazes is this for anyway?\n<script  type="text/javascript">\nvar ids=new Array();\nvar currentid=1;\nfunction show(id){\nif(ids.indexOf(id)>=0){\n  //console.log(id+"is in");\n  return;\n}\nelse{\n  ids.push(id);\n  var newid=++currentid;\n  var newselect=$("<br><select id=\\"haveornot\\" name=\\"haveornot\\" ><option value=yes selected=true> Have<option value=no> Not</select><select id=\\""+newid+"\\" name=\\"filter-tags\\" style=\\"width:130px\\" onchange=\\"show(this.id)\\"><option value=\'\'>Choose a tag</option> {{#dropdowns}}<option value=\\"{{tag}}\\">{{val}}{{/dropdowns}}</select>");\nnewselect.insertBefore("#filter");\n  if(newid==2){\n    $("<br>").insertAfter("#1");\n  }\n}\n}\n</script>\n//-->\n\n<div id="file-picker-filters">\n<button id="new-resident">New Resident</button>\n<button id="todo-list">Todo List</button>\n<button id="statistics-charts">Charts</button>\n<HR>\n<button id="merge">Merge</button>\n<button id="feeds">Feeds</button>\n<HR>\n  <input type="text" placeholder="search" id="query-input" size=25>\n  <button id="search-button">Search</button>\n  <select id="query-select">\n    <option value="last name">by last name</option>\n    <option>by full name</option>\n    <option value="first name">by first name</option>\n    <option value="email">by e-mail</option>\n    <option value="address">by address</option>\n    <option value="notes">by notes</option>\n  </select>\n<HR>\n  <label id="haveornot" name="haveornot" style="width:77px">Has</label>\n<select id="1" multiple="true" class="list" name="filter-tags" data-placeholder="Choose a tag" style="width:200px">\n  {{#dropdowns}}\n    <option value="{{tag}}" > {{val}} </option>\n  {{/dropdowns}}\n</select>\n\n<br>\n  <label id="haveornot" name="haveornot" style="width:77px">No</label>\n<select id="2" multiple="true" class="list" name="filter-tags" data-placeholder="Choose a tag" style="width:200px">\n  {{#dropdowns}}\n    <option value="{{tag}}" > {{val}} </option>\n  {{/dropdowns}}\n</select>\n\n<button id="filter">Filter</button><br>\n\n<select id="order">\n  <option value=time>Recent</option>\n  <option value=quantity>Quantity</option>\n</select>\n <select id="order-tags" name="order-tags" style="width:130px">\n  <option>Choose a tag</option>\n  {{#dropdowns}}\n        <option value="{{tag}}" > {{val}} </option>\n  {{/dropdowns}}\n</select>\n  <button id="filter-order">Order by</button>\n<HR>\n<select class="list" id="tag-list" style="width:198px">\n  <option></option>\n   {{#tags}}\n     <option class="tag-adding" value="{{.}}">{{.}}</option>\n  {{/tags}}\n</select>\n<button id="add-tag">Add tag</button>\n<button id="server-tag">Add tag to all filtered</button>\n<HR>\n\n<button id="prev">Prev</button>Page: <label id="pg_num"></label><button id="next">Next</button>\n<br>\n<input type="checkbox" id="check-all">Check all shown</input>\n&nbsp;&nbsp;&nbsp; Amount: <label id="amount" name="amount">Counting...</label>\nTotal: <label id="total" name="total"></label>\n</div>\n\n<ul id="file-picker-list" style= "list-style:none; ">\n<li>Loading...</li>\n</ul>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["organizer_app/file-viewer"]='<!-- Start HTML -->\n<div id="person-viewer">\n  <h3 id="name">{{ full_name }}</h3>\n  \n  <div id="person-viewer-info">\n  <span id="person-viewer-left"> \n\t<div id="email-div">\n\t\t<h4>Email:</h4>\n\t\t<div>{{ email }}</div>\n\t\t<form id="add-email" autocomplete="off">\n\t\t<input id="email-text" type="text" placeholder="john@example.com"><br />\n\t\t<input id="email-add" type="submit" value="Change Email">\n\t\t</form>\n\t</div>\n\t<br />\n\t<div id="address-div">\n\t\t<h3>Address:</h3>\n\t\t<div>{{ address }}</div>\n\t\t<form id="add-address" autocomplete="off">\n\t\t<input id="address-text" type="text" placeholder="125 Western Avenue, Allston, MA 02134"><br />\n\t\t<input id="address-add" type="submit" value="Change address">\n\t\t</form>\n\t</div>\n  </span>\n\n  <span id="person-viewer-right">  \n    <h3>Current tags:</h3>\n    <ul id="resident-tags">\n    {{#tags}}<li>{{.}}</li>{{/tags}}\n    </ul>\n  \n    <h3>Organizer Logs:</h3>\n    <ul id="organizer-logs">\n      {{#logs}}\n        <li>{{.}}</li>\n      {{/logs}}\n    </ul>\n  \n    <br />\n    <form id="add-log">\n      <h2>Add Log:</h2>\n      <!--<input id="log-date" placeholder="yyyy-mm-dd">-->\n  \t  <input id="log-date" type="text" placeholder="Date (MM/DD/YYYY)"><br />\n      <!--<input id="log-text" type="text" placeholder="description"><br />-->\n      <textarea id="log-text" name="log-text" placeholder="description" cols="40"></textarea><br />\n      <!--<input id="log-tags" type="text" placeholder="dropped, talked to, dropped on 2012-01-13"><br />-->\n\t  Tag as: <br />\n      {{#possibleTags}}\n      <input type="checkbox" value="{{.}}" />{{.}}<br />\n      {{/possibleTags}}\n      <input id="log-add" type="submit" value="Add log">\n    </form>\n  </span>\n  </div>\n</div>\n',this.Templates["organizer_app.file-viewer"]='<!-- Start HTML -->\n<div id="person-viewer">\n  <h3 id="name">{{ full_name }}</h3>\n  \n  <div id="person-viewer-info">\n  <span id="person-viewer-left"> \n\t<div id="email-div">\n\t\t<h4>Email:</h4>\n\t\t<div>{{ email }}</div>\n\t\t<form id="add-email" autocomplete="off">\n\t\t<input id="email-text" type="text" placeholder="john@example.com"><br />\n\t\t<input id="email-add" type="submit" value="Change Email">\n\t\t</form>\n\t</div>\n\t<br />\n\t<div id="address-div">\n\t\t<h3>Address:</h3>\n\t\t<div>{{ address }}</div>\n\t\t<form id="add-address" autocomplete="off">\n\t\t<input id="address-text" type="text" placeholder="125 Western Avenue, Allston, MA 02134"><br />\n\t\t<input id="address-add" type="submit" value="Change address">\n\t\t</form>\n\t</div>\n  </span>\n\n  <span id="person-viewer-right">  \n    <h3>Current tags:</h3>\n    <ul id="resident-tags">\n    {{#tags}}<li>{{.}}</li>{{/tags}}\n    </ul>\n  \n    <h3>Organizer Logs:</h3>\n    <ul id="organizer-logs">\n      {{#logs}}\n        <li>{{.}}</li>\n      {{/logs}}\n    </ul>\n  \n    <br />\n    <form id="add-log">\n      <h2>Add Log:</h2>\n      <!--<input id="log-date" placeholder="yyyy-mm-dd">-->\n  \t  <input id="log-date" type="text" placeholder="Date (MM/DD/YYYY)"><br />\n      <!--<input id="log-text" type="text" placeholder="description"><br />-->\n      <textarea id="log-text" name="log-text" placeholder="description" cols="40"></textarea><br />\n      <!--<input id="log-tags" type="text" placeholder="dropped, talked to, dropped on 2012-01-13"><br />-->\n\t  Tag as: <br />\n      {{#possibleTags}}\n      <input type="checkbox" value="{{.}}" />{{.}}<br />\n      {{/possibleTags}}\n      <input id="log-add" type="submit" value="Add log">\n    </form>\n  </span>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["organizer_app/map-view"]='<div>\n  Date of activity: <input id="map-date" type="text" />\n  Log: <input id="map-text" type="text" />\n  <button id="add-log-to-selected" type="button">Add log to all selected residents</button>\n  <button id="clear-selection" type="button">Clear selection</button>\n</div>\n<div id="map_canvas">\nGoogle Maps isn\'t working. Refresh or use a different browser or device. \n</div>\n',this.Templates["organizer_app.map-view"]='<div>\n  Date of activity: <input id="map-date" type="text" />\n  Log: <input id="map-text" type="text" />\n  <button id="add-log-to-selected" type="button">Add log to all selected residents</button>\n  <button id="clear-selection" type="button">Clear selection</button>\n</div>\n<div id="map_canvas">\nGoogle Maps isn\'t working. Refresh or use a different browser or device. \n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["organizer_app/neighbor-file"]='<form>\n  <label>First Name:\n    <input type="text" name="first-name" value="{{first_name}}">\n  </label>\n\n  <label>Last Name:\n    <input type="text" name="last-name" value="{{last_name}}">\n  </label>\n\n  <input type="submit" value="update">\n</form>\n',this.Templates["organizer_app.neighbor-file"]='<form>\n  <label>First Name:\n    <input type="text" name="first-name" value="{{first_name}}">\n  </label>\n\n  <label>Last Name:\n    <input type="text" name="last-name" value="{{last_name}}">\n  </label>\n\n  <input type="submit" value="update">\n</form>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["organizer_app/new-resident"]='<div>\n{{name}}\n<HR style="border:1 dashed #987cb9" width="100%" SIZE=1>\n<table>\n<form id="add-resident" autocomplete="off">\n\n<tr>\n  <td>First Name:</td> <td><input id="first-name" type="text" /></td></tr>\n  <tr><td>Last Name:</td> <td><input id="last-name" type="text" /></td></tr>\n  <tr><td>Email:</td> <td><input id="email" type="text" /></td></tr>\n  <tr><td>Phone:</td> <td><input id="phone" type="text" /></td></tr>\n  <tr><td>Address:</td> <td><input id="address" type="text" /></td></tr>\n  <tr><td>Organization:</td> <td><input id="organization" type="text" /></td></tr>\n  <tr><td>Position:</td> <td><input id="position" type="text" /></td></tr>\n  <tr><td>Notes:</td> <td><textarea id="notes" /></td></tr>\n</table>\n  Type tag:  <br>\n    <input type="checkbox" name="type-tag" value ="Excited Neighbor">Excited Neighbor<br>\n    <input type="checkbox" name="type-tag" value ="Gatekeeper">Gatekeeper<br>\n    <input type="checkbox" name="type-tag" value ="Leader">Leader<br>\n    <input type="checkbox" name="type-tag" value ="News">News<br>\n    <input type="checkbox" name="type-tag" value ="Nominee">Nominee<br>\n    <input type="checkbox" name="type-tag" value ="Nominator">Nominator<br>\n    <input type="checkbox" name="type-tag" value ="Non-Leader Email List">Non-Leader Email List<br>\n  Organizer:  <br>\n    <input type="checkbox" name="organizer" value ="Chava">Chava<br>\n    <input type="checkbox" name="organizer" value ="Peter">Peter<br>\n    <input type="checkbox" name="organizer" value ="Ricky">Ricky<br>\n  Sector tag: <br>\n    <input type="checkbox" name="sector-tag" value ="Culture">Culture<br>\n    <input type="checkbox" name="sector-tag" value ="Religion">Religion<br>\n    <input type="checkbox" name="sector-tag" value ="Civic">Civic<br>\n    <input type="checkbox" name="sector-tag" value ="Government">Government<br>\n    <input type="checkbox" name="sector-tag" value ="Schools">Schools<br>\n    <input type="checkbox" name="sector-tag" value ="Town Meeting">Town Meeting<br>\n    <input type="checkbox" name="sector-tag" value ="PTA">PTA<br>\n    <input type="checkbox" name="sector-tag" value ="Kids">Kids<br>\n    <input type="checkbox" name="sector-tag" value ="Business">Business<br>\n    <input type="checkbox" name="sector-tag" value ="Chamber of Commerce">Chamber of Commerce<br>\n    <input type="checkbox" name="sector-tag" value ="Municipal">Municipal<br>\n    <input type="checkbox" name="sector-tag" value ="Library">Library<br>\n    <input type="checkbox" name="sector-tag" value ="News">News<br>\n    <input type="checkbox" name="sector-tag" value ="General">General<br>\n  <input type="submit" id="new-resident" value ="Add"></input>\n</form>\n</div>\n<div id="status">\n</div>\n'
,this.Templates["organizer_app.new-resident"]='<div>\n{{name}}\n<HR style="border:1 dashed #987cb9" width="100%" SIZE=1>\n<table>\n<form id="add-resident" autocomplete="off">\n\n<tr>\n  <td>First Name:</td> <td><input id="first-name" type="text" /></td></tr>\n  <tr><td>Last Name:</td> <td><input id="last-name" type="text" /></td></tr>\n  <tr><td>Email:</td> <td><input id="email" type="text" /></td></tr>\n  <tr><td>Phone:</td> <td><input id="phone" type="text" /></td></tr>\n  <tr><td>Address:</td> <td><input id="address" type="text" /></td></tr>\n  <tr><td>Organization:</td> <td><input id="organization" type="text" /></td></tr>\n  <tr><td>Position:</td> <td><input id="position" type="text" /></td></tr>\n  <tr><td>Notes:</td> <td><textarea id="notes" /></td></tr>\n</table>\n  Type tag:  <br>\n    <input type="checkbox" name="type-tag" value ="Excited Neighbor">Excited Neighbor<br>\n    <input type="checkbox" name="type-tag" value ="Gatekeeper">Gatekeeper<br>\n    <input type="checkbox" name="type-tag" value ="Leader">Leader<br>\n    <input type="checkbox" name="type-tag" value ="News">News<br>\n    <input type="checkbox" name="type-tag" value ="Nominee">Nominee<br>\n    <input type="checkbox" name="type-tag" value ="Nominator">Nominator<br>\n    <input type="checkbox" name="type-tag" value ="Non-Leader Email List">Non-Leader Email List<br>\n  Organizer:  <br>\n    <input type="checkbox" name="organizer" value ="Chava">Chava<br>\n    <input type="checkbox" name="organizer" value ="Peter">Peter<br>\n    <input type="checkbox" name="organizer" value ="Ricky">Ricky<br>\n  Sector tag: <br>\n    <input type="checkbox" name="sector-tag" value ="Culture">Culture<br>\n    <input type="checkbox" name="sector-tag" value ="Religion">Religion<br>\n    <input type="checkbox" name="sector-tag" value ="Civic">Civic<br>\n    <input type="checkbox" name="sector-tag" value ="Government">Government<br>\n    <input type="checkbox" name="sector-tag" value ="Schools">Schools<br>\n    <input type="checkbox" name="sector-tag" value ="Town Meeting">Town Meeting<br>\n    <input type="checkbox" name="sector-tag" value ="PTA">PTA<br>\n    <input type="checkbox" name="sector-tag" value ="Kids">Kids<br>\n    <input type="checkbox" name="sector-tag" value ="Business">Business<br>\n    <input type="checkbox" name="sector-tag" value ="Chamber of Commerce">Chamber of Commerce<br>\n    <input type="checkbox" name="sector-tag" value ="Municipal">Municipal<br>\n    <input type="checkbox" name="sector-tag" value ="Library">Library<br>\n    <input type="checkbox" name="sector-tag" value ="News">News<br>\n    <input type="checkbox" name="sector-tag" value ="General">General<br>\n  <input type="submit" id="new-resident" value ="Add"></input>\n</form>\n</div>\n<div id="status">\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["organizer_app/statistics-charts"]='<div id="statistics-charts">\n  <div id="set-start-date" style="display:none">\n    Organize start date is not set. Set now?\n  </div>\n  <br>\n  <div id="charts">\n  </div>\n  Users<div id="users_div"></div>\n  Posts<div id="posts_div"></div>\n  Events<div id="events_div"></div>\n  Leader Connections<div id="leaders_div"></div>\n  Leader Partners<div id="leaders_p_div"></div>\n  Excited Neighbor Connections<div id="neighbors_div"></div>\n  Excited Neighbor Partners<div id="neighbors_p_div"></div>\n  Early Adopter Connections<div id="adopters_div"></div>\n  Early Adopter Partners<div id="adopters_p_div"></div>\n</div>\n',this.Templates["organizer_app.statistics-charts"]='<div id="statistics-charts">\n  <div id="set-start-date" style="display:none">\n    Organize start date is not set. Set now?\n  </div>\n  <br>\n  <div id="charts">\n  </div>\n  Users<div id="users_div"></div>\n  Posts<div id="posts_div"></div>\n  Events<div id="events_div"></div>\n  Leader Connections<div id="leaders_div"></div>\n  Leader Partners<div id="leaders_p_div"></div>\n  Excited Neighbor Connections<div id="neighbors_div"></div>\n  Excited Neighbor Partners<div id="neighbors_p_div"></div>\n  Early Adopter Connections<div id="adopters_div"></div>\n  Early Adopter Partners<div id="adopters_p_div"></div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["organizer_app/todo-list"]='<script type="text/javascript">\nfunction display(id){ \nvar target=document.getElementById(id); \n    if(target.style.display=="none"){ \n       target.style.display="";\n    }else{ \n       target.style.display="none"; \n    } \n}\n\n</script>\n\n<div id="todo-viewer">\n  <h3>Todo List</h3>\n\n  <select class="listing" id="tag-listing" style="width:198px">\n  <option></option>\n  {{#tags}}\n  <option class="tag-adding" value="{{.}}">{{.}}</option>\n  {{/tags}}\n  </select>\n  <button id="add-tag">Add tag</button>\n  <br>\n  {{#todos}}\n  <a onclick="display(\'{{tag}}\')" name="{{tag}}"><h4>{{tag}}</h4></a>\n    <!-- this div could be content of todo, could make the return value of todos to\n         be hash, then can use {{key}} in <a> to show title, then use {{value}} in\n         div. can see examples from dropdowns in file-picker\n                                                --   Ye Shen\n    -->\n    <div id="{{tag}}" style="display:none;"> {{{val}}} </div>\n    <table class="todo-specific" value="{{tag}}" id="profiles" name="{{tag}}">\n\n    </table>\n  {{/todos}}\n\n</div>\n',this.Templates["organizer_app.todo-list"]='<script type="text/javascript">\nfunction display(id){ \nvar target=document.getElementById(id); \n    if(target.style.display=="none"){ \n       target.style.display="";\n    }else{ \n       target.style.display="none"; \n    } \n}\n\n</script>\n\n<div id="todo-viewer">\n  <h3>Todo List</h3>\n\n  <select class="listing" id="tag-listing" style="width:198px">\n  <option></option>\n  {{#tags}}\n  <option class="tag-adding" value="{{.}}">{{.}}</option>\n  {{/tags}}\n  </select>\n  <button id="add-tag">Add tag</button>\n  <br>\n  {{#todos}}\n  <a onclick="display(\'{{tag}}\')" name="{{tag}}"><h4>{{tag}}</h4></a>\n    <!-- this div could be content of todo, could make the return value of todos to\n         be hash, then can use {{key}} in <a> to show title, then use {{value}} in\n         div. can see examples from dropdowns in file-picker\n                                                --   Ye Shen\n    -->\n    <div id="{{tag}}" style="display:none;"> {{{val}}} </div>\n    <table class="todo-specific" value="{{tag}}" id="profiles" name="{{tag}}">\n\n    </table>\n  {{/todos}}\n\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["organizer_app/viewer"]='<script type="text/javascript">\nfunction display(id){ \nvar target=document.getElementById(id); \n    if(target.style.display=="none"){ \n       target.style.display="";\n    }else{ \n       target.style.display="none"; \n    } \n}\n\n</script>\n\n\n\n\n\n  <h3 id="name">{{ full_name }} \n  <button id="edit-resident" onclick="">Edit Info</button>\n<!--  <button id="get-stories" onclick="display(\'stories-viewer\');display(\'person-viewer-left\');display(\'person-viewer-right\');">Relative News</button> -->\n  </h3>  \n  <div id="person-viewer">\n<!--  <span id="stories-viewer" style="display:none; ">\n    <ul id="stories-list">\n       {{#stories}}<li class="stories" ><a href={{story_url}} target="_blank">{{title}}</a></li>{{/stories}}\n    </ul>\n  </span> -->\n  <span id="person-viewer-left"> \n     <table>\n       <tr>\n\t<td>Email<img src="../assets/edit.png" onclick="display(\'email-text\');display(\'email-add\');" /></td> <td>{{email}} \n       \n\t    <form id="add-email" autocomplete="off">\n\t\t<input id="email-text" type="text" style="display:none" placeholder="john@example.com">\n\t\t<input id="email-add" type="submit" style="display:none" value="Save">\n\t    </form> \n\t    </td></tr>\n       <tr>\n\t<td>Phone<img src="../assets/edit.png" onclick="display(\'phone-text\');display(\'phone-add\');" /></td></td> <td>{{phone}} \n\t<form id="add-phone" autocomplete="off">\n\t\t<input id="phone-text" type="text" style="display:none" onkeyup="this.value=this.value.replace(/[^0-9]/g,\'\')" placeholder="1234567890">\n\t\t<input id="phone-add" type="submit" style="display:none" value="Save">\n\t    </form> \n\t</td>\n       </tr><tr>\t\n\t<td><nobr>Organization<img src="../assets/edit.png" onclick="display(\'organization-text\');display(\'organization-add\');" /></nobr></td> <td>{{organization}}  \n\t<form id="add-organization" autocomplete="off">\n\t\t<input id="organization-text" type="text" style="display:none" >\n\t\t<input id="organization-add" type="submit" style="display:none" value="Save">\n\t    </form> \n\t</td>\n       </tr><tr>\n\t<td>Position<img src="../assets/edit.png" onclick="display(\'position-text\');display(\'position-add\');" /></td> <td>{{position}}  \n\t<form id="add-position" autocomplete="off">\n\t\t<input id="position-text" type="text" style="display:none" >\n\t\t<input id="position-add" type="submit" style="display:none" value="Save">\n\t    </form> \n\t</td>\n       </tr><tr>\n\t<td>Address<img src="../assets/edit.png" onclick="display(\'address-text\');display(\'address-add\');" /></td> <td>{{ address }} \n\t        <form id="add-address" autocomplete="off">\n\t\t  <input id="address-text" type="text" style="display:none" placeholder="125 Western Avenue, Allston, MA 02134">\n\t\t  <input id="address-add" type="submit" style="display:none" value="Save">\n\t\t</form> \n\t</td>\n       </tr><tr>\n\t<td>Notes<img src="../assets/edit.png" onclick="display(\'notes-text\');display(\'notes-add\');" /></td> <td>{{notes}}  \n\t<form id="add-notes" autocomplete="off">\n\t\t  <textarea id="notes-text"  style="display:none" />\n\t\t  <input id="notes-add" type="submit" style="display:none" value="Save">\n\t\t</form> \n\t</td>\n       </tr><tr>\n\t<td>Sector</td> <td><ul id="sector-tags">\n                 {{#sector}}<li>{{.}}</li>{{/sector}}\n                </ul></td>\n       </tr><tr>\n        <td>Type</td> <td><ul id="type-tags">\n                 {{#type}}<li>{{.}}</li>{{/type}}\n                </ul></td>\n       </tr><tr>\n        <td>Organizer</td> <td><ul id="organizer">\n                 {{#organizer}}<li>{{.}}</li>{{/organizer}}\n                </ul></td>\n       </tr><tr>\n        <td>Tags</td> <td><ul id="resident-tags">\n                 {{#tags}}<li>{{.}}</li>{{/tags}}\n                </ul></td>\n       </tr><tr>\n        <td>Interests</td> <td><ul id="interest-list">\n                 {{#interests}}<li class="interests" >{{.}}</li>{{/interests}}\n                </ul></td>\n       </tr></table>\n       <table><tr>\n        <td>News</td>\n        </tr><tr> <td><ul id="News-list">\n                 {{#stories}}<li class="stories" ><a href={{story_url}} target="_blank">{{title}}</a><br>\n                 {{summary}}</li>{{/stories}}\n                 \n                </ul></td>\n       </tr>\n       </table>\n        \n    </span>\n    <span id="person-viewer-right">\n    Actions <br>\n    <div id="action-count">\n      <iframe id="content" name="content" width="100%" height="450" frameborder=0 > </iframe>\n    </div>\n    </span> \n</div>\n',this.Templates["organizer_app.viewer"]='<script type="text/javascript">\nfunction display(id){ \nvar target=document.getElementById(id); \n    if(target.style.display=="none"){ \n       target.style.display="";\n    }else{ \n       target.style.display="none"; \n    } \n}\n\n</script>\n\n\n\n\n\n  <h3 id="name">{{ full_name }} \n  <button id="edit-resident" onclick="">Edit Info</button>\n<!--  <button id="get-stories" onclick="display(\'stories-viewer\');display(\'person-viewer-left\');display(\'person-viewer-right\');">Relative News</button> -->\n  </h3>  \n  <div id="person-viewer">\n<!--  <span id="stories-viewer" style="display:none; ">\n    <ul id="stories-list">\n       {{#stories}}<li class="stories" ><a href={{story_url}} target="_blank">{{title}}</a></li>{{/stories}}\n    </ul>\n  </span> -->\n  <span id="person-viewer-left"> \n     <table>\n       <tr>\n\t<td>Email<img src="../assets/edit.png" onclick="display(\'email-text\');display(\'email-add\');" /></td> <td>{{email}} \n       \n\t    <form id="add-email" autocomplete="off">\n\t\t<input id="email-text" type="text" style="display:none" placeholder="john@example.com">\n\t\t<input id="email-add" type="submit" style="display:none" value="Save">\n\t    </form> \n\t    </td></tr>\n       <tr>\n\t<td>Phone<img src="../assets/edit.png" onclick="display(\'phone-text\');display(\'phone-add\');" /></td></td> <td>{{phone}} \n\t<form id="add-phone" autocomplete="off">\n\t\t<input id="phone-text" type="text" style="display:none" onkeyup="this.value=this.value.replace(/[^0-9]/g,\'\')" placeholder="1234567890">\n\t\t<input id="phone-add" type="submit" style="display:none" value="Save">\n\t    </form> \n\t</td>\n       </tr><tr>\t\n\t<td><nobr>Organization<img src="../assets/edit.png" onclick="display(\'organization-text\');display(\'organization-add\');" /></nobr></td> <td>{{organization}}  \n\t<form id="add-organization" autocomplete="off">\n\t\t<input id="organization-text" type="text" style="display:none" >\n\t\t<input id="organization-add" type="submit" style="display:none" value="Save">\n\t    </form> \n\t</td>\n       </tr><tr>\n\t<td>Position<img src="../assets/edit.png" onclick="display(\'position-text\');display(\'position-add\');" /></td> <td>{{position}}  \n\t<form id="add-position" autocomplete="off">\n\t\t<input id="position-text" type="text" style="display:none" >\n\t\t<input id="position-add" type="submit" style="display:none" value="Save">\n\t    </form> \n\t</td>\n       </tr><tr>\n\t<td>Address<img src="../assets/edit.png" onclick="display(\'address-text\');display(\'address-add\');" /></td> <td>{{ address }} \n\t        <form id="add-address" autocomplete="off">\n\t\t  <input id="address-text" type="text" style="display:none" placeholder="125 Western Avenue, Allston, MA 02134">\n\t\t  <input id="address-add" type="submit" style="display:none" value="Save">\n\t\t</form> \n\t</td>\n       </tr><tr>\n\t<td>Notes<img src="../assets/edit.png" onclick="display(\'notes-text\');display(\'notes-add\');" /></td> <td>{{notes}}  \n\t<form id="add-notes" autocomplete="off">\n\t\t  <textarea id="notes-text"  style="display:none" />\n\t\t  <input id="notes-add" type="submit" style="display:none" value="Save">\n\t\t</form> \n\t</td>\n       </tr><tr>\n\t<td>Sector</td> <td><ul id="sector-tags">\n                 {{#sector}}<li>{{.}}</li>{{/sector}}\n                </ul></td>\n       </tr><tr>\n        <td>Type</td> <td><ul id="type-tags">\n                 {{#type}}<li>{{.}}</li>{{/type}}\n                </ul></td>\n       </tr><tr>\n        <td>Organizer</td> <td><ul id="organizer">\n                 {{#organizer}}<li>{{.}}</li>{{/organizer}}\n                </ul></td>\n       </tr><tr>\n        <td>Tags</td> <td><ul id="resident-tags">\n                 {{#tags}}<li>{{.}}</li>{{/tags}}\n                </ul></td>\n       </tr><tr>\n        <td>Interests</td> <td><ul id="interest-list">\n                 {{#interests}}<li class="interests" >{{.}}</li>{{/interests}}\n                </ul></td>\n       </tr></table>\n       <table><tr>\n        <td>News</td>\n        </tr><tr> <td><ul id="News-list">\n                 {{#stories}}<li class="stories" ><a href={{story_url}} target="_blank">{{title}}</a><br>\n                 {{summary}}</li>{{/stories}}\n                 \n                </ul></td>\n       </tr>\n       </table>\n        \n    </span>\n    <span id="person-viewer-right">\n    Actions <br>\n    <div id="action-count">\n      <iframe id="content" name="content" width="100%" height="450" frameborder=0 > </iframe>\n    </div>\n    </span> \n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["outbox_page/main"]='{{>shared.inbox-nav}}\n\n<div id="inbox">\n  <h2>Your Outbox</h2>\n\n  <div id="message-list"></div>\n</div>\n',this.Templates["outbox_page.main"]='{{>shared.inbox-nav}}\n\n<div id="inbox">\n  <h2>Your Outbox</h2>\n\n  <div id="message-list"></div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["registration/address"]='<div class="registration1">\n\n  <div class="redbox address">\n\n    <div class="registration_border">\n       <h2>Resident of {{community_name}}?</h2>\n       <span class="divider"></span>\n       <p>OurCommonPlace {{community_name}} is just for {{community_name}} residents! Before registering, verify that you live in town<sup>*</sup>.</p>\n       <div id="address">\n         <input name="address" type="input" type="text" class="address" placeholder="Enter your {{community_name}} street address" /><br />\n         <span class="error address"></span>\n       </div>\n       <span id="bypass" class="error" style="display:none">\n         Did we make a mistake? <a href="#" class="confirm">Click here to continue</a>\n       </span>\n       <div id="address_verification" style="display:none">\n         Please confirm your street address:<Br />\n         <input type="radio" id="suggested" checked="checked" name="verify_address" value="suggested" class="address_verify_radio" /> <span class="address_verify_radio">Use the address we have in our system:</span>\n         <div id="suggested_address"></div>\n         <input type="radio" name="verify_address" value="entered" class="address_verify_radio" /> <span class="address_verify_radio">Use the address I typed.</span><br />\n       </div>\n       <p class="caption"><sup>*</sup> We won\'t share your address with anyone</p>\n       <div id="referral_source">\n         <form>\n           <select name="referral_source" id="hear" class="dk" tabindex="1">\n             <option value="placeholder" selected="selected">Why did you join CommonPlace?</option>\n             {{#referrers}}\n               <option value="{{.}}">{{.}}</option>\n             {{/referrers}}\n           </select>\n         </form>\n         <span class="error referral_source"></span>\n       </div>\n       <div id="referral_metadata">\n         <input name="referral_metadata" type="input" type="text" class="referral_metadata" placeholder="From who?" /><br />\n         <span class="error referral_metadata"></span>\n       </div>\n\n       <div id="find_button">\n         <a href="#" class="blue-button next-button">Confirm Address</a>\n       </div>\n\n     </div>\n\n  </div>\n\n</div>\n',this.Templates["registration.address"]='<div class="registration1">\n\n  <div class="redbox address">\n\n    <div class="registration_border">\n       <h2>Resident of {{community_name}}?</h2>\n       <span class="divider"></span>\n       <p>OurCommonPlace {{community_name}} is just for {{community_name}} residents! Before registering, verify that you live in town<sup>*</sup>.</p>\n       <div id="address">\n         <input name="address" type="input" type="text" class="address" placeholder="Enter your {{community_name}} street address" /><br />\n         <span class="error address"></span>\n       </div>\n       <span id="bypass" class="error" style="display:none">\n         Did we make a mistake? <a href="#" class="confirm">Click here to continue</a>\n       </span>\n       <div id="address_verification" style="display:none">\n         Please confirm your street address:<Br />\n         <input type="radio" id="suggested" checked="checked" name="verify_address" value="suggested" class="address_verify_radio" /> <span class="address_verify_radio">Use the address we have in our system:</span>\n         <div id="suggested_address"></div>\n         <input type="radio" name="verify_address" value="entered" class="address_verify_radio" /> <span class="address_verify_radio">Use the address I typed.</span><br />\n       </div>\n       <p class="caption"><sup>*</sup> We won\'t share your address with anyone</p>\n       <div id="referral_source">\n         <form>\n           <select name="referral_source" id="hear" class="dk" tabindex="1">\n             <option value="placeholder" selected="selected">Why did you join CommonPlace?</option>\n             {{#referrers}}\n               <option value="{{.}}">{{.}}</option>\n             {{/referrers}}\n           </select>\n         </form>\n         <span class="error referral_source"></span>\n       </div>\n       <div id="referral_metadata">\n         <input name="referral_metadata" type="input" type="text" class="referral_metadata" placeholder="From who?" /><br />\n         <span class="error referral_metadata"></span>\n       </div>\n\n       <div id="find_button">\n         <a href="#" class="blue-button next-button">Confirm Address</a>\n       </div>\n\n     </div>\n\n  </div>\n\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["registration/affiliation"]='<div class="registration1">\n\n  <div class="redbox address">\n  \n    <div class="registration_border">\n       <h2>Resident of {{community_name}}?</h2>\n       <span class="divider"></span>\n       <p>OurCommonPlace {{community_name}} is just for {{community_name}} residents! Before registering, please verify your affiliation.</p>\n       <div id="referral_source">\n         <form>\n           <select name="affiliation" id="hear" class="dk" tabindex="1">\n             <option value="placeholder" selected="selected">What is your affiliation?</option>\n             {{#referrers}}\n               <option value="{{.}}">{{.}}</option>\n             {{/referrers}}\n           </select>\n         </form>\n         <span class="error affiliation"></span>\n       </div>\n       \n       <div id="find_button">\n         <a href="#" class="blue-button next-button">Confirm</a>\n       </div>\n       \n     </div>\n     \n  </div>\n  \n</div>\n',this.Templates["registration.affiliation"]='<div class="registration1">\n\n  <div class="redbox address">\n  \n    <div class="registration_border">\n       <h2>Resident of {{community_name}}?</h2>\n       <span class="divider"></span>\n       <p>OurCommonPlace {{community_name}} is just for {{community_name}} residents! Before registering, please verify your affiliation.</p>\n       <div id="referral_source">\n         <form>\n           <select name="affiliation" id="hear" class="dk" tabindex="1">\n             <option value="placeholder" selected="selected">What is your affiliation?</option>\n             {{#referrers}}\n               <option value="{{.}}">{{.}}</option>\n             {{/referrers}}\n           </select>\n         </form>\n         <span class="error affiliation"></span>\n       </div>\n       \n       <div id="find_button">\n         <a href="#" class="blue-button next-button">Confirm</a>\n       </div>\n       \n     </div>\n     \n  </div>\n  \n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["registration/application_or_nomination_submitted"]='<div class="nominate-after">\n  {{#nominating}}\n    <h2>Thanks for Nominating!</h2>\n    <p>We hope {{nominee_name}} wins a Civic Hero award!</p>\n    <p>The more nominations a nominee gets, the better theyâll do.  Tell your friends to nominate {{nominee_first_name}} as well:</p>\n    <a class="facebook" href="http://www.facebook.com/sharer.php?u=http://{{community_slug}}.ourcommonplace.com/about/nominate"></a>\n    <p>Now that you\'ve nominated someone, we hope you can check out <a href="http://{{community_slug}}.ourcommonplace.com" target="_blank">{{community_slug}}.OurCommonPlace.com</a>, {{community_name}}\'s newest community-building web platform.<p>\n    <a href="http://{{community_slug}}.ourcommonplace.com"><button class="register-button">Find Out More!</button></a>\n  {{/nominating}}\n  {{#applying}}\n    <h2>Thanks for Applying!</h2>\n    <p>We\'ll get in touch with you soon.</p>\n    <button class="register-button bottom">Join OurCommonplace!</button>\n  {{/applying}}\n</div>\n',this.Templates["registration.application_or_nomination_submitted"]='<div class="nominate-after">\n  {{#nominating}}\n    <h2>Thanks for Nominating!</h2>\n    <p>We hope {{nominee_name}} wins a Civic Hero award!</p>\n    <p>The more nominations a nominee gets, the better theyâll do.  Tell your friends to nominate {{nominee_first_name}} as well:</p>\n    <a class="facebook" href="http://www.facebook.com/sharer.php?u=http://{{community_slug}}.ourcommonplace.com/about/nominate"></a>\n    <p>Now that you\'ve nominated someone, we hope you can check out <a href="http://{{community_slug}}.ourcommonplace.com" target="_blank">{{community_slug}}.OurCommonPlace.com</a>, {{community_name}}\'s newest community-building web platform.<p>\n    <a href="http://{{community_slug}}.ourcommonplace.com"><button class="register-button">Find Out More!</button></a>\n  {{/nominating}}\n  {{#applying}}\n    <h2>Thanks for Applying!</h2>\n    <p>We\'ll get in touch with you soon.</p>\n    <button class="register-button bottom">Join OurCommonplace!</button>\n  {{/applying}}\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["registration/apply_civic_leader"]='<h3>Fill out an application to be</h3>\n<h2>A Student Organizer</h2>\n<form class="registration">\n  <input class="name" type="text" name="name" placeholder="Your Full Name" /><br />\n  <input class="email" type="email" name="email" placeholder="Your Email Address" /><br />\n  <textarea id="why" class="why-nominate" name="application_reason" placeholder="Tell us why you\'d like to be a {{community_name}} Student Organizer." ></textarea>\n  <button class="next-button">Apply Now!</button>\n  <div class="facebook">\n    <p>Or you can:</p>\n    <span id="nominate-btn">Nominate a Civic Leader</span>\n  </div>\n</form>\n',this.Templates["registration.apply_civic_leader"]='<h3>Fill out an application to be</h3>\n<h2>A Student Organizer</h2>\n<form class="registration">\n  <input class="name" type="text" name="name" placeholder="Your Full Name" /><br />\n  <input class="email" type="email" name="email" placeholder="Your Email Address" /><br />\n  <textarea id="why" class="why-nominate" name="application_reason" placeholder="Tell us why you\'d like to be a {{community_name}} Student Organizer." ></textarea>\n  <button class="next-button">Apply Now!</button>\n  <div class="facebook">\n    <p>Or you can:</p>\n    <span id="nominate-btn">Nominate a Civic Leader</span>\n  </div>\n</form>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["registration/harvard_new"]='<div class="registration1">\n  <div class="left">\n    <div class="tab-content">\n      <div class="tab-pane" id="home">\n        <h1>Welcome Home!</h1>\n        <div class="tab-description">\n         <p class="first">Harvard Neighbors Network is the easiest way to share</p><br/>\n         <p>and connect with your Harvard Neighbors.</p>\n        </div>\n      </div>\n      <div class="tab-pane" id="story">\n        <h1>Our Story</h1>\n        <div class="tab-description">\n          <p class="first">OurCommonPlace began with a story about bowling.</p><br/>\n          <p>In 2009, two freshman-year roommates at Harvard</p><br/>\n          <p>read the book <em>Bowling Alone</em> by Robert Putnam.</p><br/>\n          <p>The book was a revelation. <a href="{{community_slug}}/our-story" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n      <div class="tab-pane" id="platform">\n        <h1>Technology</h1>\n        <div class="tab-description">\n          <p class="first">Our goal is to empower neighbors and community leaders</p><br/>\n          <p>to share information with the people around them and</p><br/>\n          <p>build awesome things for their communities.</p><br/>\n          <p style="margin-left:-3px;"><a href="{{community_slug}}/our-platform" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n      <div class="tab-pane" id="press">\n        <h1>Supporters</h1>\n        <div class="tab-description">\n          <p class="first">{{community_user_count}} of your neighbors and {{community_feed_count}} great {{community_name}}</p><br/>\n          <p>organizations have already registered. Join them now!</p><br/>\n          <p style="margin-left:-3px;"><a href="{{community_slug}}/press" class="learn-more">Learn More</a></p><br/>\n        </div>\n      </div>\n      <div class="tab-pane" id="awards">\n        <h1>Civic Hero Awards</h1>\n        <div class="tab-description">\n          <p class="first">OurCommonPlace runs a national community awards</p><br/>\n          <p>program dedicated to spotlighting and celebrating local</p><br/>\n          <p>leaders in towns and cities across the country.</p><br/>\n          <p style="margin-left:-3px;"><a href="{{community_slug}}/nominate" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n    </div>\n    <div class="navbar">\n      <ul class="nav nav-tabs" id="scroller">\n        <li><a href="#home" class="mission selected">Our Mission</a></li>\n        <li><a href="#platform" class="story">Technology</a></li>\n        <li><a href="#press" class="platform">Supporters</a></li>\n        <li><a href="#story" class="press">Our Story</a></li>\n        <li><a href="#awards" class="awards">Civic Hero Awards</a></li>\n      </ul>\n    </div>\n  </div>\n  <div class="right">\n    <div id="redbox">\n      <figure class="front">\n        <h2>Become a Neighbor</h2>\n        <form class="registration" id="registration1">\n          <div id="full_name">\n            <input name="full_name" class="name" type="text" placeholder="Full Name" />\n            <span class="error full_name"></span>\n          </div>\n          <br />\n          <div id="email">\n            <input class="email" type="email" name="email" placeholder="Email Address" />\n            <span class="error email"></span>\n          </div>\n          <br />\n          <div id="password">\n            <input class="password" type="password" name="password" placeholder="Create Password" /><br />\n            <span class="error password"></span>\n          </div>\n          <button class="next-button">Register Now!</button></form>\n          <div class="facebook">\n            <p>Or you can:</p>\n            <a href="#">Facebook</a>\n          </div>\n        </form>\n      </figure>\n    </div>\n  </div>\n</div>\n',this.Templates["registration.harvard_new"]='<div class="registration1">\n  <div class="left">\n    <div class="tab-content">\n      <div class="tab-pane" id="home">\n        <h1>Welcome Home!</h1>\n        <div class="tab-description">\n         <p class="first">Harvard Neighbors Network is the easiest way to share</p><br/>\n         <p>and connect with your Harvard Neighbors.</p>\n        </div>\n      </div>\n      <div class="tab-pane" id="story">\n        <h1>Our Story</h1>\n        <div class="tab-description">\n          <p class="first">OurCommonPlace began with a story about bowling.</p><br/>\n          <p>In 2009, two freshman-year roommates at Harvard</p><br/>\n          <p>read the book <em>Bowling Alone</em> by Robert Putnam.</p><br/>\n          <p>The book was a revelation. <a href="{{community_slug}}/our-story" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n      <div class="tab-pane" id="platform">\n        <h1>Technology</h1>\n        <div class="tab-description">\n          <p class="first">Our goal is to empower neighbors and community leaders</p><br/>\n          <p>to share information with the people around them and</p><br/>\n          <p>build awesome things for their communities.</p><br/>\n          <p style="margin-left:-3px;"><a href="{{community_slug}}/our-platform" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n      <div class="tab-pane" id="press">\n        <h1>Supporters</h1>\n        <div class="tab-description">\n          <p class="first">{{community_user_count}} of your neighbors and {{community_feed_count}} great {{community_name}}</p><br/>\n          <p>organizations have already registered. Join them now!</p><br/>\n          <p style="margin-left:-3px;"><a href="{{community_slug}}/press" class="learn-more">Learn More</a></p><br/>\n        </div>\n      </div>\n      <div class="tab-pane" id="awards">\n        <h1>Civic Hero Awards</h1>\n        <div class="tab-description">\n          <p class="first">OurCommonPlace runs a national community awards</p><br/>\n          <p>program dedicated to spotlighting and celebrating local</p><br/>\n          <p>leaders in towns and cities across the country.</p><br/>\n          <p style="margin-left:-3px;"><a href="{{community_slug}}/nominate" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n    </div>\n    <div class="navbar">\n      <ul class="nav nav-tabs" id="scroller">\n        <li><a href="#home" class="mission selected">Our Mission</a></li>\n        <li><a href="#platform" class="story">Technology</a></li>\n        <li><a href="#press" class="platform">Supporters</a></li>\n        <li><a href="#story" class="press">Our Story</a></li>\n        <li><a href="#awards" class="awards">Civic Hero Awards</a></li>\n      </ul>\n    </div>\n  </div>\n  <div class="right">\n    <div id="redbox">\n      <figure class="front">\n        <h2>Become a Neighbor</h2>\n        <form class="registration" id="registration1">\n          <div id="full_name">\n            <input name="full_name" class="name" type="text" placeholder="Full Name" />\n            <span class="error full_name"></span>\n          </div>\n          <br />\n          <div id="email">\n            <input class="email" type="email" name="email" placeholder="Email Address" />\n            <span class="error email"></span>\n          </div>\n          <br />\n          <div id="password">\n            <input class="password" type="password" name="password" placeholder="Create Password" /><br />\n            <span class="error password"></span>\n          </div>\n          <button class="next-button">Register Now!</button></form>\n          <div class="facebook">\n            <p>Or you can:</p>\n            <a href="#">Facebook</a>\n          </div>\n        </form>\n      </figure>\n    </div>\n  </div>\n</div>\n'
}(this),function(){this.Templates||(this.Templates={}),this.Templates["registration/modal-overlay"]='<div id="modal-whiteout"></div>\n\n<div id="registration-modal">\n  <div id="pagewidth">\n    <div id="current-registration-page"></div>\n    <div id="next-registration-page"></div>\n  </div>\n</div>\n',this.Templates["registration.modal-overlay"]='<div id="modal-whiteout"></div>\n\n<div id="registration-modal">\n  <div id="pagewidth">\n    <div id="current-registration-page"></div>\n    <div id="next-registration-page"></div>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["registration/modal"]='<div id="pagewidth">\n  <div id="current-registration-page"></div>\n  <div id="next-registration-page"></div>\n</div>\n',this.Templates["registration.modal"]='<div id="pagewidth">\n  <div id="current-registration-page"></div>\n  <div id="next-registration-page"></div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["registration/new"]='<div class="registration1">\n  <div class="left">\n    <div class="tab-content">\n      <div class="tab-pane" id="home">\n        <h1>Welcome Home!</h1>\n        <div class="tab-description">\n          <p class="first">OurCommonPlace {{community_name}} is the easiest way</p><br/>\n          <p>to share with your neighbors and keep up with what\'s</p><br/>\n          <p>happening in {{community_name}}. <a href="{{community_slug}}/about" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n      <div class="tab-pane" id="story">\n        <h1>Our Story</h1>\n        <div class="tab-description">\n          <p class="first">OurCommonPlace began with a story about bowling.</p><br/>\n          <p>In 2009, two freshman-year roommates at Harvard</p><br/>\n          <p>read the book <em>Bowling Alone</em> by Robert Putnam.</p><br/>\n          <p>The book was a revelation. <a href="{{community_slug}}/our-story" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n      <div class="tab-pane" id="platform">\n        <h1>Technology</h1>\n        <div class="tab-description">\n          <p class="first">Our goal is to empower neighbors and community leaders</p><br/>\n          <p>to share information with the people around them and</p><br/>\n          <p>build awesome things for their communities.</p><br/>\n          <p style="margin-left:-3px;"><a href="{{community_slug}}/our-platform" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n      <div class="tab-pane" id="press">\n        <h1>Supporters</h1>\n        <div class="tab-description">\n          <p class="first">{{community_user_count}} of your neighbors and {{community_feed_count}} great {{community_name}}</p><br/>\n          <p>organizations have already registered. Join them now!</p><br/>\n          <p style="margin-left:-3px;"><a href="{{community_slug}}/press" class="learn-more">Learn More</a></p><br/>\n        </div>\n      </div>\n      <div class="tab-pane" id="awards">\n        <h1>Civic Hero Awards</h1>\n        <div class="tab-description">\n          <p class="first">OurCommonPlace runs a national community awards</p><br/>\n          <p>program dedicated to spotlighting and celebrating local</p><br/>\n          <p>leaders in towns and cities across the country.</p><br/>\n          <p style="margin-left:-3px;"><a href="{{community_slug}}/nominate" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n    </div>\n    <div class="navbar">\n      <ul class="nav nav-tabs" id="scroller">\n        <li><a href="#home" class="mission selected">Our Mission</a></li>\n        <li><a href="#platform" class="story">Technology</a></li>\n        <li><a href="#press" class="platform">Supporters</a></li>\n        <li><a href="#story" class="press">Our Story</a></li>\n        <li><a href="#awards" class="awards">Civic Hero Awards</a></li>\n      </ul>\n    </div>\n  </div>\n  <div class="right">\n    <div id="redbox">\n      <figure class="front">\n        <h2>Sign Up</h2>\n        <form class="registration" id="registration1">\n          <div id="full_name">\n            <input name="full_name" class="name" type="text" placeholder="Full Name" />\n            <span class="error full_name"></span>\n          </div>\n          <br />\n          <div id="email">\n            <input class="email" type="email" name="email" placeholder="Email Address" />\n            <span class="error email"></span>\n          </div>\n          <br />\n          <div id="password">\n            <input class="password" type="password" name="password" placeholder="Create Password" /><br />\n            <span class="error password"></span>\n          </div>\n          <button class="next-button">Register Now!</button></form>\n          <div class="facebook">\n            <p>Or you can:</p>\n            <a href="#">Facebook</a>\n          </div>\n        </form>\n      </figure>\n    </div>\n  </div>\n</div>\n',this.Templates["registration.new"]='<div class="registration1">\n  <div class="left">\n    <div class="tab-content">\n      <div class="tab-pane" id="home">\n        <h1>Welcome Home!</h1>\n        <div class="tab-description">\n          <p class="first">OurCommonPlace {{community_name}} is the easiest way</p><br/>\n          <p>to share with your neighbors and keep up with what\'s</p><br/>\n          <p>happening in {{community_name}}. <a href="{{community_slug}}/about" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n      <div class="tab-pane" id="story">\n        <h1>Our Story</h1>\n        <div class="tab-description">\n          <p class="first">OurCommonPlace began with a story about bowling.</p><br/>\n          <p>In 2009, two freshman-year roommates at Harvard</p><br/>\n          <p>read the book <em>Bowling Alone</em> by Robert Putnam.</p><br/>\n          <p>The book was a revelation. <a href="{{community_slug}}/our-story" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n      <div class="tab-pane" id="platform">\n        <h1>Technology</h1>\n        <div class="tab-description">\n          <p class="first">Our goal is to empower neighbors and community leaders</p><br/>\n          <p>to share information with the people around them and</p><br/>\n          <p>build awesome things for their communities.</p><br/>\n          <p style="margin-left:-3px;"><a href="{{community_slug}}/our-platform" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n      <div class="tab-pane" id="press">\n        <h1>Supporters</h1>\n        <div class="tab-description">\n          <p class="first">{{community_user_count}} of your neighbors and {{community_feed_count}} great {{community_name}}</p><br/>\n          <p>organizations have already registered. Join them now!</p><br/>\n          <p style="margin-left:-3px;"><a href="{{community_slug}}/press" class="learn-more">Learn More</a></p><br/>\n        </div>\n      </div>\n      <div class="tab-pane" id="awards">\n        <h1>Civic Hero Awards</h1>\n        <div class="tab-description">\n          <p class="first">OurCommonPlace runs a national community awards</p><br/>\n          <p>program dedicated to spotlighting and celebrating local</p><br/>\n          <p>leaders in towns and cities across the country.</p><br/>\n          <p style="margin-left:-3px;"><a href="{{community_slug}}/nominate" class="learn-more">Learn More</a></p>\n        </div>\n      </div>\n    </div>\n    <div class="navbar">\n      <ul class="nav nav-tabs" id="scroller">\n        <li><a href="#home" class="mission selected">Our Mission</a></li>\n        <li><a href="#platform" class="story">Technology</a></li>\n        <li><a href="#press" class="platform">Supporters</a></li>\n        <li><a href="#story" class="press">Our Story</a></li>\n        <li><a href="#awards" class="awards">Civic Hero Awards</a></li>\n      </ul>\n    </div>\n  </div>\n  <div class="right">\n    <div id="redbox">\n      <figure class="front">\n        <h2>Sign Up</h2>\n        <form class="registration" id="registration1">\n          <div id="full_name">\n            <input name="full_name" class="name" type="text" placeholder="Full Name" />\n            <span class="error full_name"></span>\n          </div>\n          <br />\n          <div id="email">\n            <input class="email" type="email" name="email" placeholder="Email Address" />\n            <span class="error email"></span>\n          </div>\n          <br />\n          <div id="password">\n            <input class="password" type="password" name="password" placeholder="Create Password" /><br />\n            <span class="error password"></span>\n          </div>\n          <button class="next-button">Register Now!</button></form>\n          <div class="facebook">\n            <p>Or you can:</p>\n            <a href="#">Facebook</a>\n          </div>\n        </form>\n      </figure>\n    </div>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["registration/new_about_page"]='<style>\n.input_wrapper {\n  position: relative;\n}\n</style>\n\n<h3>To join <span style="text-transform:capitalize;">{{community_slug}}</span>.OurCommonPlace.com</h3>\n<h2>Sign Up Here</h2>\n<form class="registration" id="registration1">\n  <div id="full_name" class="input_wrapper">\n    <input id="full-name" class="full_name" name="full_name" type="text" placeholder="Full Name" />\n    <span class="error full_name"></span>\n  </div>\n  <div id="email" class="input_wrapper">\n    <input class="email" type="email" name="email" placeholder="Email Address" />\n    <span class="error email"></span>\n  </div>\n  <div id="password" class="input_wrapper">\n    <input class="password" type="password" placeholder="Create Password" name="password"/>\n    <span class="error password"></span>\n  </div>\n  <button class="next-button">Register Now!</button>\n  <!--\n  <div class="facebook">\n    <p>Or you can:</p>\n    <a href="#">Facebook</a>\n  </div>\n  -->\n</form>\n\n',this.Templates["registration.new_about_page"]='<style>\n.input_wrapper {\n  position: relative;\n}\n</style>\n\n<h3>To join <span style="text-transform:capitalize;">{{community_slug}}</span>.OurCommonPlace.com</h3>\n<h2>Sign Up Here</h2>\n<form class="registration" id="registration1">\n  <div id="full_name" class="input_wrapper">\n    <input id="full-name" class="full_name" name="full_name" type="text" placeholder="Full Name" />\n    <span class="error full_name"></span>\n  </div>\n  <div id="email" class="input_wrapper">\n    <input class="email" type="email" name="email" placeholder="Email Address" />\n    <span class="error email"></span>\n  </div>\n  <div id="password" class="input_wrapper">\n    <input class="password" type="password" placeholder="Create Password" name="password"/>\n    <span class="error password"></span>\n  </div>\n  <button class="next-button">Register Now!</button>\n  <!--\n  <div class="facebook">\n    <p>Or you can:</p>\n    <a href="#">Facebook</a>\n  </div>\n  -->\n</form>\n\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["registration/nominate_civic_hero"]='<!--[if lt IE 9]>\n<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>\n<![endif]-->\n<h2>Nominate a Hero</h2>\n<form class="registration">\n  <input id="their-full-name" class="their-name" name="nominee_name" type="text" placeholder="Their Full Name" /><br />\n  <input id="their-email" class="their-email" type="email" name="nominee_email" placeholder="Their Email Address" /><br />\n  <textarea id="why" class="why-nominate" name="nomination_reason" placeholder="Tell us why you are nominating this person." ></textarea>\n  <input id="full-name" class="your-name" name="nominator_name" placeholder="Your Full Name"/>\n  <input id="email" class="your-email" name="nominator_email" placeholder="Your Email Address" />\n  <button class="next-button">Nominate this person!</button>\n  <div class="leader-button">\n    <p>Or apply for the:</p>\n    <span id="apply-btn">Civic Heroes Leadership Program</span>\n  </div>\n</form>\n',this.Templates["registration.nominate_civic_hero"]='<!--[if lt IE 9]>\n<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>\n<![endif]-->\n<h2>Nominate a Hero</h2>\n<form class="registration">\n  <input id="their-full-name" class="their-name" name="nominee_name" type="text" placeholder="Their Full Name" /><br />\n  <input id="their-email" class="their-email" type="email" name="nominee_email" placeholder="Their Email Address" /><br />\n  <textarea id="why" class="why-nominate" name="nomination_reason" placeholder="Tell us why you are nominating this person." ></textarea>\n  <input id="full-name" class="your-name" name="nominator_name" placeholder="Your Full Name"/>\n  <input id="email" class="your-email" name="nominator_email" placeholder="Your Email Address" />\n  <button class="next-button">Nominate this person!</button>\n  <div class="leader-button">\n    <p>Or apply for the:</p>\n    <span id="apply-btn">Civic Heroes Leadership Program</span>\n  </div>\n</form>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/avatar-crop-form"]='<form>\n  <div class="error"></div>\n  <h1>Crop {{name}} Avatar</h1>\n  \n  <img id="cropbox" src="{{avatar_url}}">\n\n  <div class="controls">\n    <a class="cancel" href="#">Cancel</a>\n    <button>Crop</button>\n  </div>\n  \n  <div style="clear: both;"></div>\n</form>\n',this.Templates["shared.avatar-crop-form"]='<form>\n  <div class="error"></div>\n  <h1>Crop {{name}} Avatar</h1>\n  \n  <img id="cropbox" src="{{avatar_url}}">\n\n  <div class="controls">\n    <a class="cancel" href="#">Cancel</a>\n    <button>Crop</button>\n  </div>\n  \n  <div style="clear: both;"></div>\n</form>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/directory-list-item"]='<div class="directory_item">\n  <a class="directory_item_link" href="#">\n  <img class="avatar-container" src="{{avatar_url}}" />\n  <h4>{{name}}</h4>\n  </a>\n</div>\n',this.Templates["shared.directory-list-item"]='<div class="directory_item">\n  <a class="directory_item_link" href="#">\n  <img class="avatar-container" src="{{avatar_url}}" />\n  <h4>{{name}}</h4>\n  </a>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/directory"]='<div class="directory_nav">\n  <h3 title="pages" class="directory_tab pages-filter">\n    {{^isHarvardNeighbors}}Town {{/isHarvardNeighbors}}Pages   \n  </h3>\n  <h3 title="users" class="directory_tab users-filter">Neighbors</h3>\n</div>\n\n<div id="directory_lists">\n\n  <div id="directory_results" class="scroll">\n    <div id="directory_failed_search">\n      Sorry, we couldn\'t find anything\n    </div>\n    <ul></ul>\n    <div class="loading-list"></div>\n  </div>\n\n  <div id="directory_search">\n    <input type="text" class="search" placeholder="Search&hellip;">\n    <div class="remove_search">X</div>\n  </div>\n\n</div>\n\n',this.Templates["shared.directory"]='<div class="directory_nav">\n  <h3 title="pages" class="directory_tab pages-filter">\n    {{^isHarvardNeighbors}}Town {{/isHarvardNeighbors}}Pages   \n  </h3>\n  <h3 title="users" class="directory_tab users-filter">Neighbors</h3>\n</div>\n\n<div id="directory_lists">\n\n  <div id="directory_results" class="scroll">\n    <div id="directory_failed_search">\n      Sorry, we couldn\'t find anything\n    </div>\n    <ul></ul>\n    <div class="loading-list"></div>\n  </div>\n\n  <div id="directory_search">\n    <input type="text" class="search" placeholder="Search&hellip;">\n    <div class="remove_search">X</div>\n  </div>\n\n</div>\n\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/facebook-nag"]='<a href="#" class=\'cancel\'></a>Add a photo to your profile now! <a href="#" class="connect">Connect with Facebook</a>.\n',this.Templates["shared.facebook-nag"]='<a href="#" class=\'cancel\'></a>Add a photo to your profile now! <a href="#" class="connect">Connect with Facebook</a>.\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/feature-switching"]='{{#canTryFeatures}}\n  <a class="feature-panel-toggle">Feature Switches</a>\n  <div class="feature-panel">\n    <ul class="feature-list">\n      {{#features}}\n        <li>\n          <label>\n            <input type="checkbox"\n            name="{{name}}_toggle"\n            value="{{name}}"\n            {{#isEnabled}}checked="checked"{{/isEnabled}}>\n              {{name}}\n          </label>\n        </li>\n      {{/features}}\n    </ul>\n    <button class="refresh-page">Refresh Page</button>\n  </div>\n{{/canTryFeatures}}\n',this.Templates["shared.feature-switching"]='{{#canTryFeatures}}\n  <a class="feature-panel-toggle">Feature Switches</a>\n  <div class="feature-panel">\n    <ul class="feature-list">\n      {{#features}}\n        <li>\n          <label>\n            <input type="checkbox"\n            name="{{name}}_toggle"\n            value="{{name}}"\n            {{#isEnabled}}checked="checked"{{/isEnabled}}>\n              {{name}}\n          </label>\n        </li>\n      {{/features}}\n    </ul>\n    <button class="refresh-page">Refresh Page</button>\n  </div>\n{{/canTryFeatures}}\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/feed-edit-form"]='<div class="modal-border">\n   <form>\n     <div class="error"></div>\n     <h1>Edit Your Page</h1>\n     <span class="divider"></span>\n  \n     <label for="name">Organization name:</label>\n     <input name="name" value="{{feedName}}" type="text">\n  \n     <label for="about">Describe your organization:</label>\n     <textarea name="about" rows="3">{{about}}</textarea>\n  \n     <label for="slug">Nickname:</label>\n     <input name="slug" value="{{slug}}" type="text">\n  \n     <div class="avatar">\n         <img src="{{avatarUrl}}" width="85" height="85">\n         <div class="avatar-controls">\n           <a class="upload" href="#">Change</a>\n           <a class="crop" href="#">Crop</a>\n         </div>\n     </div>\n  \n     <div style="clear: both"></div>\n  \n     <label for="rss">To pull Announcements from an RSS feed, type in the RSS URL:</label>\n     <input name="rss" value="{{rss}}" type="text">\n  \n     <label for="website">Website:</label>\n     <input name="website" value="{{website}}" type="text">\n  \n     <label for="phone">Phone number:</label>\n     <input name="phone" value="{{phone}}" type="text">\n  \n     <label for="address">Street Address:</label>\n     <input name="address" value="{{address}}" type="text">\n  \n     <label for="kind" class="kind_list">Is your community page for:\n       <select name="kind" class="kind_list dk" id="feed_kinds">\n         <option value="1">A non-profit</option>\n         <option value="2">A community group</option>\n         <option value="3">A business</option>\n         <option value="4">A muncipal entity</option>\n         <option value="5">A newspaper, news service, or news blog</option>\n         <option value="6">Other</option>\n       </select>\n     </label>\n     <label for="delete">Delete this page?</label>\n     <a class="delete blue-button" href="{{deleteUrl}}">Delete</a>\n     <div class="controls">\n       <button>Change Page</button>\n       <a class="cancel" href="#">Cancel</a>\n       <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n     </div>\n   </form>\n</div>\n<div class="close">x</div>\n',this.Templates["shared.feed-edit-form"]='<div class="modal-border">\n   <form>\n     <div class="error"></div>\n     <h1>Edit Your Page</h1>\n     <span class="divider"></span>\n  \n     <label for="name">Organization name:</label>\n     <input name="name" value="{{feedName}}" type="text">\n  \n     <label for="about">Describe your organization:</label>\n     <textarea name="about" rows="3">{{about}}</textarea>\n  \n     <label for="slug">Nickname:</label>\n     <input name="slug" value="{{slug}}" type="text">\n  \n     <div class="avatar">\n         <img src="{{avatarUrl}}" width="85" height="85">\n         <div class="avatar-controls">\n           <a class="upload" href="#">Change</a>\n           <a class="crop" href="#">Crop</a>\n         </div>\n     </div>\n  \n     <div style="clear: both"></div>\n  \n     <label for="rss">To pull Announcements from an RSS feed, type in the RSS URL:</label>\n     <input name="rss" value="{{rss}}" type="text">\n  \n     <label for="website">Website:</label>\n     <input name="website" value="{{website}}" type="text">\n  \n     <label for="phone">Phone number:</label>\n     <input name="phone" value="{{phone}}" type="text">\n  \n     <label for="address">Street Address:</label>\n     <input name="address" value="{{address}}" type="text">\n  \n     <label for="kind" class="kind_list">Is your community page for:\n       <select name="kind" class="kind_list dk" id="feed_kinds">\n         <option value="1">A non-profit</option>\n         <option value="2">A community group</option>\n         <option value="3">A business</option>\n         <option value="4">A muncipal entity</option>\n         <option value="5">A newspaper, news service, or news blog</option>\n         <option value="6">Other</option>\n       </select>\n     </label>\n     <label for="delete">Delete this page?</label>\n     <a class="delete blue-button" href="{{deleteUrl}}">Delete</a>\n     <div class="controls">\n       <button>Change Page</button>\n       <a class="cancel" href="#">Cancel</a>\n       <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n     </div>\n   </form>\n</div>\n<div class="close">x</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/feed-owners-form"]='\n<form>\n  <div class="error incomplete-form">Please fill in some emails.</div>\n  <div class="error bad-emails">Some email addresses not found in CommonPlace.</div>\n  <h1>Feed Permissions for {{name}}</h1>\n  <label>Existing Owners:</label>\n  <table class="existing-owners"></table>\n  <label for="emails">Add Users by Email <span class="unimportant">(comma separated)</span>:</label>\n  <textarea name="emails" rows="3"></textarea>\n  <div class="controls">\n    <a class="cancel" href="#">Cancel</a>\n    <button>Add Owners</button>\n  </div>\n</form>\n',this.Templates["shared.feed-owners-form"]='\n<form>\n  <div class="error incomplete-form">Please fill in some emails.</div>\n  <div class="error bad-emails">Some email addresses not found in CommonPlace.</div>\n  <h1>Feed Permissions for {{name}}</h1>\n  <label>Existing Owners:</label>\n  <table class="existing-owners"></table>\n  <label for="emails">Add Users by Email <span class="unimportant">(comma separated)</span>:</label>\n  <textarea name="emails" rows="3"></textarea>\n  <div class="controls">\n    <a class="cancel" href="#">Cancel</a>\n    <button>Add Owners</button>\n  </div>\n</form>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/feed-owners-item"]='\n  <td>{{name}}</td>\n  <td class="right"><a href="#" class="message">Send Message</a> or <a href="#" class="remove-owner">Remove</a></td>\n',this.Templates["shared.feed-owners-item"]='\n  <td>{{name}}</td>\n  <td class="right"><a href="#" class="message">Send Message</a> or <a href="#" class="remove-owner">Remove</a></td>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/header-activity"]='<div class="week-cpcredits number">{{weekly_cpcredits}}</div>\n<a>My Activity</a>\n    \n<ul class="my-activity-sub">\n  <p>You\'ve earned\n    <span class="week-cpcredits red">{{weekly_cpcredits}}</span>\n    \'Good Neighbor\' points this week, and\n    <span class="all-cpcredits red">{{all_cpcredits}}</span>\n    since you signed up\n    <span class="red">{{sign_up_time}}</span>\n  </p>\n  <div class="sub-left">\n    <h4>Personal Activity</h4>\n    <span class="this-week">This Week</span>\n    <span class="all-time">All Time</span>\n    <li>\n      <span class="sub-title">My posts</span>\n      <span class="sub-notif one">{{post_count}}</span>\n      <span class="sub-notif two">{{posts_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Neighbors thanked</span>\n      <span class="sub-notif one">{{thanks_count}}</span>\n      <span class="sub-notif two">{{thanks_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Replies received</span>\n      <span class="sub-notif one">{{replies_count}}</span>\n      <span class="sub-notif two">{{replies_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Thanks received</span>\n      <span class="sub-notif one">{{thanks_count}}</span>\n      <span class="sub-notif two">{{thanks_this_week_count}}</span>\n    </li>\n    <!-- <li>\n      <span class="sub-title">Number of site visits</span>\n      <span class="sub-notif one"></span>\n      <span class="sub-notif two"></span>\n    </li> -->\n    <li>\n      <span class="sub-title">Invites sent</span>\n      <span class="sub-notif one">{{invites_count}}</span>\n      <span class="sub-notif two">{{invites_this_week_count}}</span>\n    </li>\n    <!-- <li>\n      <span class="sub-title">Shares on Facebook</span>\n      <span class="sub-notif one"></span>\n      <span class="sub-notif two"></span>\n    </li> -->\n    <li class="total">\n      <span class="sub-total-title">Total</span>\n      <span class="sub-total-all all-cpcredits">{{all_cpcredits}}</span>\n      <span class="sub-total-week week-cpcredits two">{{weekly_cpcredits}}</span>\n    </li>\n  </div>\n  <div class="sub-right">\n    <h4>Town Activity</h4>\n    <span class="this-week">This Week</span>\n    <span class="all-time">All Time</span>\n    <li>\n      <span class="sub-title">Neighbors registered</span>\n      <span class="sub-notif one">{{community_users_count}}</span>\n      <span class="sub-notif two">{{community_users_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Total posts</span>\n      <span class="sub-notif one">{{community_posts_count}}</span>\n      <span class="sub-notif two">{{community_posts_this_week_count}}</span>\n    </li>\n    <!-- <li>\n      <span class="sub-title">Total thanks</span>\n      <span class="sub-notif one"></span>\n      <span class="sub-notif two"></span>\n    </li> -->\n    <li>\n      <span class="sub-title">Average replies / user</span>\n      <span class="sub-notif one">{{average_replies_count}}</span>\n      <span class="sub-notif two">{{average_replies_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Average posts / user</span>\n      <span class="sub-notif one">{{average_posts_count}}</span>\n      <span class="sub-notif two">{{average_posts_this_week_count}}</span>\n    </li>\n    <li class="community-percent">\n      <p>How many households in town are on CommonPlace? <a href="{{invite_url}}" class="invite" data-remote>Invite more!</a>\n      <div class="percent-layer" style="width: {{percentage_penetration_px}}px;"></div>\n      <div class="houses"></div>\n      <span class="percent">{{percent_penetration}}%</span>\n    </li>\n  </div>\n  <div style="clear: both;"></div>\n</ul>\n',this.Templates["shared.header-activity"]='<div class="week-cpcredits number">{{weekly_cpcredits}}</div>\n<a>My Activity</a>\n    \n<ul class="my-activity-sub">\n  <p>You\'ve earned\n    <span class="week-cpcredits red">{{weekly_cpcredits}}</span>\n    \'Good Neighbor\' points this week, and\n    <span class="all-cpcredits red">{{all_cpcredits}}</span>\n    since you signed up\n    <span class="red">{{sign_up_time}}</span>\n  </p>\n  <div class="sub-left">\n    <h4>Personal Activity</h4>\n    <span class="this-week">This Week</span>\n    <span class="all-time">All Time</span>\n    <li>\n      <span class="sub-title">My posts</span>\n      <span class="sub-notif one">{{post_count}}</span>\n      <span class="sub-notif two">{{posts_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Neighbors thanked</span>\n      <span class="sub-notif one">{{thanks_count}}</span>\n      <span class="sub-notif two">{{thanks_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Replies received</span>\n      <span class="sub-notif one">{{replies_count}}</span>\n      <span class="sub-notif two">{{replies_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Thanks received</span>\n      <span class="sub-notif one">{{thanks_count}}</span>\n      <span class="sub-notif two">{{thanks_this_week_count}}</span>\n    </li>\n    <!-- <li>\n      <span class="sub-title">Number of site visits</span>\n      <span class="sub-notif one"></span>\n      <span class="sub-notif two"></span>\n    </li> -->\n    <li>\n      <span class="sub-title">Invites sent</span>\n      <span class="sub-notif one">{{invites_count}}</span>\n      <span class="sub-notif two">{{invites_this_week_count}}</span>\n    </li>\n    <!-- <li>\n      <span class="sub-title">Shares on Facebook</span>\n      <span class="sub-notif one"></span>\n      <span class="sub-notif two"></span>\n    </li> -->\n    <li class="total">\n      <span class="sub-total-title">Total</span>\n      <span class="sub-total-all all-cpcredits">{{all_cpcredits}}</span>\n      <span class="sub-total-week week-cpcredits two">{{weekly_cpcredits}}</span>\n    </li>\n  </div>\n  <div class="sub-right">\n    <h4>Town Activity</h4>\n    <span class="this-week">This Week</span>\n    <span class="all-time">All Time</span>\n    <li>\n      <span class="sub-title">Neighbors registered</span>\n      <span class="sub-notif one">{{community_users_count}}</span>\n      <span class="sub-notif two">{{community_users_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Total posts</span>\n      <span class="sub-notif one">{{community_posts_count}}</span>\n      <span class="sub-notif two">{{community_posts_this_week_count}}</span>\n    </li>\n    <!-- <li>\n      <span class="sub-title">Total thanks</span>\n      <span class="sub-notif one"></span>\n      <span class="sub-notif two"></span>\n    </li> -->\n    <li>\n      <span class="sub-title">Average replies / user</span>\n      <span class="sub-notif one">{{average_replies_count}}</span>\n      <span class="sub-notif two">{{average_replies_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Average posts / user</span>\n      <span class="sub-notif one">{{average_posts_count}}</span>\n      <span class="sub-notif two">{{average_posts_this_week_count}}</span>\n    </li>\n    <li class="community-percent">\n      <p>How many households in town are on CommonPlace? <a href="{{invite_url}}" class="invite" data-remote>Invite more!</a>\n      <div class="percent-layer" style="width: {{percentage_penetration_px}}px;"></div>\n      <div class="houses"></div>\n      <span class="percent">{{percent_penetration}}%</span>\n    </li>\n  </div>\n  <div style="clear: both;"></div>\n</ul>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/header-login"]='<li>Have an Account?</li>\n<li id="sign_in_button">Sign in</li>\n<li id="sign_in_form">\n  <form class="user">\n    <ul class="error" id="errors"></ul>\n  <ul>\n    <li>\n      <label name="email">Email Address: <input name="email" type="text"></label>\n    </li>\n    <li>\n      <label name="password">Enter your password: <input name="password" type="password"> </label>\n    </li>\n    <li>\n      <input type="image" src="/assets/buttons/login.png" class="submit" value="Log in">\n      <a class="facebook" href="/users/auth/facebook"> <img src="/assets/login.png" alt="Log in with Facebook"> </a>\n      <a class="forgot" href="/users/password/new">Forgot your password?</a>\n    </li>\n  </ul></form>\n</li>\n',this.Templates["shared.header-login"]='<li>Have an Account?</li>\n<li id="sign_in_button">Sign in</li>\n<li id="sign_in_form">\n  <form class="user">\n    <ul class="error" id="errors"></ul>\n  <ul>\n    <li>\n      <label name="email">Email Address: <input name="email" type="text"></label>\n    </li>\n    <li>\n      <label name="password">Enter your password: <input name="password" type="password"> </label>\n    </li>\n    <li>\n      <input type="image" src="/assets/buttons/login.png" class="submit" value="Log in">\n      <a class="facebook" href="/users/auth/facebook"> <img src="/assets/login.png" alt="Log in with Facebook"> </a>\n      <a class="forgot" href="/users/password/new">Forgot your password?</a>\n    </li>\n  </ul></form>\n</li>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/header-nav"]='<ul>\n  {{#showActivity}}\n    <li class="my-activity"></li>\n  {{/showActivity}}\n  <li class="register_feed">\n    <div class="feed_icon"></div>\n    <a href="/feed_registrations/new">Register a Feed</a></li>\n  </li>\n\n  <li class="invite">\n    <div class="letter"></div>\n    <a href="{{invite_url}}" data-remote>Invite<a>\n  </li>\n  <li class="inbox">\n    <div class="file"></div>\n    <a href="{{inbox_url}}" data-remote>\n      Inbox\n    </a>\n  </li>\n  <li class="account">\n\n    <img src="{{avatar_url}}" width="22" height="22" class="avatar">\n    <a href="{{account_url}}" data-remote>Hi, {{short_name}}!</a>\n\n    <ul class="account-sub">\n      <li><a href="{{account_url}}" data-remote>Account Settings</a></li>\n\n      {{#feeds}}\n        <li><a href="/pages/{{slug}}">{{name}}</a></li>\n      {{/feeds}}\n\n      <li><a href="/feed_registrations/new">Register a Feed</a></li>\n      <li><a href="{{faq_url}}" data-remote>FAQ</a></li>\n\n      {{#neighbor_discount_url}}\n        <li><a href="{{neighbor_discount_url}}" data-remote>Good Neighbor Discount</a></li>\n      {{/neighbor_discount_url}}\n\n      <li><a href="{{privacy_url}}">Privacy Policy</a></li>\n      <li><a href="/users/sign_out">Sign Out</a></li>\n    </ul>\n\n  </li>\n</ul>\n'
,this.Templates["shared.header-nav"]='<ul>\n  {{#showActivity}}\n    <li class="my-activity"></li>\n  {{/showActivity}}\n  <li class="register_feed">\n    <div class="feed_icon"></div>\n    <a href="/feed_registrations/new">Register a Feed</a></li>\n  </li>\n\n  <li class="invite">\n    <div class="letter"></div>\n    <a href="{{invite_url}}" data-remote>Invite<a>\n  </li>\n  <li class="inbox">\n    <div class="file"></div>\n    <a href="{{inbox_url}}" data-remote>\n      Inbox\n    </a>\n  </li>\n  <li class="account">\n\n    <img src="{{avatar_url}}" width="22" height="22" class="avatar">\n    <a href="{{account_url}}" data-remote>Hi, {{short_name}}!</a>\n\n    <ul class="account-sub">\n      <li><a href="{{account_url}}" data-remote>Account Settings</a></li>\n\n      {{#feeds}}\n        <li><a href="/pages/{{slug}}">{{name}}</a></li>\n      {{/feeds}}\n\n      <li><a href="/feed_registrations/new">Register a Feed</a></li>\n      <li><a href="{{faq_url}}" data-remote>FAQ</a></li>\n\n      {{#neighbor_discount_url}}\n        <li><a href="{{neighbor_discount_url}}" data-remote>Good Neighbor Discount</a></li>\n      {{/neighbor_discount_url}}\n\n      <li><a href="{{privacy_url}}">Privacy Policy</a></li>\n      <li><a href="/users/sign_out">Sign Out</a></li>\n    </ul>\n\n  </li>\n</ul>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/header-view"]='<div id="nav_wrapper" class="pie-element">\n  \n  <div class="nav"></div>\n\n  <a href="{{root_url}}" id="logo">\n    <img src="/assets/logo2.png" alt="CommonPlace">\n    {{#hasCommunity}}<span class="community">{{community_name}}</span>{{/hasCommunity}}\n  </a>\n\n</div>\n',this.Templates["shared.header-view"]='<div id="nav_wrapper" class="pie-element">\n  \n  <div class="nav"></div>\n\n  <a href="{{root_url}}" id="logo">\n    <img src="/assets/logo2.png" alt="CommonPlace">\n    {{#hasCommunity}}<span class="community">{{community_name}}</span>{{/hasCommunity}}\n  </a>\n\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/inbox-nav"]='<div id="inbox-nav">\n  <a\n    href="/{{community_slug}}/inbox"\n    class="inbox nav-tab"\n    data-remote>\n    Inbox\n  </a>\n\n  <a\n    href="/{{community_slug}}/outbox"\n    class="outbox nav-tab"\n    data-remote>\n    Sent\n  </a>\n  <a\n    href="/{{community_slug}}/feed_inbox"\n    class="feed_inbox nav-tab"\n    data-remote>\n    Feeds\n  </a>\n</div>\n',this.Templates["shared.inbox-nav"]='<div id="inbox-nav">\n  <a\n    href="/{{community_slug}}/inbox"\n    class="inbox nav-tab"\n    data-remote>\n    Inbox\n  </a>\n\n  <a\n    href="/{{community_slug}}/outbox"\n    class="outbox nav-tab"\n    data-remote>\n    Sent\n  </a>\n  <a\n    href="/{{community_slug}}/feed_inbox"\n    class="feed_inbox nav-tab"\n    data-remote>\n    Feeds\n  </a>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/message-form"]='<div class="modal-border post-box pie-element">\n   <div id="post-box" class="question">\n     <div class="error"></div>\n\n     <div class="form-container">\n        <div class="posting-header discussion">\n           <i class="icon"></i>\n           <div class="left">\n             <h1>Write a private message to<br/><strong>{{name}}</strong></h1>\n           </div>\n         </div>\n         <span class="divider">\n         </span>\n       <form>\n         <input type="text" placeholder="Subject" name="subject" class="rounded_corners pie-element"></input>\n         <textarea placeholder="Message" name="body" class="rounded_corners pie-element"></textarea>\n         <div id="message_controls" class="controls">\n            <button class="pie-element">Send Message</button>\n            <a class="cancel" href="#">Cancel</a>\n            <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n         </div>\n       </form>\n     </div>\n   </div>\n</div>\n<div class="close">x</div>\n',this.Templates["shared.message-form"]='<div class="modal-border post-box pie-element">\n   <div id="post-box" class="question">\n     <div class="error"></div>\n\n     <div class="form-container">\n        <div class="posting-header discussion">\n           <i class="icon"></i>\n           <div class="left">\n             <h1>Write a private message to<br/><strong>{{name}}</strong></h1>\n           </div>\n         </div>\n         <span class="divider">\n         </span>\n       <form>\n         <input type="text" placeholder="Subject" name="subject" class="rounded_corners pie-element"></input>\n         <textarea placeholder="Message" name="body" class="rounded_corners pie-element"></textarea>\n         <div id="message_controls" class="controls">\n            <button class="pie-element">Send Message</button>\n            <a class="cancel" href="#">Cancel</a>\n            <div class="spinner"><img src=\'/assets/loading-post.gif\' /></div>\n         </div>\n       </form>\n     </div>\n   </div>\n</div>\n<div class="close">x</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/modal"]='<div id="modal-shadow"></div>\n\n<div class="modal-container"></div>\n',this.Templates["shared.modal"]='<div id="modal-shadow"></div>\n\n<div class="modal-container"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/new_header/harvard-header-login"]='<div class="top-bar">\n  <div class="registration_right">\n    <!--\n    <div class="choose_town_container">\n       <h3>Wrong Town?</h3> \n       <div id="wrong_town" class="button blue">\n         Choose\n       </div>\n    </div>\n    -->\n    <div class="have_account_container" style="margin-left: 200px">\n      <h3>Have an account?</h3> \n      <div id="login" class="button red drop">\n        Login\n      </div>\n    </div>\n    <!--\n    <div class="choose_town_container">\n       <div id="choose_town" class="dropdown">\n         <div class="arrow"></div>\n         <ul id="town_list"></ul>\n       </div>\n    </div>\n    -->\n    <div id="sign_in" class="dropdown">\n      <div class="arrow"></div>\n      <form id="sign_in_form">\n        <input type="email" name="email" class="email" placeholder="Email Address" />\n        <input type="password" name="password" placeholder="Password" />\n        <button name="signin" class="button signin">Sign In</button>\n        <input type="submit" style="display: none"/>\n      </form>\n      <a href="/users/auth/facebook">\n        <button name="facebooksignin" class="button signin facebook">Facebook Login</button>\n      </a>\n      <a href="/users/password/new">\n        <p class="forgot">Forgot Password?</p>\n      </a>\n    </div>\n  </div>\n</div>\n',this.Templates["shared.new_header.harvard-header-login"]='<div class="top-bar">\n  <div class="registration_right">\n    <!--\n    <div class="choose_town_container">\n       <h3>Wrong Town?</h3> \n       <div id="wrong_town" class="button blue">\n         Choose\n       </div>\n    </div>\n    -->\n    <div class="have_account_container" style="margin-left: 200px">\n      <h3>Have an account?</h3> \n      <div id="login" class="button red drop">\n        Login\n      </div>\n    </div>\n    <!--\n    <div class="choose_town_container">\n       <div id="choose_town" class="dropdown">\n         <div class="arrow"></div>\n         <ul id="town_list"></ul>\n       </div>\n    </div>\n    -->\n    <div id="sign_in" class="dropdown">\n      <div class="arrow"></div>\n      <form id="sign_in_form">\n        <input type="email" name="email" class="email" placeholder="Email Address" />\n        <input type="password" name="password" placeholder="Password" />\n        <button name="signin" class="button signin">Sign In</button>\n        <input type="submit" style="display: none"/>\n      </form>\n      <a href="/users/auth/facebook">\n        <button name="facebooksignin" class="button signin facebook">Facebook Login</button>\n      </a>\n      <a href="/users/password/new">\n        <p class="forgot">Forgot Password?</p>\n      </a>\n    </div>\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/new_header/harvard-header-view"]='<div id="nav_wrapper">\n  \n  <div class="community-name">\n    <a href="{{community_url}}">\n      {{#isAuth}}\n        {{#hasCommunity}}\n          <h1 class="community">\n            {{community_name}}\n          </h1>\n        {{/hasCommunity}}\n      {{/isAuth}}\n      {{#notAuth}}\n        <img src="/assets/shared/redesign/hnnlogo.png" alt="OurCommonPlace" class="cp_logo">\n        {{#hasCommunity}}\n          <span class="community">\n            {{community_name}}\n          </span>\n        {{/hasCommunity}}\n      {{/notAuth}}\n    </a>\n  </div>\n  <div class="nav"></div>\n\n</div>\n',this.Templates["shared.new_header.harvard-header-view"]='<div id="nav_wrapper">\n  \n  <div class="community-name">\n    <a href="{{community_url}}">\n      {{#isAuth}}\n        {{#hasCommunity}}\n          <h1 class="community">\n            {{community_name}}\n          </h1>\n        {{/hasCommunity}}\n      {{/isAuth}}\n      {{#notAuth}}\n        <img src="/assets/shared/redesign/hnnlogo.png" alt="OurCommonPlace" class="cp_logo">\n        {{#hasCommunity}}\n          <span class="community">\n            {{community_name}}\n          </span>\n        {{/hasCommunity}}\n      {{/notAuth}}\n    </a>\n  </div>\n  <div class="nav"></div>\n\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/new_header/header-activity"]='<div class="week-cpcredits number">{{weekly_cpcredits}}</div>\n<a>My Activity</a>\n    \n<ul class="my-activity-sub">\n  <p>You\'ve earned\n    <span class="week-cpcredits red">{{weekly_cpcredits}}</span>\n    \'Good Neighbor\' points this week, and\n    <span class="all-cpcredits red">{{all_cpcredits}}</span>\n    since you signed up\n    <span class="red">{{sign_up_time}}</span>\n  </p>\n  <div class="sub-left">\n    <h4>Personal Activity</h4>\n    <span class="this-week">This Week</span>\n    <span class="all-time">All Time</span>\n    <li>\n      <span class="sub-title">My posts</span>\n      <span class="sub-notif one">{{post_count}}</span>\n      <span class="sub-notif two">{{posts_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Neighbors thanked</span>\n      <span class="sub-notif one">{{thanks_count}}</span>\n      <span class="sub-notif two">{{thanks_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Replies received</span>\n      <span class="sub-notif one">{{replies_count}}</span>\n      <span class="sub-notif two">{{replies_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Thanks received</span>\n      <span class="sub-notif one">{{thanks_count}}</span>\n      <span class="sub-notif two">{{thanks_this_week_count}}</span>\n    </li>\n    <!-- <li>\n      <span class="sub-title">Number of site visits</span>\n      <span class="sub-notif one"></span>\n      <span class="sub-notif two"></span>\n    </li> -->\n    <li>\n      <span class="sub-title">Invites sent</span>\n      <span class="sub-notif one">{{invites_count}}</span>\n      <span class="sub-notif two">{{invites_this_week_count}}</span>\n    </li>\n    <!-- <li>\n      <span class="sub-title">Shares on Facebook</span>\n      <span class="sub-notif one"></span>\n      <span class="sub-notif two"></span>\n    </li> -->\n    <li class="total">\n      <span class="sub-total-title">Total</span>\n      <span class="sub-total-all all-cpcredits">{{all_cpcredits}}</span>\n      <span class="sub-total-week week-cpcredits two">{{weekly_cpcredits}}</span>\n    </li>\n  </div>\n  <div class="sub-right">\n    <h4>Town Activity</h4>\n    <span class="this-week">This Week</span>\n    <span class="all-time">All Time</span>\n    <li>\n      <span class="sub-title">Neighbors registered</span>\n      <span class="sub-notif one">{{community_users_count}}</span>\n      <span class="sub-notif two">{{community_users_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Total posts</span>\n      <span class="sub-notif one">{{community_posts_count}}</span>\n      <span class="sub-notif two">{{community_posts_this_week_count}}</span>\n    </li>\n    <!-- <li>\n      <span class="sub-title">Total thanks</span>\n      <span class="sub-notif one"></span>\n      <span class="sub-notif two"></span>\n    </li> -->\n    <li>\n      <span class="sub-title">Average replies / user</span>\n      <span class="sub-notif one">{{average_replies_count}}</span>\n      <span class="sub-notif two">{{average_replies_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Average posts / user</span>\n      <span class="sub-notif one">{{average_posts_count}}</span>\n      <span class="sub-notif two">{{average_posts_this_week_count}}</span>\n    </li>\n    <li class="community-percent">\n      <p>How many households in town are on CommonPlace? <a href="{{invite_url}}" class="invite" data-remote>Invite more!</a>\n      <div class="percent-layer" style="width: {{percentage_penetration_px}}px;"></div>\n      <div class="houses"></div>\n      <span class="percent">{{percent_penetration}}%</span>\n    </li>\n  </div>\n  <div style="clear: both;"></div>\n</ul>\n',this.Templates["shared.new_header.header-activity"]='<div class="week-cpcredits number">{{weekly_cpcredits}}</div>\n<a>My Activity</a>\n    \n<ul class="my-activity-sub">\n  <p>You\'ve earned\n    <span class="week-cpcredits red">{{weekly_cpcredits}}</span>\n    \'Good Neighbor\' points this week, and\n    <span class="all-cpcredits red">{{all_cpcredits}}</span>\n    since you signed up\n    <span class="red">{{sign_up_time}}</span>\n  </p>\n  <div class="sub-left">\n    <h4>Personal Activity</h4>\n    <span class="this-week">This Week</span>\n    <span class="all-time">All Time</span>\n    <li>\n      <span class="sub-title">My posts</span>\n      <span class="sub-notif one">{{post_count}}</span>\n      <span class="sub-notif two">{{posts_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Neighbors thanked</span>\n      <span class="sub-notif one">{{thanks_count}}</span>\n      <span class="sub-notif two">{{thanks_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Replies received</span>\n      <span class="sub-notif one">{{replies_count}}</span>\n      <span class="sub-notif two">{{replies_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Thanks received</span>\n      <span class="sub-notif one">{{thanks_count}}</span>\n      <span class="sub-notif two">{{thanks_this_week_count}}</span>\n    </li>\n    <!-- <li>\n      <span class="sub-title">Number of site visits</span>\n      <span class="sub-notif one"></span>\n      <span class="sub-notif two"></span>\n    </li> -->\n    <li>\n      <span class="sub-title">Invites sent</span>\n      <span class="sub-notif one">{{invites_count}}</span>\n      <span class="sub-notif two">{{invites_this_week_count}}</span>\n    </li>\n    <!-- <li>\n      <span class="sub-title">Shares on Facebook</span>\n      <span class="sub-notif one"></span>\n      <span class="sub-notif two"></span>\n    </li> -->\n    <li class="total">\n      <span class="sub-total-title">Total</span>\n      <span class="sub-total-all all-cpcredits">{{all_cpcredits}}</span>\n      <span class="sub-total-week week-cpcredits two">{{weekly_cpcredits}}</span>\n    </li>\n  </div>\n  <div class="sub-right">\n    <h4>Town Activity</h4>\n    <span class="this-week">This Week</span>\n    <span class="all-time">All Time</span>\n    <li>\n      <span class="sub-title">Neighbors registered</span>\n      <span class="sub-notif one">{{community_users_count}}</span>\n      <span class="sub-notif two">{{community_users_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Total posts</span>\n      <span class="sub-notif one">{{community_posts_count}}</span>\n      <span class="sub-notif two">{{community_posts_this_week_count}}</span>\n    </li>\n    <!-- <li>\n      <span class="sub-title">Total thanks</span>\n      <span class="sub-notif one"></span>\n      <span class="sub-notif two"></span>\n    </li> -->\n    <li>\n      <span class="sub-title">Average replies / user</span>\n      <span class="sub-notif one">{{average_replies_count}}</span>\n      <span class="sub-notif two">{{average_replies_this_week_count}}</span>\n    </li>\n    <li>\n      <span class="sub-title">Average posts / user</span>\n      <span class="sub-notif one">{{average_posts_count}}</span>\n      <span class="sub-notif two">{{average_posts_this_week_count}}</span>\n    </li>\n    <li class="community-percent">\n      <p>How many households in town are on CommonPlace? <a href="{{invite_url}}" class="invite" data-remote>Invite more!</a>\n      <div class="percent-layer" style="width: {{percentage_penetration_px}}px;"></div>\n      <div class="houses"></div>\n      <span class="percent">{{percent_penetration}}%</span>\n    </li>\n  </div>\n  <div style="clear: both;"></div>\n</ul>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/new_header/header-login"]='<h3>Have an account?</h3>\n<div id="login" class="button red drop">\n  Login\n</div>\n<div id="sign_in" class="dropdown">\n  <div class="arrow"></div>\n  <form id="sign_in_form">\n    <input type="email" name="email" class="email" placeholder="Email Address" />\n    <input type="password" name="password" placeholder="Password" />\n    <button id="signin_button" name="signin" class="button signin">Sign In</button>\n    <input type="submit" style="display: none"/>\n  </form>\n  <a href="/users/auth/facebook">\n    <button name="facebooksignin" class="button signin facebook">Facebook Login</button>\n  </a>\n  <a href="/users/password/new">\n    <p class="forgot">Forgot Password?</p>\n  </a>\n</div>\n<div class="registration_banner">\n   <div class="text_container">\n\n    {{#isHarvardNeighbors}} \n      <p>\n        Before you post or reply we need to verify that you are a Harvard Neighbor! Sign up to share updates, announcements and events with your Neighbors and connect with Harvard Neighbors interest groups.\n      </p>\n    {{/isHarvardNeighbors}}    \n\n    {{^isHarvardNeighbors}} \n    <p>Before you post or reply we need to verify that you live in town! Sign up to share goods, services and events with your neighbors and connect with great local organizations. To learn more about {{#hasCommunity}}{{community_name}}{{/hasCommunity}}{{^hasCommunity}}your town{{/hasCommunity}}\'s new town bulletin, <a href="/about">click here</a>.</p><span class="red-button button"><a href="#">Sign Up Now!</a></span>\n    {{/isHarvardNeighbors}}    \n\n   </div>\n</div>\n',this.Templates["shared.new_header.header-login"]='<h3>Have an account?</h3>\n<div id="login" class="button red drop">\n  Login\n</div>\n<div id="sign_in" class="dropdown">\n  <div class="arrow"></div>\n  <form id="sign_in_form">\n    <input type="email" name="email" class="email" placeholder="Email Address" />\n    <input type="password" name="password" placeholder="Password" />\n    <button id="signin_button" name="signin" class="button signin">Sign In</button>\n    <input type="submit" style="display: none"/>\n  </form>\n  <a href="/users/auth/facebook">\n    <button name="facebooksignin" class="button signin facebook">Facebook Login</button>\n  </a>\n  <a href="/users/password/new">\n    <p class="forgot">Forgot Password?</p>\n  </a>\n</div>\n<div class="registration_banner">\n   <div class="text_container">\n\n    {{#isHarvardNeighbors}} \n      <p>\n        Before you post or reply we need to verify that you are a Harvard Neighbor! Sign up to share updates, announcements and events with your Neighbors and connect with Harvard Neighbors interest groups.\n      </p>\n    {{/isHarvardNeighbors}}    \n\n    {{^isHarvardNeighbors}} \n    <p>Before you post or reply we need to verify that you live in town! Sign up to share goods, services and events with your neighbors and connect with great local organizations. To learn more about {{#hasCommunity}}{{community_name}}{{/hasCommunity}}{{^hasCommunity}}your town{{/hasCommunity}}\'s new town bulletin, <a href="/about">click here</a>.</p><span class="red-button button"><a href="#">Sign Up Now!</a></span>\n    {{/isHarvardNeighbors}}    \n\n   </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/new_header/header-nav"]='<ul>\n  {{#showActivity}}\n    <li class="my-activity"></li>\n  {{/showActivity}}\n\n\n  <li class="account pie-element">\n    <img class="avatar-container" src="{{avatar_url}}" />\n    <a href="{{user_url}}" data-remote>My Page </a><span class="arrow">&#9662;</span>\n\n    <ul class="account-sub">\n      <li class="inbox">\n        <a href="{{inbox_url}}" data-remote>\n         Inbox{{#hasUnreadMessages}} <span class="inbox_number">{{unreadMessages}}</span>{{/hasUnreadMessages}}\n        </a>\n      </li>\n      <li><a href="{{user_url}}" data-remote>My Page</a></li>\n      <li><a class="create-feed-link" href="/feed_registrations/new">Create a New Page</a></li>\n      {{#feeds}}\n        <li><a class="feed-link" href="/{{community}}/pages/{{slug}}" id="{{slug}}">{{name}}</a></li>\n      {{/feeds}}\n\n      <li><a href="{{account_url}}" data-remote>Account Settings</a></li>\n      <li><a href="{{faq_url}}" data-remote>FAQ</a></li>\n\n      <li><a href="/users/sign_out">Sign Out</a></li>\n    </ul>\n  </li>\n</ul>\n',this.Templates["shared.new_header.header-nav"]='<ul>\n  {{#showActivity}}\n    <li class="my-activity"></li>\n  {{/showActivity}}\n\n\n  <li class="account pie-element">\n    <img class="avatar-container" src="{{avatar_url}}" />\n    <a href="{{user_url}}" data-remote>My Page </a><span class="arrow">&#9662;</span>\n\n    <ul class="account-sub">\n      <li class="inbox">\n        <a href="{{inbox_url}}" data-remote>\n         Inbox{{#hasUnreadMessages}} <span class="inbox_number">{{unreadMessages}}</span>{{/hasUnreadMessages}}\n        </a>\n      </li>\n      <li><a href="{{user_url}}" data-remote>My Page</a></li>\n      <li><a class="create-feed-link" href="/feed_registrations/new">Create a New Page</a></li>\n      {{#feeds}}\n        <li><a class="feed-link" href="/{{community}}/pages/{{slug}}" id="{{slug}}">{{name}}</a></li>\n      {{/feeds}}\n\n      <li><a href="{{account_url}}" data-remote>Account Settings</a></li>\n      <li><a href="{{faq_url}}" data-remote>FAQ</a></li>\n\n      <li><a href="/users/sign_out">Sign Out</a></li>\n    </ul>\n  </li>\n</ul>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/new_header/header-search"]='<input type="text" id="search-header" class="pie-element" placeholder="Search {{community_name}}..." >\n',this.Templates["shared.new_header.header-search"]='<input type="text" id="search-header" class="pie-element" placeholder="Search {{community_name}}..." >\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/new_header/header-view"]='<div id="nav_wrapper" class="pie-element">\n  <div class="header_left">\n    <a href="{{community_url}}">\n      {{#isAuth}}\n        <h1 class="community">\n          <img src="/assets/shared/redesign/flag-logo.png" alt="OurCommonPlace" class="cp_logo">\n        </h1>\n        <div class="button-wrapper pie-element">\n          <a href="" class="red-button post pie-element">Post To Your Neighbors!</a>\n        </div>\n      {{/isAuth}}\n      {{^isAuth}}\n        <img src="/assets/shared/redesign/logo3.png" alt="OurCommonPlace" class="cp_logo">\n      {{/isAuth}}\n    </a>\n  </div>\n  <div class="header_center"></div>\n  <div class="header_right"></div>\n</div>\n',this.Templates["shared.new_header.header-view"]='<div id="nav_wrapper" class="pie-element">\n  <div class="header_left">\n    <a href="{{community_url}}">\n      {{#isAuth}}\n        <h1 class="community">\n          <img src="/assets/shared/redesign/flag-logo.png" alt="OurCommonPlace" class="cp_logo">\n        </h1>\n        <div class="button-wrapper pie-element">\n          <a href="" class="red-button post pie-element">Post To Your Neighbors!</a>\n        </div>\n      {{/isAuth}}\n      {{^isAuth}}\n        <img src="/assets/shared/redesign/logo3.png" alt="OurCommonPlace" class="cp_logo">\n      {{/isAuth}}\n    </a>\n  </div>\n  <div class="header_center"></div>\n  <div class="header_right"></div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/new_header/header-wrong-town"]='<h3>Wrong Town?</h3> \n<div id="wrong_town" class="button blue">\n  Choose\n</div>\n<div id="choose_town" class="dropdown">\n  <div class="arrow"></div>\n  <ul id="town_list"></ul>\n</div>\n',this.Templates["shared.new_header.header-wrong-town"]='<h3>Wrong Town?</h3> \n<div id="wrong_town" class="button blue">\n  Choose\n</div>\n<div id="choose_town" class="dropdown">\n  <div class="arrow"></div>\n  <ul id="town_list"></ul>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/replies"]='{{#hiddenReplyCount}}\n<a class="replies-more" href="#">View All {{replyCount}} Replies <span class="small">&#x25BC;</span></a>\n{{/hiddenReplyCount}}\n<ul class="reply-list"></ul>\n{{^isGuest}}\n<div class="comment">\n   <form class="new-reply clear">\n     <img class="avatar-container" src="{{accountAvatarUrl}}" />\n     <div class="reply-text">\n       <textarea class="reply-text-entry" name="body" placeholder="Write your reply here..."></textarea>\n     </div>\n     <div class="submit-c pie-element"><span id="submit_text">Reply</span></div>\n   </form>\n   <div style="clear: both;"></div>\n</div>\n{{/isGuest}}\n{{#isGuest}}\n<div class="sign-up">\n  <p>OurCommonPlace is the best way to share with your neighbors in {{community_name}}. Sign up to participate.</p>\n  <a class="red-button register">Sign Up Now!</a>\n</div>\n{{/isGuest}}\n',this.Templates["shared.replies"]='{{#hiddenReplyCount}}\n<a class="replies-more" href="#">View All {{replyCount}} Replies <span class="small">&#x25BC;</span></a>\n{{/hiddenReplyCount}}\n<ul class="reply-list"></ul>\n{{^isGuest}}\n<div class="comment">\n   <form class="new-reply clear">\n     <img class="avatar-container" src="{{accountAvatarUrl}}" />\n     <div class="reply-text">\n       <textarea class="reply-text-entry" name="body" placeholder="Write your reply here..."></textarea>\n     </div>\n     <div class="submit-c pie-element"><span id="submit_text">Reply</span></div>\n   </form>\n   <div style="clear: both;"></div>\n</div>\n{{/isGuest}}\n{{#isGuest}}\n<div class="sign-up">\n  <p>OurCommonPlace is the best way to share with your neighbors in {{community_name}}. Sign up to participate.</p>\n  <a class="red-button register">Sign Up Now!</a>\n</div>\n{{/isGuest}}\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/share"]='<ul class="share-nav">\n\t<li class="share-e">Email</li>\n\t<li class="share-f"\n    data-name="{{item_name}}"\n    data-url="{{share_url}}"\n    data-picture="{{avatar_url}}"\n    data-caption="Join {{community_name}} CommonPlace to share with your neighborhood."\n    data-description=""\n      data-message="Check out this post from my neighbors...">Facebook</li>\n\t\t  <li class="share-t"\n        data-url="{{share_url}}" \n        data-message="Check out this post from my neighbors on the {{community_name}} CommonPlace:">Twitter</li>\n</ul>\n<div id="share-email" style="display: none;">\n  <form class="share-email">\n    <input name="share-email" placeholder="Enter email addresses to share with your friends"></input>\n    <div class="email-button">\n      Share\n    </div>\n  </form>\n</div>\n<div class="clear">\n</div>\n\n',this.Templates["shared.share"]='<ul class="share-nav">\n\t<li class="share-e">Email</li>\n\t<li class="share-f"\n    data-name="{{item_name}}"\n    data-url="{{share_url}}"\n    data-picture="{{avatar_url}}"\n    data-caption="Join {{community_name}} CommonPlace to share with your neighborhood."\n    data-description=""\n      data-message="Check out this post from my neighbors...">Facebook</li>\n\t\t  <li class="share-t"\n        data-url="{{share_url}}" \n        data-message="Check out this post from my neighbors on the {{community_name}} CommonPlace:">Twitter</li>\n</ul>\n<div id="share-email" style="display: none;">\n  <form class="share-email">\n    <input name="share-email" placeholder="Enter email addresses to share with your friends"></input>\n    <div class="email-button">\n      Share\n    </div>\n  </form>\n</div>\n<div class="clear">\n</div>\n\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/share_modal"]='<div class="form-container modal-border share pie-element">\n  {{#header}}<h1>{{header}}</h1>{{/header}}\n  <span class="divider"></span>\n  {{#message}}<h3>{{message}}</h3>{{/message}}\n  <ul class="share">\n    <li id="facebookshare" class="share-f"\n      data-name="{{item_name}}"\n      data-url="{{share_url}}"\n      data-picture="{{avatar_url}}"\n      data-caption="Join {{community_name}} CommonPlace to share with your neighborhood."\n      data-description=""\n      data-message="{{share_message}}">Share with my Facebook friends\n    </li>\n    <a id="mailto-share" href="mailto:?subject={{email_subject}}&body={{email_body}}" target="_blank"><li id="emailshare">Send an email to my friends in town</li></a>\n    <div id="share-email">\n      <form>\n        <input placeholder="e.g. john@gmail.com, jane@gmail.com" name="share-email" class="rounded_corners">\n        <!-- <a href="#" class="share rounded_corners">Connect your Email</a> -->\n        <a href="#" class="share rounded_corners" id="submit_email_share" target="_blank">Send</a>\n      </form><br /><br />\n    </div>\n    <li id="twittershare" class="share-t"\n      data-url="{{share_url}}"\n      data-message="{{share_message}}" target="_blank">\n      Share with my Twitter followers\n    </li>\n    <li id="linkshare">Copy public link</li>\n    <div id="share_link">\n      <form>\n        <input value="{{share_url}}" name="share-link" class="rounded_corners" readonly>\n      </form>\n      <p>Right-click "Copy" or: CTRL+C (Windows), <span style="font-size: 11px;">&#8984;</span>+C (Mac).</p>\n    </div>\n  </ul>\n  <br />\n  <button class="red-button pie-element">All Done!</button>\n</div>\n<div class="close">x</div>\n',this.Templates["shared.share_modal"]='<div class="form-container modal-border share pie-element">\n  {{#header}}<h1>{{header}}</h1>{{/header}}\n  <span class="divider"></span>\n  {{#message}}<h3>{{message}}</h3>{{/message}}\n  <ul class="share">\n    <li id="facebookshare" class="share-f"\n      data-name="{{item_name}}"\n      data-url="{{share_url}}"\n      data-picture="{{avatar_url}}"\n      data-caption="Join {{community_name}} CommonPlace to share with your neighborhood."\n      data-description=""\n      data-message="{{share_message}}">Share with my Facebook friends\n    </li>\n    <a id="mailto-share" href="mailto:?subject={{email_subject}}&body={{email_body}}" target="_blank"><li id="emailshare">Send an email to my friends in town</li></a>\n    <div id="share-email">\n      <form>\n        <input placeholder="e.g. john@gmail.com, jane@gmail.com" name="share-email" class="rounded_corners">\n        <!-- <a href="#" class="share rounded_corners">Connect your Email</a> -->\n        <a href="#" class="share rounded_corners" id="submit_email_share" target="_blank">Send</a>\n      </form><br /><br />\n    </div>\n    <li id="twittershare" class="share-t"\n      data-url="{{share_url}}"\n      data-message="{{share_message}}" target="_blank">\n      Share with my Twitter followers\n    </li>\n    <li id="linkshare">Copy public link</li>\n    <div id="share_link">\n      <form>\n        <input value="{{share_url}}" name="share-link" class="rounded_corners" readonly>\n      </form>\n      <p>Right-click "Copy" or: CTRL+C (Windows), <span style="font-size: 11px;">&#8984;</span>+C (Mac).</p>\n    </div>\n  </ul>\n  <br />\n  <button class="red-button pie-element">All Done!</button>\n</div>\n<div class="close">x</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/sidebar"]='<aside>\n  <div id="your-town"></div>\n\n  <div id="directory"></div>\n</aside>\n',this.Templates["shared.sidebar"]='<aside>\n  <div id="your-town"></div>\n\n  <div id="directory"></div>\n</aside>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/sidebar/neighbor"]='<div class="neighbor">\n  <a class="neighbor_link" href=\'{{url}}\' data-remote>\n    <img class="avatar-container" src="{{avatar_url}}" />\n    <h4>{{name}}</h4>\n  </a>\n</div>\n'
,this.Templates["shared.sidebar.neighbor"]='<div class="neighbor">\n  <a class="neighbor_link" href=\'{{url}}\' data-remote>\n    <img class="avatar-container" src="{{avatar_url}}" />\n    <h4>{{name}}</h4>\n  </a>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/sidebar/neighbors"]='<div class="your-neighbors">\n  <!--<input type="text" id="search" class="neighbors_search" placeholder="Search your town or neighborsâ¦">\t-->\n  <div id="your-neighbors-links" class="list">\n  </div>\n</div>\n',this.Templates["shared.sidebar.neighbors"]='<div class="your-neighbors">\n  <!--<input type="text" id="search" class="neighbors_search" placeholder="Search your town or neighborsâ¦">\t-->\n  <div id="your-neighbors-links" class="list">\n  </div>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/sidebar/page"]='<div class="page">\n  <a class="page_link" href="{{url}}" data-remote>\n  <img class="avatar-container" src="{{avatar_url}}" />\n  <h4>{{name}}</h4>\n  </a>\n</div>\n',this.Templates["shared.sidebar.page"]='<div class="page">\n  <a class="page_link" href="{{url}}" data-remote>\n  <img class="avatar-container" src="{{avatar_url}}" />\n  <h4>{{name}}</h4>\n  </a>\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/sidebar/your-pages"]='<ul id="your-pages-list"></ul>\n',this.Templates["shared.sidebar.your-pages"]='<ul id="your-pages-list"></ul>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/sidebar/your-town"]='<ul class="your-town-links">\n  <li>\n  \t<a id="questions" class="wire_filter" href="/{{community_slug}}/list/questions">\n  \t\t<i class="icon"></i>\n  \t\t<span>\n      {{^isHarvardNeighbors}}Town {{/isHarvardNeighbors}}Questions      \n      </span>\n  \t</a>\n  </li>\n  <li>\n  \t<a id="transactions" class="wire_filter" href="/{{community_slug}}/list/transactions">\n  \t\t<i class="icon"></i>\n  \t\t<span>Marketplace</span>\n  \t</a>\n  </li>\n\n  <li>\n  \t<a id="events" class="wire_filter" href="/{{community_slug}}/list/events">\n  \t\t<i class="icon"></i>\n  \t\t<span>Events & Meetups</span>\n  \t</a>\n  </li>\n\n  <li>\n  \t<a id="discussions" class="wire_filter" href="/{{community_slug}}/list/discussions">\n    \t<i class="icon"></i>\n    \t<span>\n      {{^isHarvardNeighbors}}Town {{/isHarvardNeighbors}}Discussions  \n      </span>\n  \t</a>\n  </li>\n\n  <li>\n  \t<a id="announcements" class="wire_filter" href="/{{community_slug}}/list/announcements">\n    \t<i class="icon"></i>\n    \t<span>Announcements</span>\n    </a>\n  </li>\n</ul>\n',this.Templates["shared.sidebar.your-town"]='<ul class="your-town-links">\n  <li>\n  \t<a id="questions" class="wire_filter" href="/{{community_slug}}/list/questions">\n  \t\t<i class="icon"></i>\n  \t\t<span>\n      {{^isHarvardNeighbors}}Town {{/isHarvardNeighbors}}Questions      \n      </span>\n  \t</a>\n  </li>\n  <li>\n  \t<a id="transactions" class="wire_filter" href="/{{community_slug}}/list/transactions">\n  \t\t<i class="icon"></i>\n  \t\t<span>Marketplace</span>\n  \t</a>\n  </li>\n\n  <li>\n  \t<a id="events" class="wire_filter" href="/{{community_slug}}/list/events">\n  \t\t<i class="icon"></i>\n  \t\t<span>Events & Meetups</span>\n  \t</a>\n  </li>\n\n  <li>\n  \t<a id="discussions" class="wire_filter" href="/{{community_slug}}/list/discussions">\n    \t<i class="icon"></i>\n    \t<span>\n      {{^isHarvardNeighbors}}Town {{/isHarvardNeighbors}}Discussions  \n      </span>\n  \t</a>\n  </li>\n\n  <li>\n  \t<a id="announcements" class="wire_filter" href="/{{community_slug}}/list/announcements">\n    \t<i class="icon"></i>\n    \t<span>Announcements</span>\n    </a>\n  </li>\n</ul>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/thanks-item"]='<img src="{{avatar_url}}" class="avatar" height="30" width="30">\n<div class="reply-info">\n  <div class="reply-text">\n    <span class="author">{{thanker}}</span>\n    <span class="body">\n      thanked {{thankable_author}}{{#isReply}}\'s reply{{/isReply}}\n    </span>\n  </div>\n</div>\n<div style="clear:both"></div>\n',this.Templates["shared.thanks-item"]='<img src="{{avatar_url}}" class="avatar" height="30" width="30">\n<div class="reply-info">\n  <div class="reply-text">\n    <span class="author">{{thanker}}</span>\n    <span class="body">\n      thanked {{thankable_author}}{{#isReply}}\'s reply{{/isReply}}\n    </span>\n  </div>\n</div>\n<div style="clear:both"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["shared/thanks"]='{{#hiddenThanksCount}}\n<a class="replies-more" href="#">View All Thanks <span class="small">&#x25BC;</span></a>\n{{/hiddenThanksCount}}\n\n<div class="thanks-list">\n\t<ul></ul>\n</div>\n\n<div style="clear:both"></div>\n',this.Templates["shared.thanks"]='{{#hiddenThanksCount}}\n<a class="replies-more" href="#">View All Thanks <span class="small">&#x25BC;</span></a>\n{{/hiddenThanksCount}}\n\n<div class="thanks-list">\n\t<ul></ul>\n</div>\n\n<div style="clear:both"></div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["stats_page/main"]='<style>\n.full {\n  width: 100%;\n  height: 400px;\n}\n.graph {\n  display: block;\n}\nh2 {\n  font-size: 32px;\n  font-weight: bold;\n}\n.header {\n  cursor: pointer;\n  font-size: 24px;\n  text-decoration: underline;\n  font-weight: bold;\n}\n.subheader {\n  cursor: pointer;\n  font-size: 16px;\n  text-decoration: underline;\n}\ntable, tr, th, td {\n  border: 2px solid black;\n}\ntd {\n  text-align: center;\n}\nth {\n  font-weight: bold;\n}\n</style>\n<div id="community-resources"></div>\n<div id="stats">\n  <div class="error"></div>\n  <div class="success"></div>\n\n  <h2>Executive Summary</h2>\n  <table id="executive_summary">\n    <tr>\n      <th>\n        <select id="community_selector" class="pretty dk">\n        </select>\n      </th>\n      <th>New Users</th>\n      <th>Pct. of Network Growth</th>\n      <th>Pct. of Platform Visits</th>\n      <th>Pct. of Daily Bulletin Opens</th>\n      <th>Number of Posts</th>\n    </tr>\n    <tr id="today">\n      <th>Today</th>\n    </tr>\n    <tr id="this_week">\n      <th>Week\'s Average</th>\n    </tr>\n    <tr id="pct_difference">\n      <th>Percent Change in Week\'s Average</th>\n    </tr>\n    <tr id="pct_difference_lifetime">\n      <th>Percent Change in Lifetime Average</th>\n    </tr>\n  </table>\n\n  <h2>Network Growth</h2>\n  <ul class="statistics">\n    <li class="header" data-hider="user_count">Cumulative User Count</li>\n    <li class="stat" id="user_count"></li>\n    <li class="header" data-hider="user_gains">User Growth</li>\n    <li class="stat" id="user_gains"></li>\n    <li class="header" data-hider="content_posting">Content Types</li>\n    <li class="stat" id="content_posting">\n  </ul>\n  <h2>Content</h2>\n  <ul class="statistics">\n    <!--\n    <li class="header" data-hider="post_content">Post Content</li>\n    <li class="stat" id="post_content"></li>\n    -->\n    <li class="header" data-hider="neighborhood_post_types">Neighborhood Post Types</li>\n    <li class="stat" id="neighborhood_post_types"></li>\n    <li class="header" data-hider="replies_to_content">Replies</li>\n    <li class="stat" id="replies_to_content"</li>\n    <!--\n    <li class="header" data-hider="replies_and_private_messages">Posts and Private Messages</li>\n    <li class="stat" id="replies_and_private_messages"></li>\n    -->\n  </ul>\n  <h2>User Engagement</h2>\n  <ul class="statistics">\n    <li class="header" data-hider="daily_network_engagement">Daily Network Engagement</li>\n    <li class="stat" id="daily_network_engagement"></li>\n    <li class="header" data-hider="network_engagement">Recent Network Engagement</li>\n    <li class="stat" id="network_engagement"></li>\n    <li class="header" data-hider="levels_of_engagement">Levels of Engagement</li>\n    <li class="stat" id="levels_of_engagement"></li>\n    <li class="header" data-hider="email_opens">Daily Email Opens</li>\n    <li class="stat" id="email_opens"></li>\n    <li class="header" data-hider="user_historical_engagement">User Historical Engagement</li>\n    <li class="stat" id="user_historical_engagement"></li>\n  </ul>\n  <h2>Feed Engagement</h2>\n  <ul class="statistics">\n    <li class="header" data-hider="feed_engagement">Feed Engagement</li>\n    <li class="stat" id="feed_engagement"></li>\n    <li class="header" data-hider="feed_posting">Daily Feed Engagement</li>\n    <li class="stat" id="feed_posting"></li>\n  </ul>\n  <!--\n  <h2>Daily Bulletins</h2>\n  <ul class="images">\n  </ul>\n  -->\n  <!--\n  <li class="header" data-hider="replies_and_private_messages">Posts and Private Messages</li>\n  <li class="stat" id="replies_and_private_messages"></li>\n  -->\n</div>\n',this.Templates["stats_page.main"]='<style>\n.full {\n  width: 100%;\n  height: 400px;\n}\n.graph {\n  display: block;\n}\nh2 {\n  font-size: 32px;\n  font-weight: bold;\n}\n.header {\n  cursor: pointer;\n  font-size: 24px;\n  text-decoration: underline;\n  font-weight: bold;\n}\n.subheader {\n  cursor: pointer;\n  font-size: 16px;\n  text-decoration: underline;\n}\ntable, tr, th, td {\n  border: 2px solid black;\n}\ntd {\n  text-align: center;\n}\nth {\n  font-weight: bold;\n}\n</style>\n<div id="community-resources"></div>\n<div id="stats">\n  <div class="error"></div>\n  <div class="success"></div>\n\n  <h2>Executive Summary</h2>\n  <table id="executive_summary">\n    <tr>\n      <th>\n        <select id="community_selector" class="pretty dk">\n        </select>\n      </th>\n      <th>New Users</th>\n      <th>Pct. of Network Growth</th>\n      <th>Pct. of Platform Visits</th>\n      <th>Pct. of Daily Bulletin Opens</th>\n      <th>Number of Posts</th>\n    </tr>\n    <tr id="today">\n      <th>Today</th>\n    </tr>\n    <tr id="this_week">\n      <th>Week\'s Average</th>\n    </tr>\n    <tr id="pct_difference">\n      <th>Percent Change in Week\'s Average</th>\n    </tr>\n    <tr id="pct_difference_lifetime">\n      <th>Percent Change in Lifetime Average</th>\n    </tr>\n  </table>\n\n  <h2>Network Growth</h2>\n  <ul class="statistics">\n    <li class="header" data-hider="user_count">Cumulative User Count</li>\n    <li class="stat" id="user_count"></li>\n    <li class="header" data-hider="user_gains">User Growth</li>\n    <li class="stat" id="user_gains"></li>\n    <li class="header" data-hider="content_posting">Content Types</li>\n    <li class="stat" id="content_posting">\n  </ul>\n  <h2>Content</h2>\n  <ul class="statistics">\n    <!--\n    <li class="header" data-hider="post_content">Post Content</li>\n    <li class="stat" id="post_content"></li>\n    -->\n    <li class="header" data-hider="neighborhood_post_types">Neighborhood Post Types</li>\n    <li class="stat" id="neighborhood_post_types"></li>\n    <li class="header" data-hider="replies_to_content">Replies</li>\n    <li class="stat" id="replies_to_content"</li>\n    <!--\n    <li class="header" data-hider="replies_and_private_messages">Posts and Private Messages</li>\n    <li class="stat" id="replies_and_private_messages"></li>\n    -->\n  </ul>\n  <h2>User Engagement</h2>\n  <ul class="statistics">\n    <li class="header" data-hider="daily_network_engagement">Daily Network Engagement</li>\n    <li class="stat" id="daily_network_engagement"></li>\n    <li class="header" data-hider="network_engagement">Recent Network Engagement</li>\n    <li class="stat" id="network_engagement"></li>\n    <li class="header" data-hider="levels_of_engagement">Levels of Engagement</li>\n    <li class="stat" id="levels_of_engagement"></li>\n    <li class="header" data-hider="email_opens">Daily Email Opens</li>\n    <li class="stat" id="email_opens"></li>\n    <li class="header" data-hider="user_historical_engagement">User Historical Engagement</li>\n    <li class="stat" id="user_historical_engagement"></li>\n  </ul>\n  <h2>Feed Engagement</h2>\n  <ul class="statistics">\n    <li class="header" data-hider="feed_engagement">Feed Engagement</li>\n    <li class="stat" id="feed_engagement"></li>\n    <li class="header" data-hider="feed_posting">Daily Feed Engagement</li>\n    <li class="stat" id="feed_posting"></li>\n  </ul>\n  <!--\n  <h2>Daily Bulletins</h2>\n  <ul class="images">\n  </ul>\n  -->\n  <!--\n  <li class="header" data-hider="replies_and_private_messages">Posts and Private Messages</li>\n  <li class="stat" id="replies_and_private_messages"></li>\n  -->\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["stats_page/weekly_health"]='<div id="stats">\n\n</div>\n',this.Templates["stats_page.weekly_health"]='<div id="stats">\n\n</div>\n'}(this),function(){this.Templates||(this.Templates={}),this.Templates["stats_page/weekly_health_table"]='<table class="health-stats">\n  <tr>\n    <th>All</th>\n  </tr>\n  <tr class="total-users">\n    <th>Total Users</th>\n  </tr>\n  <tr class="community-growth">\n    <th>Avg. Community Growth</th>\n  </tr>\n  <tr class="gains-day-community">\n    <th>User Gains/Day/Community</th>\n  </tr>\n  <tr class="posts-day-community">\n    <th>Posts/Day/Community</th>\n  </tr>\n  <tr class="daily-bulletin-open-rate">\n    <th>Daily Bulletin Open Rate</th>\n  </tr>\n  <tr class="weekly-platform-engagement">\n    <th>Weekly Platform Engagement</th>\n  </tr>\n</table>\n',this.Templates["stats_page.weekly_health_table"]='<table class="health-stats">\n  <tr>\n    <th>All</th>\n  </tr>\n  <tr class="total-users">\n    <th>Total Users</th>\n  </tr>\n  <tr class="community-growth">\n    <th>Avg. Community Growth</th>\n  </tr>\n  <tr class="gains-day-community">\n    <th>User Gains/Day/Community</th>\n  </tr>\n  <tr class="posts-day-community">\n    <th>Posts/Day/Community</th>\n  </tr>\n  <tr class="daily-bulletin-open-rate">\n    <th>Daily Bulletin Open Rate</th>\n  </tr>\n  <tr class="weekly-platform-engagement">\n    <th>Weekly Platform Engagement</th>\n  </tr>\n</table>\n'}(this),function(){this.I18N||(this.I18N={}),this.I18N.en={"main_page.post-box":{"create-neighborhood-post.a":"Post to Your<br> Neighborhood","create-announcement.a":"Post to Your<br> Feed","create-event.a":"Post an<br> Event","create-group-post.a":"Discussion<br> Groups"},"main_page.post-form":{"publicity.label":"Is this publicity relating to a business, organization, or event?","publicity.warning":"Your post will be sorted into the 'community announcements' board."},"main_page.community-resources":{"posts.a":"Neighborhood<br> Posts","events.a":"Events","announcements.a":"Organization<br> Announcements","groupPosts.a":"Group<br> Posts","users.a":"Directory","allPosts.a":"All Posts"},"main_page.post-resources":{"posts.a":"Neighborhood Posts","recent-posts.a":"Neighborhood News","neighborhood.a":"All Posts","help.a":"Requests","offers.a":"Offers","publicity.a":"Publicity","meetup.a":"Meetup","other.a":"Other"},"main_page.post-offer-resources":{"offer-posts.a":"Recent Offers"},"main_page.post-help-resources":{"help-posts.a":"Recent Requests"},"main_page.post-publicity-resources":{"publicity-posts.a":"Announcements"},"main_page.post-other-resources":{"other-posts.a":"Other"},"main_page.post-meetup-resources":{"meetup-posts.a":"Meet-ups"},"main_page.post-neighborhood-resources":{"neighborhood-posts.a":"Town Conversations"},"main_page.event-resources":{"events.a":"Community Events","recent-events.a":"Upcoming Events"},"main_page.announcement-resources":{"announcements.a":"Announcements","recent-announcements.a":"Announcements","feeds.a":"Feeds"},"main_page.group-post-resources":{"group-posts.a":"Group Posts","recent-group-posts.a":"Discussion Topics","groups.a":"Groups"},"main_page.directory-resources":{"users.a":"Neighbors","feeds.a":"Feeds","groups.a":"Groups"},"main_page.info-box":{},"main_page.tour.post":{p1:"Here's where you go whenever you want to share with the community.",ex1:'"Post to your neighborhood" to share requests, goods, recommendations, questions, updates, etc. with your neighbors, like "I need to borrow a ladder," "I lost my cat," or "Anybody know a good babysitter?"',ex2:'"Publicize an announcement" to advertise things to the whole community, like "upcoming volunteer drive" or "Free tacos this Thursday at our store."',ex3:'"Post an Event" to announce an upcoming event to the community',ex4:'"Post to a Discussion Group" to share specific information with interest groups in your town -- dog lovers, moms, sports, and more',p2:'Get a feel for how it works by saying "Hi!" to your neighbors.'},"main_page.tour.wire":{p1:"Here's the CommonPlace \"Community Wire.\" Here you'll find needs, events and announcements written by your neighbors and local organizations in town."},"main_page.tour.profile":{p1:'This is your "civic profile." Your neighbors will see this profile when you post to the site. You can always add to it by clicking "edit" in the top right-hand corner.'},"main_page.tour.welcome":{use1:"Share needs, announcements and events with the town",use2:"Meet your neighbors and find great local organizations",use3:"Discover ways to get involved in the community"},"main_page.tour.feed":{p1:"Are you the leader of a community organization, business or municipal entity? Register a community feed so that you send out announcements and events as your organization.  It is a great way for neighbors to stay in touch with your organization: those who subscribe to your community feed get emailed every time you send out an update!"}}}(this);var InvitePage=CommonPlace.View.extend({template:"invite_page/main",track:!0,page_name:"invite",afterRender:function(){this.$("input[placeholder], textarea[placeholder]").placeholder()},events:{"click a.find-on-facebook-button":"findOnFacebook","click a.share-on-facebook-button":"shareOnFacebook","click a.import-contacts-from-email-button":"importContacts","submit form.send-invites":"sendInvites"},findOnFacebook:function(a){a.preventDefault(),FB.login(function(){FB.ui({method:"apprequests",message:$(a.target).attr("data-message"),data:$(a.target).attr("data-slug"),display:"iframe"})},{perms:"read_stream,publish_stream,offline_access"})},shareOnFacebook:function(a){a.preventDefault();var b=$(a.target);FB.ui({method:"feed",name:b.attr("data-name"),link:b.attr("data-url"),picture:b.attr("data-picture"),caption:b.attr("data-caption"),description:b.attr("data-description"),message:b.attr("data-message")},$.noop)},importContacts:function(a){a.preventDefault(),showPlaxoABChooser("invite_emails","/plaxo-importer.html")},sendInvites:function(a){a.preventDefault();var b=this.$("form.send-invites");$.ajax({type:"POST",dataType:"json",url:"/api"+CommonPlace.community.link("invites"),data:JSON.stringify({emails:$("[name=email]",b).val().split(/,\s*/),message:$("[name=body]",b).val()}),success:function(){$("[name=email]",b).val(""),$("[name=body]",b).val(""),$("p.confirm",b).show().delay(1e3).fadeOut()}})},bind:function(){$("body").addClass("invite")},unbind:function(){$("body").removeClass("invite")}}),FaqPage=CommonPlace.View.extend({template:"faq_page/main",track:!0,page_name:"faq",events:{"submit form.ask-question":"sendQuestion"},bind:function(){$(window).bind("resize.delegateEvents"+this.cid,this.setSidebarPosition).bind("scroll.delegateEvents"+this.cid,this.setSidebarPosition),$("body").addClass("faq")},unbind:function(){$(window).unbind(".delegateEvents"+this.cid),$("body").removeClass("faq")},setSidebarPosition:function(){var a=$("#content").offset().left-$("#sections_picker").width()-30;$(this).scrollTop()+40<=$("#main").offset().top?$("#sections_picker").css({position:"absolute",right:""}):$("#sections_picker").css({position:"fixed",right:a})},sendQuestion:function(a){a.preventDefault();var b=this.$("form.ask-question");$.ajax({type:"POST",dataType:"json",url:"/api"+CommonPlace.community.link("questions"),data:JSON.stringify({email:$("[name=email]",b).val(),message:$("[name=message]",b).val(),name:$("[name=name]",b).val()}),success:function(){$("[name=message]",b).val(""),$("p.confirm",b).show().delay(3e3).fadeOut()}})}}),DiscountPage=CommonPlace.View.extend({template:"discount_page/main",track:!0,page_name:"discount",businesses:function(){return CommonPlace.community.get("discount_businesses")},bind:function(){$("body").addClass("discount")},unbind:function(){$("body").removeClass("discount")}});((function(){CommonPlace.main.BaseForm=CommonPlace.View.extend({tagName:"form",className:"create-neighborhood-post post",category:"neighborhood",events:{"click .submit":"createPost","focusin input, textarea":"onFormFocus","keydown textarea":"resetLayout","focusout input, textarea":"onFormBlur","click .back":"showPostbox","click .delete":"deletePost","click .transaction":"openTransactionForm","click #new_feed_button":"createFeed"},initialize:function(a){if(a){a.template&&(this.template=a.template||this.template),a.category&&(this.category=a.category||this.category),a.model?this.model=a.model:this.model=void 0;if(a.modal)return this.modal=a.modal}},afterRender:function(){return this.$("input[placeholder], textarea[placeholder]").placeholder(),this.hideSpinner(),this.populateFormData()},populateFormData:function(){var a,b,c;if(this.isPostEdit())return b=this.model.get("group_id"),a=this.model.get("feed_id"),this.model.get("title")&&this.$("[name=title]").val(this.model.get("title")),this.model.get("body")&&this.$("[name=body]").val(this.model.get("body")),b&&(this.$('"[value='+b+']"').attr("selected","selected"),this.$("[name='group_selector']").attr("disabled","disabled")),a&&(this.$('"[value='+a+']"').attr("selected","selected"),this.$("[name='feed_selector']").attr("disabled","disabled")),this.model.get("date")&&this.$("[name=date]").val(this.model.get("date").split("T")[0]),this.model.get("venue")&&this.$("[name=venue]").val(this.model.get("venue")),this.model.get("address")&&this.$("[name=address]").val(this.model.get("address")),this.model.get("starts_at")&&this.$(".starting_times[value='"+this.model.get("starts_at").trim()+"']").attr("selected","selected"),this.model.get("ends_at")&&this.$(".ending_times[value='"+this.model.get("ends_at").trim()+"']").attr("selected","selected"),this.model.get("price")&&this.$("[name=price]").val(this.model.get("price")/100),c=this.model.get("images"),c&&c[0]&&this.$(".item_pic").attr("src",c[0].image_url),this.$(".chzn-select").trigger("liszt:updated")},isPostEdit:function(){return this.model?!0:!1},deletePost:function(){if(this.isPostEdit())return this.model.destroy(),this.exit()},showSpinner:function(){return this.$(".spinner").show()},hideSpinner:function(){return this.$(".spinner").hide()},enableSubmitButton:function(){return this.$(".submit").removeAttr("disabled")},disableSubmitButton:function(){return this.$(".submit").attr("disabled","disabled")},createFeed:function(a){return a&&a.preventDefault(),this.showFeedCreationForm(),this.exit()},createPost:function(a){var b;return a.preventDefault(),this.cleanUpPlaceholders(),this.showSpinner(),this.disableSubmitButton(),this.options.category===undefined?(this.showError("Please select a category"),this.hideSpinner(),this.enableSubmitButton()):(b={title:this.$("[name=title]").val(),body:this.$("[name=body]").val(),category:this.$("[name=categorize]").val()},this.sendPost(CommonPlace.community.posts,b))},sendPost:function(a,b,c){var d,e,f;e=this;if(this.isPostEdit()){for(d in b)f=b[d],this.model.set(d,f);return this.model.save(),this.exit()}return a.create(b,{success:_.bind(function(b){a.trigger("sync"),e.render(),e.resetLayout(),typeof _kmq!="undefined"&&_kmq!==null&&_kmq.push(["record","Post",{Schema:b.get("schema"),ID:b.id}]),this.showShareModal(b,"Thanks for posting!","You've just shared this post with "+this.getUserCount()+" neighbors in "+this.community_name()+". Share with some more people!");if(c)return c()},this),error:function(a,b){return typeof _kmq!="undefined"&&_kmq!==null&&_kmq.push(["record","Post Error",{Attributes:a}]),e.hideSpinner(),e.enableSubmitButton(),e.showError(b.responseText)}})},exit:function(){if(this.modal)return this.modal.exit()},getUserCount:function(){return CommonPlace.community.get("user_count")},showShareModal:function(a,b,c){var d;return d=new CommonPlace.views.ShareModal({model:a}),d.set_header(b),d.set_message(c),d.render()},showPostbox:function(a){var b;return a&&a.preventDefault(),b=new CommonPlace.main.PostBox({account:CommonPlace.account,community:CommonPlace.community}),b.render()},showError:function(a){return this.$(".error").text(a),this.$(".error").show()},onFormFocus:function(){var a,b;a=this.$(".on-focus");if(!a.is(":visible"))return b=a.actual("height"),a.css({height:0}),a.show(),CommonPlace.layout.reset()},onFormBlur:function(a){return $("#invalid_post_tooltip").hide(),this.focused||(this.$(".on-focus").hide(),this.resetLayout()),!$(a.target).val()||$(a.target).val()===$(a.target).attr("placeholder")?$(a.target).removeClass("filled"):$(a.target).addClass("filled")},resetLayout:function(){return CommonPlace.layout.reset()},hideLabel:function(a){return $("option.label",a.target).hide()},openTransactionForm:function(a){var b;return a.preventDefault(),b=new CommonPlace.main.PostBox({account:CommonPlace.account,community:CommonPlace.community}),b.render(),b.showTab("transaction")}})})).call(this);var AccountProfile=CommonPlace.View.extend({template:"main_page.account-profile",className:"profile",events:{"click ul.history a":"showHistoricalItem"},comma:function(a){return" "+a},afterRender:function(){var a=this;this.model.profileHistory(function(b){var c=new ProfileHistory({collection:b,el:a.$(".profile-history"),model:a.model});c.render()})},avatarUrl:function(){return this.model.get("avatar_url")},fullName:function(){return this.model.get("name")},shortName:function(){return this.model.get("short_name")},about:function(){return this.model.get("about")},interests:function(){return _.map(this.model.get("interests"),this.comma)},skills:function(){return _.map(this.model.get("skills"),this.comma)},goods:function(){return _.map(this.model.get("goods"),this.comma)},subscriptions:function(){return this.model.get("subscriptions")},groups:function(){return""},hasInterests:function(){return this.model.get("interests").length>0},hasSkills:function(){return this.model.get("skills").length>0},hasGoods:function(){return this.model.get("goods").length>0},hasAbout:function(){return this.model.get("about")!==undefined},post_count:function(){return this.model.get("post_count")},reply_count:function(){return this.model.get("reply_count")},editUrl:function(){return"/"+CommonPlace.community.get("slug")+"/account"},showHistoricalItem:function(){this.options.highlightSingleUser(this.model)}});((function(){CommonPlace.main.CommunityResources=CommonPlace.View.extend({template:"main_page.community-resources",id:"community-resources",events:{"submit .sticky form":"search","keyup .sticky input":"debounceSearch","click .sticky .cancel":"cancelSearch"},initialize:function(){return _.bindAll(this,"debounceSearch"),this.eventAggregator.bind("searchBox:submit",this.debounceSearch)},afterRender:function(){var a;return a=this,this.isGuest()&&$("body").addClass("public"),this.searchForm=new this.SearchForm,this.searchForm.render(),$(this.searchForm.el).prependTo(this.$(".sticky")),$("#main").height($(document).height())},changeSearchText:function(a){var b,c;return b=$("#search-header"),this.cancelSearch(),c="Search "+CommonPlace.community.get("name").trim()+"...",a&&(c="Search "+a.trim()+"...",b.attr("placeholder","Search "+a.trim()+"...")),b.attr("placeholder",c),this.browserSupportsPlaceholders()?b.attr("value",""):b.attr("value",c)},switchTab:function(a,b){var c,d;d=this,this.view=this.tabs[a](this),$(".wire_filter").removeClass("current"),$("#"+a).addClass("current"),c=$("#"+a).text(),this.changeSearchText(c),this.$(".search-switch").removeClass("active"),_.include(["users","groups","feeds"],a)?this.$(".directory-search").addClass("active"):this.$(".post-search").addClass("active"),b&&this.view.singleWire(b);if(d.currentQuery)return d.search();d.showTab();if(typeof _kmq!="undefined"&&_kmq!==null)return _kmq.push(["record","Wire Engagement",{Type:"Tab",Tab:a}])},winnowToCollection:function(a){var b;return b=this,this.view=this.tabs[a](this),this.$(".search-switch").removeClass("active"),_.include([],a)&&this.$(".post-search").addClass("active"),b.currentQuery?b.search():b.showTab()},showTab:function(){var a;return a=this.$(".resources"),a.css("filter","alpha(opacity=20)"),a.fadeOut(500,_.bind(function(){var b;return a.html(this.loading()),b=this,this.view.resources(function(b){return b.render(),a=this.$(".resources"),a.html(b.el),a.css("filter","alpha(opacity=20)"),$(".resources").fadeIn(900)})},this))},tabs:{all_posts:function(a){var b;return b=new a.PostLikeWire({template:"main_page.post-resources",emptyMessage:"No posts here yet.",collection:CommonPlace.community.postlikes}),a.makeTab(b)},posts:function(a){var b;return b=new a.PostLikeWire({template:"main_page.post-resources",emptyMessage:"No posts here yet.",collection:CommonPlace.community.posts,isInAllWire:!1}),a.makeTab(b)},neighborhood:function(a){var b;return b=new a.PostLikeWire({template:"main_page.post-resources",emptyMessage:"No posts here yet.",collection:CommonPlace.community.categories.neighborhood}),a.makeTab(b)},help:function(a){var b;return b=new a.PostLikeWire({template:"main_page.post-resources",emptyMessage:"No posts here yet.",collection:CommonPlace.community.categories.help}),a.makeTab(b)},questions:function(a){var b;return b=new a.PostLikeWire({template:"main_page.post-resources",emptyMessage:"No posts here yet.",collection:CommonPlace.community.categories.offers}),a.makeTab(b)},publicity:function(a){var b;return b=new a.PostLikeWire({template:"main_page.post-resources",emptyMessage:"No posts here yet.",collection:CommonPlace.community.categories.publicity}),a.makeTab(b)},other:function(a){var b;return b=new a.PostLikeWire({template:"main_page.post-resources",emptyMessage:"No posts here yet.",collection:CommonPlace.community.categories.other}),a.makeTab(b)},events:function(a){var b;return b=new a.PostLikeWire({template:"main_page.event-resources",emptyMessage:"No events here yet.",collection:CommonPlace.community.events}),a.makeTab(b)},announcements:function(a){var b;return b=new a.PostLikeWire({template:"main_page.announcement-resources",emptyMessage:"No announcements here yet.",collection:CommonPlace.community.announcements}),a.makeTab(b)},transactions:function(a){var b;return b=new a.PostLikeWire({template:"main_page.transaction-resources",emptyMessage:"No items here yet.",collection:CommonPlace.community.transactions}),a.makeTab(b)},discussions:function(a){var b;return b=new a.PostLikeWire({template:"main_page.group-post-resources",emptyMessage:"No posts here yet.",collection:CommonPlace.community.groupPosts}),a.makeTab(b)},groups:function(a){var b;return b=new a.GroupLikeWire({template:"main_page.directory-resources",emptyMessage:"No groups here yet.",collection:CommonPlace.community.groups,active:"groups"}),a.makeTab(b)},feeds:function(a){var b;return b=new a.GroupLikeWire({template:"main_page.directory-resources",emptyMessage:"No feeds here yet.",collection:CommonPlace.community.feeds,active:"feeds"}),a.makeTab(b)},users:function(a){var b;return b=new a.GroupLikeWire({template:"main_page.directory-resources",emptyMessage:"No users here yet.",collection:CommonPlace.community.users,active:"users"}),a.makeTab(b)}},showPost:function(a){var b;return b=this,a.fetch({success:function(){return b.showSingleItem(a,Posts,{template:"main_page.post-resources",tab:"posts"})}})},showFeedPage:function(a){return $.getJSON("/api/feeds/"+a,_.bind(function(a){var b,c;return b=new Feed(a),c=new this.PostLikeWire({template:"main_page.announcement-resources",card:"feed",emptyMessage:"No announcements here yet.",collection:b.announcements}),c.searchPage(b),this.changeSearchText(b.get("name")),this.view=this.makeTab(c),this.showTab()},this))},showFeedSubscribers:function(a){return $.getJSON("/api/feeds/"+a,_.bind(function(a){var b,c;return b=new Feed(a),c=new this.PostLikeWire({template:"main_page.user-wire-resources",card:"feed",emptyMessage:"No announcements here yet.",collection:b.subscribers}),c.searchPage(b),this.changeSearchText(b.get("name")),this.view=this.makeTab(c),this.showTab()},this))},showGroupPage:function(a){return $.getJSON("/api/groups/"+a,_.bind(function(a){var b,c;return b=new Group(a),c=new this.PostLikeWire({template:"main_page.announcement-resources",card:"group",emptyMessage:"No announcements here yet.",collection:b.posts}),c.searchPage(b),this.changeSearchText(b.get("name")),this.view=this.makeTab(c),this.showTab()},this))},showAnnouncement:function(a){var b;return b=this,a.fetch({success:function(){return b
.showSingleItem(a,Announcements,{template:"main_page.announcement-resources",tab:"announcements"})}})},showEvent:function(a){var b;return b=this,a.fetch({success:function(){return b.showSingleItem(a,Events,{template:"main_page.event-resources",tab:"events"})}})},showTransaction:function(a){var b;return b=this,a.fetch({success:function(){return b.showSingleItem(a,Transactions,{template:"main_page.transaction-resources",tab:"transactions"})}})},showGroupPost:function(a){var b;return b=this,a.fetch({success:function(){return b.showSingleItem(a,GroupPosts,{template:"main_page.group-post-resources",tab:"discussions"})}})},highlightSingleUser:function(a){return this.singleUser=a},showSingleItem:function(a,b,c){var d,e;return this.model=a,this.isSingle=!0,d=this,e=new LandingPreview({template:c.template,collection:new b([a],{uri:a.link("self")})}),_.isEmpty(this.singleUser)||(e.searchUser(this.singleUser),this.singleUser={}),this.switchTab(c.tab,e),$(window).scrollTo(0)},showUserWire:function(a){var b;return b=this,a.fetch({success:function(){var c,d;return c=new PostLikes([],{uri:a.link("postlikes")}),d=new Wire({template:"main_page.user-wire-resources",card:"user",collection:c,emptyMessage:"No posts here yet."}),d.searchUser(a),b.switchTab("posts",d),$(window).scrollTo(0)}})},debounceSearch:_.debounce(function(){return this.search()},CommonPlace.autoActionTimeout),search:function(a){return this.currentQuery=this.eventAggregator.query,this.currentQuery?(this.view.search(this.currentQuery),this.showTab()):this.cancelSearch()},cancelSearch:function(a){return this.currentQuery="",this.$(".sticky form.search input").val(""),this.view&&this.view.cancelSearch(),this.showTab(),$(".sticky form.search input").removeClass("active"),$(".sticky .cancel").hide(),$(".resources").removeHighlight()},makeTab:function(a){return new this.ResourceTab({wire:a})},loading:function(){var a;return a=new this.LoadingResource,a.render(),a.el},PostLikeWire:Wire.extend({_defaultPerPage:15}),GroupLikeWire:Wire.extend({_defaultPerPage:50}),ResourceTab:CommonPlace.View.extend({initialize:function(a){return this.wire=a.wire},resources:function(a){return this.single?a(this.single):a(this.wire)},search:function(a){return this.single&&(this.single=null),this.wire.search(a)},singleWire:function(a){return this.single=a},cancelSearch:function(){return this.search("")}}),SearchForm:CommonPlace.View.extend({template:"main_page.community-search-form",tagName:"form",className:"search"}),LoadingResource:CommonPlace.View.extend({template:"main_page.loading-resource",className:"loading-resource"})})})).call(this);var DynamicLandingResources=CommonPlace.View.extend({template:"main_page.dynamic-landing-resources",className:"resources",initialize:function(a){this.raw=new CommunityWire({uri:CommonPlace.community.link("landing_wires")}),this.postlikes=new PostLikes([],{uri:CommonPlace.community.link("post_likes")}),this._wires=[],this.single={},this.callback=a.callback},resources:function(a){var b=this;!_.isEmpty(this.single)&&!this.currentQuery?a(this.single):_.isEmpty(this._wires)?this.currentQuery?this.postlikes.fetch({data:{query:this.currentQuery},success:function(){b.makeSearch(),b.resources(a)}}):this.raw.fetch({},function(){b.makeWires(),b.resources(a)}):_.each(this._wires,function(b){a(b)})},makeWires:function(){var a=this,b=[new LandingPreview({template:"main_page.post-neighborhood-resources",collection:a.raw.neighborhood,emptyMessage:"No posts here yet.",callback:a.callback}),new LandingPreview({template:"main_page.post-offer-resources",collection:a.raw.offers,emptyMessage:"No offers here yet.",callback:a.callback}),new LandingPreview({template:"main_page.post-help-resources",collection:a.raw.help,emptyMessage:"No help requests here yet.",callback:a.callback}),new LandingPreview({template:"main_page.post-publicity-resources",collection:a.raw.publicity,emptyMessage:"No posts here yet.",callback:a.callback}),new LandingPreview({template:"main_page.post-other-resources",collection:a.raw.other,emptyMessage:"No posts here yet.",callback:a.callback}),new LandingPreview({template:"main_page.group-post-resources",collection:a.raw.groupPosts,emptyMessage:"No posts here yet.",callback:a.callback}),new LandingPreview({template:"main_page.post-meetup-resources",collection:a.raw.meetups,emptyMessage:"No meetups here yet.",callback:a.callback})],c=[],d=_.filter(b,function(a){return a.collection.length>0}),e=_.filter(b,function(a){return!a.collection.length});d=_.sortBy(d,function(a){return parseDate(a.collection.first().get("published_at"))}),d.reverse();var f=d.shift(),g=new LandingPreview({template:"main_page.event-resources",collection:a.raw.events,emptyMessage:"No events here yet.",callback:a.callback}),h=new LandingPreview({template:"main_page.transaction-resources",collection:a.raw.transactions,emptyMessage:"No items here yet.",callback:a.callback}),i=new Wire({template:"main_page.chrono-resources",collection:CommonPlace.community.postlikes,emptyMessage:"No posts here yet.",perPage:22,callback:a.callback});_.each(a.raw.all(),function(a){c.push(a.models)}),i.collection.setDupes(_.flatten(c)),a._wires=[f],a._wires.push(d),h.collection.length&&a._wires.push(h),g.collection.length&&a._wires.push(g),a._wires.push(i),a._wires=_.flatten(a._wires)},makeSearch:function(){var a=new Wire({template:"main_page.chrono-search-resources",collection:this.postlikes,emptyMessage:"No results.",perPage:22,callback:this.callback});a.search(this.currentQuery),this._wires=[a]},search:function(a){this.currentQuery=a,this._wires=[],this.single={}},cancelSearch:function(){this.search("")},singleWire:function(a){this.single=a}}),LandingPreview=PreviewWire.extend({template:"wires.preview-wire",_defaultPerPage:3,aroundRender:function(a){a()},showMore:function(){},areMore:function(){return!1},isRecent:function(){return!0}}),FailedSearch=CommonPlace.View.extend({template:"main_page.failed-search",className:"failed-search profile",query:function(){return this.model.get("query")}}),FeedProfile=CommonPlace.View.extend({template:"main_page.feed-profile",className:"profile",events:{"click .message":"showMessageForm","click .subscribe":"subscribe","click .unsubscribe":"unsubscribe","click .edit-feed":"showFeedEditForm"},avatarUrl:function(){return this.model.get("avatar_url")},fullName:function(){return this.model.get("name")},shortName:function(){return this.model.get("first_name")},about:function(){return this.model.get("about")},groups:function(){return""},showMessageForm:function(a){a.preventDefault();var b=new MessageFormView({model:new Message({messagable:this.model})});b.render()},showFeedEditForm:function(a){a.preventDefault();var b=new FeedEditFormView({model:this.model});b.render()},subscribe:function(a){a.preventDefault(),CommonPlace.account.subscribeToFeed(this.model,_.bind(function(){this.render()},this))},unsubscribe:function(a){a.preventDefault(),CommonPlace.account.unsubscribeFromFeed(this.model,_.bind(function(){this.render()},this))},isSubscribed:function(){return CommonPlace.account.isSubscribedToFeed(this.model)},isOwner:function(){return CommonPlace.account.isFeedOwner(this.model)},url:function(){return this.model.get("url")}});((function(){CommonPlace.main.AnnouncementForm=CommonPlace.main.BaseForm.extend({template:"main_page.forms.announcement-form",className:"create-announcement post",initialize:function(a){var b,c,d,e,f;CommonPlace.main.BaseForm.prototype.initialize(a),this.feeds=CommonPlace.account.get("feeds"),this.hasFeeds=!1,this.feeds.length>0&&(this.hasFeeds=!0),this.hasBusinessFeeds=!1,e=this.feeds,f=[];for(c=0,d=e.length;c<d;c++)b=e[c],b.kind===2?f.push(this.hasBusinessFeeds=!0):f.push(void 0);return f},createPost:function(a){var b,c,d;return a.preventDefault(),this.cleanUpPlaceholders(),this.showSpinner(),this.disableSubmitButton(),this.$("error").hide(),d=this.$("[name=feed_selector]").val(),d!==void 0&&d!==""?(c=new Feed({links:{self:"/feeds/"+d,announcements:"/feeds/"+d+"/announcements"}}),b={title:this.$("[name=title]").val(),body:this.$("[name=body]").val()},this.sendPost(c.announcements,b,this.announcementSuccess)):(this.showError("Please select an organization to promote"),this.hideSpinner(),this.enableSubmitButton())},name:function(){return this.feed.get("name")},announcementSuccess:function(){return CommonPlace.community.announcements.trigger("sync")}})})).call(this),function(){CommonPlace.main.EventForm=CommonPlace.main.BaseForm.extend({template:"main_page.forms.event-form",className:"create-event event",initialize:function(a){CommonPlace.main.BaseForm.prototype.initialize(a),this.feeds=CommonPlace.account.get("feeds"),this.user=CommonPlace.account.get("name"),this.hasFeeds=!1;if(this.feeds.length>0)return this.hasFeeds=!0},afterRender:function(){var a;return this.$("input.date",this.el).datepicker({dateFormat:"yy-mm-dd"}),this.$("input[placeholder], textarea[placeholder]").placeholder(),this.hideSpinner(),this.$("select.time").dropkick(),a=this,this.$("input.date").bind("change",function(){return a.onFormBlur({target:a.$("input.date")})}),this.populateFormData()},createPost:function(a){var b,c,d,e;a.preventDefault(),this.showSpinner(),this.disableSubmitButton(),e=this,this.cleanUpPlaceholders(),b={title:this.$("[name=title]").val(),body:this.$("[name=body]").val(),date:this.$("[name=date]").val(),starts_at:this.$("[name=start]").val(),ends_at:this.$("[name=end]").val(),venue:this.$("[name=venue]").val(),address:this.$("[name=address]").val(),groups:this.$("[name=groups]:checked").map(function(){return $(this).val()}).toArray()},d=this.$("[name=feed_selector]").val();if(d===""){this.showError("Please choose who to post as"),this.hideSpinner(),this.enableSubmitButton();return}return d!==void 0&&d!=="self"?(c=new Feed({links:{self:"/feeds/"+d,events:"/feeds/"+d+"/events"}}),this.sendPost(c.events,b,this.eventSuccess)):this.sendPost(CommonPlace.community.events,b)},eventSuccess:function(){return CommonPlace.community.events.trigger("sync")},groups:function(){return CommonPlace.community.get("groups")},time_values:_.flatten(_.map(["am","pm"],function(a){return _.map([12,1,2,3,4,5,6,7,8,9,10,11],function(b){return _.map(["00","30"],function(c){return String(b)+":"+c+a})})}))})}.call(this),function(){CommonPlace.main.PostForm=CommonPlace.main.BaseForm.extend({template:"main_page.forms.post-form",className:"create-neighborhood-post post",initialize:function(a){return CommonPlace.main.BaseForm.prototype.initialize(a),this.groups=CommonPlace.community.get("groups")},createPost:function(a){var b,c,d,e,f;return a.preventDefault(),this.cleanUpPlaceholders(),this.showSpinner(),this.disableSubmitButton(),c=CommonPlace.community.posts,b=!1,f=this.$("[name=group_selector]").val(),f!==void 0&&f!==""&&(e=new Group({links:{self:"/groups/"+f,posts:"/groups/"+f+"/posts"}}),c=e.posts,b=this.groupPostSuccess),d={title:this.$("[name=title]").val(),body:this.$("[name=body]").val()},this.category!==void 0&&(d.category=this.category),this.sendPost(c,d,b)},groupPostSuccess:function(){return CommonPlace.community.groupPosts.trigger("sync")}})}.call(this),function(){CommonPlace.main.TransactionForm=CommonPlace.main.BaseForm.extend({template:"main_page.forms.transaction-form",className:"create-transaction transaction",initialize:function(a){CommonPlace.main.BaseForm.prototype.initialize(a),this.feeds=CommonPlace.account.get("feeds"),this.user=CommonPlace.account.get("name"),this.hasFeeds=!1;if(this.feeds.length>0)return this.hasFeeds=!0},afterRender:function(){var a;return this.data={},this.data.image_id=[],this.$("input[placeholder], textarea[placeholder]").placeholder(),this.isPostEdit()?this.$(".item_pic").hide():(this.initImageUploader(this.$(".one"),1),this.initImageUploader(this.$(".two"),2),this.initImageUploader(this.$(".three"),3)),this.hideSpinner(),a=this,this.populateFormData()},initImageUploader:function(a,b){var c;return c=this,this.imageUploader=new AjaxUpload(a,{action:"/api/transactions/image",name:"image",data:this.data,responseType:"text/html",autoSubmit:!0,onChange:function(){return c.hasImageFile=!0},onSubmit:_.bind(function(a,c){var d;return d=$(".item_pic#"+b),d.attr("src","/assets/loading.gif"),d.parent().addClass("loading")},this),onComplete:_.bind(function(a,c){var d;return c=$.parseJSON(c),d=$(".item_pic#"+b),d.attr("src",c.image_normal),d.parent().removeClass("loading"),this.data.image_id[b-1]=c.id},this)})},createPost:function(a){var b,c,d,e;a.preventDefault(),this.cleanUpPlaceholders(),this.showSpinner(),this.disableSubmitButton(),d=this.$("[name=price]").val(),d.length>0&&(e=Number(d.replace(/[^0-9\.]+/g,"")*100).toFixed(2)),this.data.title=this.$("[name=title]").val(),this.data.price=e,this.data.body=this.$("[name=body]").val(),c=this.$("[name=feed_selector]").val();if(c===""){this.showError("Please choose who to post as"),this.hideSpinner(),this.enableSubmitButton();return}return c!==void 0&&c!=="self"?(b=new Feed({links:{self:"/feeds/"+c,transactions:"/feeds/"+c+"/transactions"}}),this.sendPost(b.transactions,this.data)):this.sendPost(CommonPlace.community.transactions,this.data)},sendPost:function(a,b){var c,d,e;d=this;if(this.isPostEdit()){for(c in b)e=b[c],this.model.set(c,e);return this.model.save(),this.exit()}return a.create(b,{success:_.bind(function(a){d.hasImageFile&&d.addImageToPost(a),d.render(),CommonPlace.community.transactions.trigger("sync"),this.showShareModal(a,"Thanks for posting!","You've just shared this post with "+this.getUserCount()+" neighbors in "+this.community_name()+". Share with some more people!");if(typeof _kmq!="undefined"&&_kmq!==null)return _kmq.push(["record","Post",{Schema:a.get("schema"),ID:a.id}])},this),error:function(a,b){return typeof _kmq!="undefined"&&_kmq!==null&&_kmq.push(["record","Post Error",{Attributes:a}]),d.enableSubmitButton(),d.showError(b.responseText)}})},addImageToPost:function(a){return $.ajax({type:"POST",url:"/api"+a.get("links").self+"/add_image",data:{image_id:a.get("image_id")},success:function(a){},dataType:"JSON"})}})}.call(this);var GroupProfile=CommonPlace.View.extend({template:"main_page.group-profile",className:"profile",events:{"click .subscribe":"subscribe","click .unsubscribe":"unsubscribe"},avatarUrl:function(){return this.model.get("avatar_url")},fullName:function(){return this.model.get("name")},about:function(){return this.model.get("about")},subscribe:function(a){a.preventDefault(),CommonPlace.account.subscribeToGroup(this.model,_.bind(function(){this.render()},this))},unsubscribe:function(a){a.preventDefault(),CommonPlace.account.unsubscribeFromGroup(this.model,_.bind(function(){this.render()},this))},isSubscribed:function(){return CommonPlace.account.isSubscribedToGroup(this.model)},url:function(){return this.model.get("url")}}),FixedLayout=function(){function a(){if($("#community-resources").offset()){var a=$("#community-resources").offset().left;$("#community-resources .navigation").css({left:a}),$("#community-resources .sticky").css({left:a}),$("#community-resources-spacer").css({left:a})}}this.reset=function(){a()},this.bind=function(){$(window).bind("scroll.communityLayout",this.reset).bind("resize.communityLayout",this.reset)},this.unbind=function(){$(window).unbind(".communityLayout")}},StaticLayout=function(){function a(){var a=$("#profile-box");a.css({width:a.width()}),a.css("position")=="fixed"&&a.css({top:0,bottom:"auto"});var b=parseInt(a.css("margin-top"),10),c=a.parent(),d=$("#footer").offset().top,e=$(window).scrollTop(),f=a.offset().top,g=c.offset().top+c.height();if(a.css("position")=="relative")f<e&&a.css({position:"fixed",top:0,bottom:"auto"});else if(f<g+b)a.css({position:"relative"});else if(f+a.height()>d){var h=e+$(window).height()+20-d;a.css({top:"auto",bottom:h})}}this.bind=function(){$(window).bind("scroll.communityLayout",a)},this.unbind=function(){$(window).unbind(".communityLayout")},this.reset=$.noop};((function(){CommonPlace.main.PostBox=FormView.extend({template:"main_page.post-box",events:{"click .navigation li":"clickTab","click .close":"exit"},afterRender:function(){return this.$(".post-box").addClass("first"),this.modal.render()},clickTab:function(a){return a.preventDefault(),this.switchTab($(a.currentTarget).attr("data-tab"),a)},switchTab:function(a,b){return this.showTab(a)},showTab:function(a,b){var c;return c=void 0,c=this.tabs(a,b),c.render(),this.$(".post-box").removeClass("first"),this.$(".links").html(c.el),this.$("[placeholder]").placeholder(),this.browserSupportsPlaceholders()&&$.browser.webkit&&this.$("input:visible:first").focus(),CommonPlace.layout.reset(),c.onFormFocus&&c.onFormFocus(),this.browserSupportsPlaceholders()&&($(".chzn-select").chosen(),$(".chzn-drop").css("width","413px")),this.modal.centerEl()},tabs:function(a,b){var c,d,e;return d=this,e=void 0,c={nothing:function(){return new CommonPlace.main.PostForm({model:b,modal:d.modal})},event:function(){return new CommonPlace.main.EventForm({model:b,modal:d.modal})},promote:function(){return new CommonPlace.main.AnnouncementForm({model:b,modal:d.modal})},transaction:function(){return new CommonPlace.main.TransactionForm({model:b,modal:d.modal})},discussion:function(){return new CommonPlace.main.PostForm({category:"neighborhood",template:"main_page.forms.post-form",model:b,modal:d.modal})},request:function(){return new CommonPlace.main.PostForm({category:"offers",template:"main_page.forms.question-form",model:b,modal:d.modal})}},c[a]?e=c[a]():e=new CommonPlace.main.AnnouncementForm,e},groups:function(){return CommonPlace.community.get("groups")},feeds:function(){return CommonPlace.account.get("feeds")},promote_header:function(){var a;return this.isHarvardNeighbors()?"Post an Announcement":(a=this.feeds(),a.length===1?"Promote "+a[0].name:"Promote Your Work")}})})).call(this);var ProfileHistory=CommonPlace.View.extend({template:"main_page.profile-history",history:function(){var a=this;return _.map(this.collection,function(b){return new ProfileHistoryItem({model:b,name:a.shortName()})})},shortName:function(){return this.model.get("first_name")||this.model.get("short_name")},hasHistory:function(){return _.size(this.collection)!==0}});ProfileHistoryItem=CommonPlace.View.extend({to_html:function(){var a="main_page.history_items."+this.model.schema;return this.renderTemplate(a,_.extend({},this.model,{name:this.options.name,slug:CommonPlace.community.get("slug")}))}}),function(){CommonPlace.main.TourModal=CommonPlace.View.extend({id:"main",tagName:"div",overlayLevel:1e3,changedElements:[],events:{"click .close":"end","click #profile-box, #community-resources, #post-box":"end"},initialize:function(a){this.firstSlide=!0;if(a.exitWhenDone)return this.exitWhenDone=!0},render:function(){return this.$("#tour").html(this.renderTemplate("main_page.tour.wire",this)).attr("class","wire"),$(this.el).append("<div id='tour-shadow'></div>"),$(this.el).append(this.renderTemplate("main_page.tour.modal",this)),$("body").css({overflow:"hidden"}),$("#current-registration-page").css({overflow:"auto"})},showPage:function(a,b){var c,d,e,f;return e=this,d=function(a,b){return e.showPage(a,b)},c=function(a,b){return e.fadeIn(a,b)},this.firstSlide||this.fadeOut(),f={email:function(){return new CommonPlace.main.EmailView({nextPage:d,data:b,fadeIn:c,community:e.community,account:e.account})},address:function(){return new CommonPlace.main.AddressView({nextPage:d,data:b,fadeIn:c,community:e.community,account:e.account})},welcome:function(){return new CommonPlace.main.WelcomeView({nextPage:d,data:b,fadeIn:c,community:e.community,account:e.account})},profile:function(){return new CommonPlace.main.ProfileView({nextPage:d,data:b,fadeIn:c,community:e.community,account:e.account})},create_page:function(){return new CommonPlace.main.CreatePageView({nextPage:d,data:b,fadeIn:c,community:e.community,account:e.account,exitWhenDone:e.exitWhenDone})},subscribe:function(){return new CommonPlace.main.SubscribeView({nextPage:d,fadeIn:c,community:e.community,account:e.account,data:b,complete:e.options.complete})},rules:function(){return new CommonPlace.main.RulesView({nextPage:d,fadeIn:c,community:e.community,account:e.account,data:b,complete:e.options.complete})},neighbors:function(){return new CommonPlace.main.NeighborsView({complete:e.options.complete,fadeIn:c,community:e.community,account:e.account,data:b,nextPage:d})}}[a](),typeof _kmq!="undefined"&&_kmq!==null&&_kmq.push(["record","Tour: "+a+" page"],{community:CommonPlace.community.get("name")}),f.render()},welcome:function(){return this.showPage("welcome")},end:function(){return $("#tour-shadow").remove(),$("#tour").remove(),$("body").css({overflow:"auto"})},centerEl:function(a){var b,c,d;a.css(this.dimensions(a)),d=$(window).height(),b=a.height(),c=a.offset().top;if(c+b>d)return a.css({overflow:"auto"}),a.height(d-c)},fadeOut:function(){var a;return a=this.$("#current-tour-page"),a.css("filter","alpha(opacity=40)"),a.fadeOut("slow",function(){return a.empty(),a.hide()})},fadeIn:function(a,b){var c,d,e;return d=this.$("#next-tour-page"),c=this.$("#current-tour-page"),e=this.$("#tour"),d.append(a),d.css("filter","alpha(opacity=40)"),this.centerEl(d),d.fadeIn("slow",_.bind(function(){c.html(d.children("div").detach()),this.centerEl(c),c.show(),d.empty(),d.hide();if(b)return b()},this))},dimensions:function(a){var b;return b=($(window).width()-a.width())/2,{left:b}}}),CommonPlace.main.TourModalPage=CommonPlace.View.extend({initialize:function(a){return this.data=a.data||{},this.fadeIn=a.fadeIn,this.nextPage=a.nextPage,this.complete=a.complete,this.exitWhenDone=a.exitWhenDone},showError:function(a,b,c){return a.addClass("input_error"),b.text(c),b.show()},end:function(){return $("#tour-shadow").remove(),$("#tour").remove(),$("body").css({overflow:"auto"})},first_name:function(){return CommonPlace.account.get("short_name")},avatar_url:function(){return CommonPlace.account.get("avatar_url")},showSpinner:function(){return this.$(".spinner").show()},hideSpinner:function(){return this.$(".spinner").hide()},validate_registration:function(a,b){var c;return c="/api"+CommonPlace.community.get("links").registration.validate,$.getJSON(c,this.data,_.bind(function(c){var d;this.$(".error").hide();if(c.id)return CommonPlace.account=new Account(c),window.location=window.location.protocol+"//"+window.location.host+"/"+CommonPlace.community.get("slug");d=!0;if(!_.isEmpty(c.facebook))return window.location.pathname=CommonPlace.community.links.facebook_login;_.each(a,_.bind(function(a){var b,e,f;if(!_.isEmpty(c[a]))return b=this.$(".error."+a),f=this.$("input[name="+a+"]"),e=_.reduce(c[a],function(a,b){return a+" and "+b}),f.addClass("input_error"),b.text(e),b.show(),d=!1},this)),d||this.hideSpinner();if(d&&b)return b()},this))}})}.call(this),function(){CommonPlace.main.AddressView=CommonPlace.main.TourModalPage.extend({template:"main_page.tour.address",events:{"click input.continue":"submit","submit form":"submit","click .next-button":"submit","click .confirm":"verified"},afterRender:function(){var a;return this.hideSpinner(),this.initReferralQuestions(),this.$("input[placeholder]").placeholder(),this.fadeIn(this.el),a="/api/communities/"+CommonPlace.community.id+"/address_completions",this.$("input[name=address]").autocomplete({source:a,minLength:1,autoFocus:!0})},submit:function(a){var b;a&&a.preventDefault(),this.$(".error").hide(),this.data.address=this.$("input[name=address]").val(),this.data.referral_source=this.$("select[name=referral_source]").val(),this.data.referral_metadata=this.$("input[name=referral_metadata]").val();if(this.data.address.length<1){this.showError(this.$("input[name=address]"),this.$(".error.address"),"Please enter a valid address");return}if(this.data.referral_source==="placeholder"){this.showError(this.$("select[name=referral_source]"),this.$(".error.referral_source"),"Please tell us how you heard about OurCommonPlace");return}if(!this.$("#referral_metadata").is(":hidden")&&!this.data.referral_metadata){this.showError(this.$("select[name=referral_metadata]"),this.$(".error.referral_metadata"),"Please fill out the field above. It'll give us a chance to thank who brought you aboard!");return}return this.$("#address_verification").is(":hidden")?(this.data.term=this.data.address,this.showSpinner(),b="/api/communities/"+CommonPlace.community.id+"/address_approximate",$.get(b,this.data,_.bind(function(a){var b,c,d,e,f;c=this.$("#address_verification"),d=this.$("input.address_verify_radio"),e=this.$("span.address_verify_radio"),b=this.$("#suggested_address"),f=parseFloat(a[0]);if(f===-1)return this.verified();if(a[1].length<1||f<.84)this.showError(this.$("input[name=address]"),this.$(".error.address"),"Please enter a valid address"),this.$("#bypass").show(),this.hideSpinner();else{if(!(f<.94))return this.data.address=a[1],this.verified();this.data.suggest=a[1],b.empty(),b.text(a[1]),c.show(),d.show(),e.show(),b.show(),this.hideSpinner()}},this))):(this.$("#suggested").is(":checked")&&(this.data.address=this.data.suggest),this.verified())},verified:function(){var a;return a="/api"+CommonPlace.community.get("links").registration[this.data.isFacebook?"facebook":"new"],$.post(a,this.data,_.bind(function(a){if(a.success==="true"||a.id)return CommonPlace.account=new Account(a),delete this.data.term,delete this.data.suggest,this.nextPage("profile",this.data);if(!_.isEmpty(a.facebook))return window.location.pathname=CommonPlace.community.links.facebook_login;if(!_.isEmpty(a.password))return this.$(".error").text(a.password[0]),this.$(".error").show(),this.hideSpinner()},this))},referrers:function(){return CommonPlace.community.get("referral_sources")},initReferralQuestions:function(){return this.$("#referral_metadata").hide(),this.$("select.dk").dropkick({change:_.bind(function(a,b){var c,d;return d={"Heard about it from a friend or neighbor":"From who? We'd love to thank them!","Heard about it in a news story":"Which news source? We'd love to thank them!",Other:"What made you join? It'll help our effort to let us know!"},c=d[a],c?(this.$("input[name=referral_metadata]").attr("placeholder",c),this.$("#referral_metadata").show()):this.$("#referral_metadata").hide()},this)})}})}.call(this),function(){CommonPlace.main.CreatePageView=CommonPlace.main.TourModalPage.extend({template:"main_page.tour.create_page",events:{"click input.continue":"submit","submit form":"submit","click .next-button":"submit","click .cancel-button":"cancel"},initialize:function(a){return CommonPlace.main.TourModalPage.prototype.initialize(a),this.data&&this.data.isModel?this.model=this.data:(this.new_feed=!0,this.createFeed({name:CommonPlace.account.get("name")+"'s new page"}))},afterRender:function(){var a;this.hideSpinner(),this.hasAvatarFile=!1,this.$("input[placeholder], textarea[placeholder]").placeholder(),this.model&&(this.initAvatarUploader(this.$(".avatar_file_browse")),a=this.model.get("kind"),this.$("[name=page_kind] [value="+a+"]").attr("selected","selected")),this.$("select.dk").dropkick();if(!this.current)return this.fadeIn(this.el),this.current=!0},createFeed:function(a){return $.ajax({type:"post",url:"/api"+CommonPlace.community.feeds.uri,data:JSON.stringify(a),dataType:"json",success:_.bind(function(a){return this.model=new Feed(a),this.initAvatarUploader(this.$(".avatar_file_browse"))},this),error:_.bind(function(a,b){var c;return c=this.$(".error"),c.html("Error creating feed"),c.show()},this)})},submit:function(a){var b,c,d;return d=this,a&&a.preventDefault(),this.$(".error").hide(),c=this.$("input[name=name]").val(),this.isHarvardNeighbors()?b=1:b=this.$("select[name=page_kind]").val(),c===""?this.showError(this.$("input[name=name]"),this.$(".error.name"),"Please enter a page name"):b===""?this.showError(this.$("select[name=page_kind]"),this.$(".error.kind"),"Please select what type of organization you are creating"):(this.showSpinner(),this.model.save({name:c,about:this.$("textarea[name=about]").val(),address:this.$("input[name=address]").val(),website:this.$("input[name=website]").val(),phone:this.$("input[name=phone]").val(),tags:this.$("input[name=tags]").val(),kind:b,rss:this.$("input[name=rss]").val()},{success:function(){return d.next_step()}}))},cancel:function(a){return a&&a.preventDefault(),this.new_feed&&this.model.destroy(),this.next_step()},next_step:function(){return this.options.exitWhenDone?(app.showFeedPage(CommonPlace.community.get("slug"),this.model.id),$(".account-sub li").eq(2).after("<li><a class='feed-link' href='/pages/"+this.model.get("slug")+"'>"+this.model.get("name")+"</a></li>"),this.end()):this.nextPage("subscribe",this.data)},initAvatarUploader:function(a){var b;return b=this,this.avatarUploader=new AjaxUpload(a,{name:"avatar",action:"/api"+this.avatarEditUrl(),data:{},responseType:"json",autoSubmit:!0,onChange:function(a,c){return b.toggleAvatar()},onSubmit:function(a,b){},onComplete:function(a,c){return b.model.set(c),b.$(".profile_pic").attr("src",b.avatarUrl())}})},toggleAvatar:function(){return this.hasAvatarFile=!0,this.$("a.avatar_file_browse").html("Photo Added! â")},pageName:function(){return this.model?this.model.get("name"):""},about:function(){return this.model?this.model.get("about"):""},address:function(){return this.model?this.model.get("address"):""},rss:function(){return this.model?this.model.get("rss"):""},website:function(){return this.model?this.model.get("website"):""},phone:function(){return this.model?this.model.get("phone"):""},slug:function(){return this.model?this.model.get("slug"):""},deleteUrl:function(){return this.model?this.model.get("delete_url"):""},avatarUrl:function(){return this.model?this.model.link("avatar").thumb:"/avatars/missing.png"},editUrl:function(){return this.model?this.model.link("edit"):""},avatarEditUrl:function(){return this.model?this.model.link("avatar_edit"):""}})}.call(this),function(){CommonPlace.main.EmailView=CommonPlace.main.TourModalPage.extend({template:"main_page.tour.email",events:{"click input.continue":"submit","submit form":"submit","click img.facebook":"facebook","click .next-button":"submit"},afterRender:function(){var a;return this.hideSpinner(),this.$("input[placeholder]").placeholder(),this.browserSupportsPlaceholders()&&$.browser.webkit&&this.$("input:visible:first").focus(),this.fadeIn(this.el),this.data&&this.data.isFacebook&&(this.$("input[name=full_name]").val(this.data.full_name),this.isRealEmail()&&this.$("input[name=email]").val(this.data.email)),a=["hotmail.com","gmail.com","aol.com","yahoo.com"],this.$("input#email").blur(function(){return $("input#email").mailcheck(a,{suggested:function(a,b){return $(".error.email").html("Did you mean "+b.full+"?"),$(".error.email").show(),$(".error.email").click(function(c){return $(a).val(b.full)})},empty:function(a){return $(".error.email").hide()}})})},isRealEmail:function(){return!this.data||!this.data.email?!1:this.data.email.search("proxymail")===-1},facebook:function(a){return a&&a.preventDefault(),facebook_connect_registration({success:_.bind(function(a){return this.data=a,this.data.isFacebook=!0,this.nextPage("profile",this.data)},this)})},submit:function(a){var b;return a&&a.preventDefault(),this.$("input").removeClass("input_error"),this.$(".error").hide(),this.data.full_name=this.$("input[name=full_name]").val(),this.data.email=this.$("input[name=email]").val(),this.data.password=this.$("input[name=password][type=password]").val(),this.data.password===""?this.showError(this.$("input[name=password]"),this.$(".error.password"),"Password can't be empty"):(this.showSpinner(),b=["full_name","email"],this.validate_registration(b,_.bind(function(){return this.nextPage("address",this.data)},this)))}})}.call(this),function(){CommonPlace.main.NeighborsView=CommonPlace.main.TourModalPage.extend({template:"main_page.tour.neighbors",events:{"click .next-button":"submit"},afterRender:function(){return this.fadeIn(this.el),this.$("input[placeholder], textarea[placeholder]").placeholder()},submit:function(a){return a&&a.preventDefault(),this.finish()},finish:function(){return window.location.pathname="/"+CommonPlace.community.get("slug")}})}.call(this),function(){CommonPlace.main.ProfileView=CommonPlace.main.TourModalPage.extend({template:"main_page.tour.profile",upcoming_page:"subscribe",events:{"click input.continue":"submit","submit form":"submit","click img.facebook":"facebook","click .next-button":"submit"},afterRender:function(){return this.hideSpinner(),this.hasAvatarFile=!1,this.$("input[placeholder], textarea[placeholder]").placeholder(),CommonPlace.account.get("facebook_user")||this.initAvatarUploader(this.$(".avatar_file_browse")),this.form_name().val(CommonPlace.account.get("name")),this.form_about().val(CommonPlace.account.get("about")),this.form_orgs().val(CommonPlace.account.get("organizations")),this.avatar_url()&&this.$(".profile_pic").attr("src",this
.avatar_url()),this.current||(this.fadeIn(this.el),this.current=!0),this.$("select.list").chosen().change({},function(){var a;return a=$(this).parent("li").children("div").children("ul"),a.click()})},submit:function(a){var b,c;return c=this,a&&a.preventDefault(),b={name:this.form_name().val(),about:this.form_about().val(),organizations:this.form_orgs().val()},this.$("input:checked").attr("id")==="yes"&&(this.upcoming_page="create_page"),this.showSpinner(),CommonPlace.account.save(b,{success:function(a){return c.nextPage(c.upcoming_page,void 0)}})},initAvatarUploader:function(a){var b;return b=this,this.avatarUploader=new AjaxUpload(a,{action:"/api"+CommonPlace.community.get("links").registration.avatar,name:"avatar",data:{},responseType:"json",autoSubmit:!0,onChange:function(){return b.toggleAvatar()},onSubmit:function(a,b){},onComplete:_.bind(function(a,b){return CommonPlace.account=new Account(b),$(".profile_pic").attr("src",this.avatar_url())},this)})},form_name:function(){return this.$("input[name=name]")},form_orgs:function(){return this.$("input[name=organizations]")},form_about:function(){return this.$("textarea[name=about]")},toggleAvatar:function(){return this.hasAvatarFile=!0,this.$("a.avatar_file_browse").html("Photo Added! â")},facebook:function(a){a&&a.preventDefault();if(!CommonPlace.account.get("facebook_user"))return facebook_connect_avatar({success:_.bind(function(a){return CommonPlace.account.set("facebook_user",!0),CommonPlace.account=_.extend(CommonPlace.account,a),this.toggleAvatar(),$(".profile_pic").attr("src",this.avatar_url()),CommonPlace.account.save()},this)})}})}.call(this),function(){CommonPlace.main.RulesView=CommonPlace.main.TourModalPage.extend({template:"main_page.tour.rules",events:{"click .next-button":"submit"},afterRender:function(){this.hideSpinner();if(!this.current)return this.fadeIn(this.el),this.current=!0},submit:function(a){return a&&a.preventDefault(),window.location=window.location.protocol+"//"+window.location.host+"/"+CommonPlace.community.get("slug")}})}.call(this),function(){CommonPlace.main.SubscribeView=CommonPlace.main.TourModalPage.extend({template:"main_page.tour.subscribe",feed_kinds:["communitygroup","communitygroup","business","municipal","news","communitygroup"],feed_categories:[{name:"Community Group",id:"communitygroup"},{name:"Municipal",id:"municipal"},{name:"News",id:"name"},{name:"Discussion",id:"discussion"},{name:"Business",id:"business"}],events:{"click input.continue":"submit","submit form":"submit","click .next-button":"submit"},afterRender:function(){var a,b,c;return c=this,this.hideSpinner(),this.$(".page_category").hide(),b=CommonPlace.community.groups,b.fetch({success:function(){return _.each(b.models,_.bind(function(a){var b;return b=new c.GroupItem({model:a}),b.render(),$(".discussion").append(b.el),$("#discussion").show()},this))}}),a=CommonPlace.community.feeds,a.fetch({success:function(){return _.each(a.models,_.bind(function(a){var b,d;return d=new c.FeedItem({model:a}),d.render(),b=c.feed_kinds[a.get("kind")],$("."+b).append(d.el),$("#"+b).show()},this))}}),this.fadeIn(this.el)},categories:function(){return this.isHarvardNeighbors?[{name:"Community Group",id:"communitygroup"}]:this.feed_categories},submit:function(a){var b,c;return a&&a.preventDefault(),this.showSpinner(),b=_.map(this.$("input[name=feeds_list]:checked"),function(a){return $(a).val()}),_.isEmpty(b)||CommonPlace.account.subscribeToFeed(b),c=_.map(this.$("input[name=groups_list]:checked"),function(a){return $(a).val()}),_.isEmpty(c)||CommonPlace.account.subscribeToGroup(c),this.finish()},finish:function(){return this.nextPage("rules",this.data)},FeedItem:CommonPlace.View.extend({className:"page_item",template:"main_page.tour.feed-item",events:{click:"check"},initialize:function(a){return this.model=a.model},afterRender:function(){return this.$(".avatar-container").css({"background-size":"cover"})},avatar_url:function(){return this.model.get("avatar_url")},feed_id:function(){return this.model.get("id")},feed_name:function(){return this.model.get("name")},feed_about:function(){return this.model.get("about")},check:function(a){var b;return a&&a.preventDefault(),b=this.$("input[type=checkbox]"),b.attr("checked")?(b.removeAttr("checked"),this.$(".check").removeClass("checked")):(b.attr("checked","checked"),this.$(".check").addClass("checked"))}}),GroupItem:CommonPlace.View.extend({className:"page_item",template:"main_page.tour.group-item",events:{click:"check"},initialize:function(a){return this.model=a.model},afterRender:function(){return this.$(".avatar-container").css({"background-size":"cover"})},avatar_url:function(){return this.model.get("avatar_url")},group_id:function(){return this.model.get("id")},group_name:function(){return this.model.get("name")},group_about:function(){return this.model.get("about")},check:function(a){var b;return a&&a.preventDefault(),b=this.$("input[type=checkbox]"),b.attr("checked")?(b.removeAttr("checked"),this.$(".check").removeClass("checked")):(b.attr("checked","checked"),this.$(".check").addClass("checked"))}})})}.call(this),function(){CommonPlace.main.WelcomeView=CommonPlace.main.TourModalPage.extend({template:"main_page.tour.welcome",events:{"click .next-button":"submit"},afterRender:function(){return this.fadeIn(this.el),this.hideSpinner()},submit:function(a){return a&&a.preventDefault(),this.showSpinner(),this.finish()},finish:function(){return this.nextPage("profile",this.data)}})}.call(this);var UserProfile=CommonPlace.View.extend({template:"main_page.user-profile",className:"profile",events:{"click .message":"showMessageForm","click .meet":"meet","click .unmeet":"unmeet","click ul.history a":"showHistoricalItem"},comma:function(a){return" "+a},afterRender:function(){var a=this;this.model.profileHistory(function(b){var c=new ProfileHistory({collection:b,el:a.$(".profile-history"),model:a.model});c.render()})},avatarUrl:function(){return this.model.get("avatar_url")},fullName:function(){return this.model.get("name")},shortName:function(){return this.model.get("first_name")},about:function(){return this.model.get("about")},post_count:function(){return this.model.get("post_count")},reply_count:function(){return this.model.get("reply_count")},interests:function(){return _.map(this.model.get("interests"),this.comma)},skills:function(){return _.map(this.model.get("skills"),this.comma)},goods:function(){return _.map(this.model.get("goods"),this.comma)},subscriptions:function(){return this.model.get("subscriptions")},groups:function(){return""},hasAbout:function(){return this.model.get("about")},hasInterests:function(){return this.model.get("interests").length>0},hasSkills:function(){return this.model.get("skills").length>0},hasGoods:function(){return this.model.get("goods").length>0},showMessageForm:function(a){a.preventDefault();var b=new MessageFormView({model:new Message({messagable:this.model})});b.render()},meet:function(a){a.preventDefault(),CommonPlace.account.meetUser(this.model),this.$(".just-met").show(),this.$(".meet").hide()},unmeet:function(a){a.preventDefault(),CommonPlace.account.unmeetUser(this.model,_.bind(function(){this.render()},this))},hasMet:function(){return CommonPlace.account.hasMetUser(this.model)},showHistoricalItem:function(){this.options.highlightSingleUser(this.model)}});((function(){CommonPlace.CommunityPage=CommonPlace.View.extend({template:"main_page.main-page",id:"main",track:!0,page_name:"community",initialize:function(a){var b;return b=this,this.account=CommonPlace.account,this.community=CommonPlace.community,this.lists=new CommonPlace.main.CommunityResources({account:this.account,community:this.community}),this.sidebar=new CommonPlace.shared.Sidebar({nav:new CommonPlace.shared.YourTown,directory:new CommonPlace.shared.Directory}),this.views=[this.sidebar,this.lists]},afterRender:function(){var a;return a=this,_(this.views).each(function(b){return b.render(),a.$("#"+b.id).replaceWith(b.el)}),CommonPlace.layout.reset()},bind:function(){return $("body").addClass("community"),CommonPlace.layout.bind()},unbind:function(){return $("body").removeClass("community"),CommonPlace.layout.unbind()}}),$(function(){return Features.isActive("2012Release")?($("body").addClass("fixedLayout"),CommonPlace.layout=new FixedLayout):CommonPlace.layout=new StaticLayout})})).call(this);var InboxPage=CommonPlace.View.extend({template:"inbox_page/main",track:!0,page_name:"inbox",initialize:function(){this.collection=new Messages([],{uri:CommonPlace.account.link("inbox")})},afterRender:function(){var a=this;this.$("#inbox-nav .inbox").addClass("current"),this.collection.fetch({success:_.bind(function(){this.listview=new MessageWire({collection:this.collection,el:this.$("#message-list"),callback:function(){window.location.hash&&$(window).scrollTop($("#message_"+window.location.hash.substr(1)).position().top)}}),this.$("div#message-list.loading").removeClass("loading"),this.listview.render(),window.HeaderNavigation.clearUnreadMessages()},this)})},bind:function(){$("body").addClass("inbox")},unbind:function(){$("body").removeClass("inbox")}}),FeedInboxPage=CommonPlace.View.extend({template:"feed_inbox_page/main",track:!0,page_name:"feed_inbox",initialize:function(){this.collection=new Messages([],{uri:CommonPlace.account.link("feed_messages")})},afterRender:function(){var a=this;this.$("#inbox-nav .feed_inbox").addClass("current"),this.collection.fetch({success:function(){var b=new MessageWire({collection:a.collection,el:a.$("#message-list")});b.render()}})},bind:function(){$("body").addClass("inbox")},unbind:function(){$("body").removeClass("inbox")}}),OutboxPage=CommonPlace.View.extend({template:"outbox_page/main",track:!0,page_name:"outbox",initialize:function(){this.collection=new Messages([],{uri:CommonPlace.account.link("sent")})},afterRender:function(){var a=this;this.$("#inbox-nav .outbox").addClass("current"),this.collection.fetch({success:function(){var b=new MessageWire({collection:a.collection,el:a.$("#message-list")});b.render()}})},bind:function(){$("body").addClass("inbox")},unbind:function(){$("body").removeClass("inbox")}}),DeleteAccountForm=CommonPlace.View.extend({template:"account_page/delete-account-form",id:"delete-account-form",events:{"click button.delete":"deleteAccount"},deleteAccount:function(){CommonPlace.account.destroy({success:function(){window.location.href="/"+CommonPlace.community.get("slug")}})}}),AccountPage=CommonPlace.View.extend({template:"account_page/main",track:!0,page_name:"account",events:{"click .controls button":"editAccount","click .avatar a.delete":"deleteAvatar","click .avatar a.crop":"cropAvatar","click .delete-account":"confirmDeleteAccount"},initialize:function(){this.model=CommonPlace.account},afterRender:function(){this.$(".about").autoResize();var a=this.model.get("neighborhood_posts");this.$("[name=get-posts][value='"+a+"']").attr("checked","checked"),this.populateSelected(this.model.get("interests"),this.$("[name=interests]")),this.populateSelected(this.model.get("skills"),this.$("[name=skills]")),this.populateSelected(this.model.get("goods"),this.$("[name=goods]")),this.$("select.list").chosen(),this.initAvatarUploader(this.$(".avatar .upload"))},populateSelected:function(a,b){_.each(a,function(a){var c=b.children("[value='"+a+"']");c.attr("selected","selected")})},editAccount:function(a){a&&a.preventDefault();var b=this,c={name:this.$("[name=full_name]").val(),about:this.$("[name=about]").val(),email:this.$("[name=email]").val(),interests:this.$("[name=interests]").val(),skills:this.$("[name=skills]").val(),goods:this.$("[name=goods]").val(),neighborhood_posts:this.$("[name=get-posts]:checked").val()};if(this.$("[name=password]").val()){var d=this.$("[name=password]").val(),e=this.$("[name=password-redundant]").val();if(d!=e){this.showError({status:403,responseText:"Password and Password Confirmation don't match"});return}c.password=d}this.model.save(c,{success:function(){b.showSuccess()},error:function(a,c){b.showError(c)}})},showSuccess:function(){this.render(),this.$("select.list").chosen(),this.$(".success").show(),this.$(".error").hide(),$(window).scrollTop(0)},showError:function(a){this.$(".error").text(a.responseText),this.$(".error").show(),this.$(".success").hide(),$(window).scrollTop(0)},fullName:function(){return this.model.get("name")},about:function(){return this.model.get("about")},email:function(){return this.model.get("email")},avatarUrl:function(){return this.model.get("avatar_url")},interests:function(){return CommonPlace.community.get("interests")},skills:function(){return CommonPlace.community.get("skills")},goods:function(){return CommonPlace.community.get("goods")},initAvatarUploader:function(a){var b=this,c=new AjaxUpload(a,{action:"/api"+b.model.link("avatar"),name:"avatar",data:{},responseType:"json",onChange:function(a,b){},onSubmit:function(a,b){},onComplete:function(a,c){b.model.set(c),b.render()}})},cropAvatar:function(a){a&&a.preventDefault();var b=new AvatarCropFormView({model:CommonPlace.account});b.render()},deleteAvatar:function(a){var b=this;a&&a.preventDefault(),this.model.deleteAvatar(function(){b.render()})},confirmDeleteAccount:function(a){a&&a.preventDefault();var b=new DeleteAccountForm;b.render();var c=new ModalView({form:b.el});c.render()},bind:function(){$("body").addClass("account")},unbind:function(){$("body").removeClass("account")}}),StatsPage=CommonPlace.View.extend({template:"stats_page/main",events:{"click .header":"toggleDisplay","click .subheader":"toggleDisplay"},statistics:{},statistics_version:"",statistic_days:30,initialize:function(){this.model=CommonPlace.account},toggleDisplay:function(a){var b="#"+$(a.target).attr("data-hider");$(b).toggle("slow")},loadStatistics:function(){$.blockUI({message:"<h1>Just a moment...</h1>"});var a=this;$.ajax({type:"GET",dataType:"json",url:"/api/stats/days",success:function(b){a.statistic_days=b,$.ajax({type:"GET",dataType:"json",url:"/api/stats/",success:function(b){b[0][0]=="error"?($.unblockUI(),$.blockUI({message:"<h1>Sorry, statistics are currently generating</h1>"})):(a.populateStatistics(b),$(".graph").hide(),$(".global").show("slow"),$.unblockUI())},failure:function(b){a.showError("Could not load statistics: "+b)}})},failure:function(b){a.showError("Could not load number of days of statistics")}})},afterRender:function(){this.loadStatistics()},liHiderFor:function(a,b){return"<li class='subheader' data-hider='"+a+"'>"+b+"</li>"},pctDifference:function(a,b){a=this.roundDecimal(a,3),b=this.roundDecimal(b,3);var c=100*(Math.abs(a-b)/Math.max(Math.abs(a),Math.abs(b)));return b<a&&(c=0-c),this.roundDecimal(c,3)},roundDecimal:function(a,b){var c=Math.round(a*Math.pow(10,b))/Math.pow(10,b);return c},showExecutiveSummary:function(a){$("table#executive_summary tr td").hide(),$("table#executive_summary tr").hide(),$("table#executive_summary tr td."+a).show(),$("table#executive_summary tr").show()},populateStatistics:function(a){this.statistics_version=a[0],this.statistics=a[1];var b=this;_.each(this.statistics,function(a){var c=a[0];$("table#executive_summary select#community_selector").append("<option value='"+a[0]+"'>"+a[0]+"</option>"),_.each(["today","this_week","pct_difference","pct_difference_lifetime"],function(a){_.each(["new_users","pct_growth","pct_visits","pct_daily_bulletin","number_posts"],function(b){$("table#executive_summary tr#"+a).append("<td class='"+b+" "+c+"' style='display: none;'></td>")})});var d=JSON.parse(a[1]),e=_.last(d),f=_.last(d,7),g=_.first(_.last(d,14),7),h=d;$("table#executive_summary tr#today td.new_users."+c).html(""+Number(e.UsersGainedDaily)),$("table#executive_summary tr#today td.pct_growth."+c).html(""+b.roundDecimal(100*e.UsersGainedDaily/e.UsersTotal,3)+"%"),$("table#executive_summary tr#today td.pct_visits."+c).html(""+b.roundDecimal(100*e.UsersVisitedToday/e.UsersTotal,3)+"%"),$("table#executive_summary tr#today td.pct_daily_bulletin."+c).html(""+b.roundDecimal(100*e.DailyBulletinsOpenedToday/e.DailyBulletinsSentToday,3)+"%"),$("table#executive_summary tr#today td.number_posts."+c).html(""+Number(e.PostsToday));var i=b.roundDecimal(_.reduce(f,function(a,b){return a+Number(b.UsersGainedDaily)},0)/7,3),j=b.roundDecimal(_.reduce(f,function(a,b){return a+100*Number(b.UsersGainedDaily)/Number(b.UsersTotal)},0)/7,3),k=b.roundDecimal(_.reduce(f,function(a,b){return a+100*Number(b.UsersVisitedToday)/Number(b.UsersTotal)},0)/7,3),l=b.roundDecimal(_.reduce(f,function(a,b){return a+100*Number(b.DailyBulletinsOpenedToday)/Number(b.DailyBulletinsSentToday)},0)/7,3),m=b.roundDecimal(_.reduce(f,function(a,b){return a+Number(b.PostsToday)},0)/7,3);$("table#executive_summary tr#this_week td.new_users."+c).html(""+i),$("table#executive_summary tr#this_week td.pct_growth."+c).html(""+j+"%"),$("table#executive_summary tr#this_week td.pct_visits."+c).html(""+k+"%"),$("table#executive_summary tr#this_week td.pct_daily_bulletin."+c).html(""+l+"%"),$("table#executive_summary tr#this_week td.number_posts."+c).html(""+m);var n=_.reduce(g,function(a,b){return a+Number(b.UsersGainedDaily)},0)/7,o=_.reduce(g,function(a,b){return a+100*Number(b.UsersGainedDaily)/Number(b.UsersTotal)},0)/7,p=_.reduce(g,function(a,b){return a+100*Number(b.UsersVisitedToday)/Number(b.UsersTotal)},0)/7,q=_.reduce(g,function(a,b){return a+100*Number(b.DailyBulletinsOpenedToday)/Number(b.DailyBulletinsSentToday)},0)/7,r=_.reduce(g,function(a,b){return a+Number(b.PostsToday)},0)/7,s=b.pctDifference(i,n),t=b.pctDifference(j,o),u=b.pctDifference(k,p),v=b.pctDifference(l,q),w=b.pctDifference(m,r);$("table#executive_summary tr#pct_difference td.new_users."+c).html(""+s+"%"),$("table#executive_summary tr#pct_difference td.pct_growth."+c).html(""+t+"%"),$("table#executive_summary tr#pct_difference td.pct_visits."+c).html(""+u+"%"),$("table#executive_summary tr#pct_difference td.pct_daily_bulletin."+c).html(""+v+"%"),$("table#executive_summary tr#pct_difference td.number_posts."+c).html(""+w+"%");var x=_.reduce(h,function(a,b){return a+Number(b.UsersGainedDaily)},0)/7,y=_.reduce(h,function(a,b){return a+100*Number(b.UsersGainedDaily)/Number(b.UsersTotal)},0)/7,z=_.reduce(h,function(a,b){return a+100*Number(b.UsersVisitedToday)/Number(b.UsersTotal)},0)/7,A=_.reduce(h,function(a,b){return a+100*Number(b.DailyBulletinsOpenedToday)/Number(b.DailyBulletinsSentToday)},0)/7,B=_.reduce(h,function(a,b){return a+Number(b.PostsToday)},0)/7,C=b.pctDifference(i,x),D=b.pctDifference(j,y),E=b.pctDifference(k,z),F=b.pctDifference(l,A),G=b.pctDifference(m,B);$("table#executive_summary tr#pct_difference_lifetime td.new_users."+c).html(""+C+"%"),$("table#executive_summary tr#pct_difference_lifetime td.pct_growth."+c).html(""+D+"%"),$("table#executive_summary tr#pct_difference_lifetime td.pct_visits."+c).html(""+E+"%"),$("table#executive_summary tr#pct_difference_lifetime td.pct_daily_bulletin."+c).html(""+F+"%"),$("table#executive_summary tr#pct_difference_lifetime td.number_posts."+c).html(""+G+"%")}),$("table#executive_summary select#community_selector").dropkick({change:function(a,c){b.showExecutiveSummary(a)}}),$("#user_count").append(this.liHiderFor("user_count_graph_cumulative","Cumulative User Count")),$("#user_count").append("<li class='graph full global user_count_graph' id='user_count_graph_cumulative'></li>");var c=new Highcharts.Chart({chart:{renderTo:"user_count_graph_cumulative",defaultSeriesType:"column"},title:{text:"User Counts across Communities"},xAxis:{type:"datetime",title:{text:null}},yAxis:{title:{text:"Users"},min:0},plotOptions:{area:{pointStart:f},column:{stacking:"normal",dataLabels:{enabled:!1}}},tooltip:{enabled:!0,formatter:function(){return"<b>"+this.series.name+"</b>: "+this.y+"/"+this.total+" ("+Math.round(this.percentage)+"%)"}},legend:{enabled:!0},series:_.map(_.reject(this.statistics,function(a){return a[0]=="global"}),function(a){var b=a[0],c=_.last(JSON.parse(a[1]),30),d=Date.parse(c[0].Date),e={name:b,pointInterval:864e5,pointStart:d,data:_.map(c,function(a){return Number(a.UsersTotal)})};return e}),credits:{enabled:!0}});$("#user_count").append("<li class='graph full global user_count_graph' id='user_count_graph_cumulative_line'></li>"),new Highcharts.Chart({chart:{renderTo:"user_count_graph_cumulative_line"},title:{text:"User Counts across Communities"},xAxis:{type:"datetime",title:{text:null}},yAxis:{title:{text:"Users"},min:0},plotOptions:{area:{pointStart:f},column:{stacking:"normal",dataLabels:{enabled:!1}}},tooltip:{enabled:!0},legend:{enabled:!0},series:_.map(_.reject(this.statistics,function(a){return a[0]=="global"}),function(a){var b=a[0],c=_.last(JSON.parse(a[1]),30),d=Date.parse(c[0].Date),e={name:b,pointInterval:864e5,pointStart:d,data:_.map(c,function(a){return Number(a.UsersTotal)})};return e}),credits:{enabled:!0}});for(community in this.statistics){var d=this.statistics[community][0],e=_.last(JSON.parse(this.statistics[community][1]),this.statistic_days),f=Date.parse(e[0].Date);$("#user_count").append(this.liHiderFor("user_count_graph_"+d,d)),$("#user_count").append("<li class='graph full "+d+" user_count_graph' id='user_count_graph_"+d+"'></li>"),new Highcharts.Chart({chart:{renderTo:"user_count_graph_"+d},title:{text:"User Engagement for "+d},xAxis:{type:"datetime",title:{text:null}},yAxis:{title:{text:"Users"},min:0,max:100},tooltip:{formatter:function(){return""+this.series.name+": "+this.y+"%"}},legend:{enabled:!0},series:[{name:"Users Engaging over Past 3 Months",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.UsersActiveOverPast30Days)/Number(a.UsersTotal)*100})},{name:"Users Posting over Past 3 Months",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.UsersPostingOverPast3Months)/Number(a.UsersTotal)*100})},{name:"Daily Bulletins Opened",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.DailyBulletinsOpenedToday)/Number(a.UsersTotal)*100})}],credits:{enabled:!1}})}for(community in this.statistics)d=this.statistics[community][0],e=_.last(JSON.parse(this.statistics[community][1]),this.statistic_days),f=Date.parse(e[0].Date),$("#daily_network_engagement").append(this.liHiderFor("daily_network_engagement_graph_"+d,d)),$("#daily_network_engagement").append("<li class='graph full "+d+" daily_network_engagement_graph' id='daily_network_engagement_graph_"+d+"'></li>"),new Highcharts.Chart({chart:{renderTo:"daily_network_engagement_graph_"+d},title:{text:"Daily Network Engagement"},xAxis:{type:"datetime",title:{text:null}},yAxis:{title:{text:"Percentage"},min:0,max:100},tooltip:{enabled:!0},legend:{enabled:!0},series:[{name:"Percentage of Users who Opened Daily Bulletin",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.DailyBulletinsOpenedToday)/Number(a.UsersTotal)})},{name:"Percentage of Users who Opened Post Email",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.NeighborhoodPostEmailsOpenedToday)/Number(a.UsersTotal)})},{name:"Percentage of Users who Visited Platform",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersVisitedToday)/Number(a.UsersTotal)})},{name:"Percentage of Users who Adjusted Something",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersActiveToday)/Number(a.UsersTotal)})},{name:"Percentage of Users who Posted/Replied/Messaged",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersPostingToday)/Number(a.UsersTotal)})}],credits:{enabled:!1}});for(community in this.statistics)d=this.statistics[community][0],e=_.last(JSON.parse(this.statistics[community][1]),this.statistic_days),f=Date.parse(e[0].Date),$("#network_engagement").append(this.liHiderFor("network_engagement_graph_"+d,d)),$("#network_engagement").append("<li class='graph full "+d+" network_engagement_graph' id='network_engagement_graph_"+d+"'></li>"),new Highcharts.Chart({chart:{renderTo:"network_engagement_graph_"+d},title:{text:"Network Engagement"},xAxis:{type:"datetime",title:{text:null}},yAxis:{title:{text:"Percentage"},min:0,max:100},tooltip:{enabled:!0},legend:{enabled:!0},series:[{name:"Percentage of Neighbors who Visited Site",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersVisitedToday)/Number(a.UsersTotal)})},{name:"Percentage of Neighbors who Visited Site in Past Week",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersVisitedInPastWeek)/Number(a.UsersTotal)})},{name:"Percentage of Neighbors who Visited Site in Past Month",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersVisitedInPastMonth)/Number(a.UsersTotal)})}],credits:{enabled:!1}});for(community in this.statistics)d=this.statistics[community][0],e=_.last(JSON.parse(this.statistics[community][1]),this.statistic_days),f=Date.parse(e[0].Date),$("#levels_of_engagement").append(this.liHiderFor("levels_of_engagement_graph_"+d,d)),$("#levels_of_engagement").append("<li class='graph full "+d+" levels_of_engagement_graph' id='levels_of_engagement_graph_"+d+"'></li>"),new Highcharts.Chart({chart:{renderTo:"levels_of_engagement_graph_"+d,defaultSeriesType:"column"},title:{text:"Levels of Engagement"},xAxis:{type:"datetime",title:{text:null}},yAxis:{title:{text:"Percentage"},min:0},tooltip:{enabled:!0,formatter:function(){return"<b>"+this.series.name+"</b>: "+this.y+"/100"}},legend:{enabled:!0},series:[{name:"Visited 1 Time in Past Week",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersReturnedOnceInPastWeek)/Number(a.UsersTotal)})},{name:"Visited 2 Times in Past Week",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersReturnedTwiceInPastWeek)/Number(a.UsersTotal)})},{name:"Visited 3+ Times in Past Week",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersReturnedThreeOrMoreTimesInPastWeek)/Number(a.UsersTotal)})}],credits:{enabled:!1}});community=0,d=this.statistics[community][0],e=_.last(JSON.parse(this.statistics[community][1]),this.statistic_days),f=Date.parse(e[0].Date),$("#user_gains").append(this.liHiderFor("user_growth_graph_"+d,d)),$("#user_gains").append("<li class='graph full "+d+" user_growth_graph' id='user_growth_graph_"+d+"'></li>"),new Highcharts.Chart({chart:{renderTo:"user_growth_graph_"+d,defaultSeriesType:"column"},title:{text:"Users Gained for "+d},xAxis:{type:"datetime",title:{text:null}},xAxis:{type:"datetime",title:{text:null}},yAxis:{title:{text:"Users"},min:0},plotOptions:{area:{pointStart:f},column:{stacking:"normal",dataLabels:{enabled:!1}}},tooltip:{enabled:!0,formatter:function(){return"<b>"+this.series.name+"</b>: "+this.y+"/"+this.total+" ("+Math.round(this.percentage)+"%)"}},legend:{enabled:!0},series:_.map(_.reject(this.statistics,function(a){return a[0]=="global"}),function(a){var b=a[0],c=_.last(JSON.parse(a[1]),30),d=Date.parse(c[0].Date),e={name:b,pointInterval:864e5,pointStart:d,data:_.map(c,function(a){return Number(a.UsersGainedDaily)})};return e}),credits:{enabled:!1}});for(community in this.statistics)d=this.statistics[community][0],e=_.last(JSON.parse(this.statistics[community][1]),this.statistic_days),f=Date.parse(e[0].Date),$("#content_posting").append(this.liHiderFor("content_posting_graph_"+d,d)),$("#content_posting").append("<li class='graph full "+d+" content_posting_graph' id='content_posting_graph_"+d+"'></li>"),new Highcharts.Chart({chart:{renderTo:"content_posting_graph_"+d,defaultSeriesType:"column"},title:{text:"Total Posted Content for "+d},xAxis:{type:"datetime",title:{text:null}},yAxis:{title:{text:"Content"},min:0},plotOptions:{area:{pointStart:f},column:{stacking:"normal",dataLabels:{enabled:!1}}},tooltip:{enabled:!0,formatter:function(){return"<b>"+this.series.name+"</b>: "+this.y+"/"+this.total+" ("+Math.round(this.percentage)+"%)"}},series:[{name:"Posts",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.PostsToday)})},{name:"Events",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.EventsToday)})},{name:"Group Posts",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.GroupPostsToday)})},{name:"Announcements",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.AnnouncementsToday)})},{name:"Private Messages",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.PrivateMessagesToday)})},{name:"Private Message Replies",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.PrivateMessageRepliesToday)})}],credits:{enabled:!1}});for(community in this.statistics)d=this.statistics[community][0],e=_.last(JSON.parse(this.statistics[community][1]),this.statistic_days),f=Date.parse(e[0].Date),$("#feed_posting").append(this.liHiderFor("feed_posting_graph_"+d,d)),$("#feed_posting").append("<li class='graph full "+d+" feed_posting_graph' id='feed_posting_graph_"+d+"'></li>"),new Highcharts.Chart({chart:{renderTo:"feed_posting_graph_"+d,defaultSeriesType:"column"},title:{text:"Daily Feed Engagement for "+d},xAxis:{type:"datetime",title:{text:null}},yAxis:{min:0,title:{text:"Number"}},tooltip:{enabled:!0},tooltip:{enabled:!0,formatter:function(){return"<b>"+this.series.name+"</b>: "+this.y}},series:[{name:"Feed Announcements Today",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.FeedAnnouncementsToday)})},{name:"Feed Events Today",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.FeedEventsToday)})},{name:"Feeds Posting Today",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.FeedsPostingToday)})}],credits:{enabled:!1}});for(community in this.statistics)d=this.statistics[community][0],e=_.last(JSON.parse(this.statistics[community][1]),this.statistic_days/2),f=Date.parse(e[0].Date),$("#feed_engagement").append(this.liHiderFor("feed_engagement_graph_"+d,d)),$("#feed_engagement").append("<li class='graph full "+d+" feed_engagement_graph' id='feed_engagement_graph_"+d+"'></li>"),new Highcharts.Chart({chart:{renderTo:"feed_engagement_graph_"+d,defaultSeriesType:"column"},title:{text:"Feed Engagement for "+d},xAxis:{type:"datetime",title:{text:null}},yAxis:{min:0,title:{text:"Percentage"}},tooltip:{enabled:!0},legend:{enabled:!0},series:[{name:"Pctg of Feeds Edited",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.PctgFeedsEdited)})},{name:"Pctg of Feeds Streaming",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.PctgFeedsStreaming)})},{name:"Pctg of Feeds who Posted an Event",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.PctgFeedsPostedEvent)})},{name:"Pctg of Feeds who Posted an Announcement",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.PctgFeedsPostedAnnouncement)})}],credits:{enabled:!1}});for(community in this.statistics)d=this.statistics[community][0],e=_.last(JSON.parse(this.statistics[community][1]),14),f=Date.parse(e[0].Date),$("#replies_to_content").append(this.liHiderFor("replies_to_content_graph_"+d,d)),$("#replies_to_content").append("<li class='graph full "+d+" replies_to_content_graph' id='replies_to_content_graph_"+d+"'></li>"),new Highcharts.Chart({chart:{renderTo:"replies_to_content_graph_"+d,defaultSeriesType:"column",zoomable:"x"},title:{text:"Reply Overview for "+d},xAxis:{type:"datetime"},yAxis:{min:0,title:{text:"Number of Posted Content"}},tooltip:{formatter:function(){return""+this.series.name+": "+this.y+" ("+Math.round(this.percentage)+"%)"}},legend:{enabled:!0},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[{name:"Posts No Reply",data:_.map(e,function(a){return Number(a.PostsToday)-Number(a.PostsRepliedToToday)}),pointInterval:864e5,pointStart:f,stack:"posts"},{name:"Posts Replied To",data:_.map(e,function(a){return Number(a.PostsRepliedToToday)}),pointInterval:864e5,pointStart:f,stack:"posts"},{name:"Events No Reply",data:_.map(e,function(a){return Number(a.EventsToday)-Number(a.EventsRepliedToToday)}),pointInterval:864e5,pointStart:f,stack:"events"},{name:"Events Replied To",data:_.map(e,function(a){return Number(a.EventsRepliedToToday)}),pointInterval:864e5,pointStart:f,stack:"events"},{name:"Anouncements No Reply",data:_.map(e,function(a){return Number(a.AnnouncementsToday)-Number(a.AnnouncementsRepliedToToday)}),pointInterval:864e5,pointStart:f,stack:"announcements"},{name:"Announcements Replied To",data:_.map(e,function(a){return Number(a.AnnouncementsRepliedToToday)}),pointInterval:864e5,pointStart:f,stack:"announcements"},{name:"GroupPosts No Reply",data:_.map(e,function(a){return Number(a.GroupPostsToday)-Number(a.GroupPostsRepliedToToday)}),pointInterval:864e5,pointStart:f,stack:"group_posts"},{name:"GroupPosts Replied To",data
:_.map(e,function(a){return Number(a.GroupPostsRepliedToToday)}),pointInterval:864e5,pointStart:f,stack:"group_posts"}],credits:{enabled:!1}});for(community in this.statistics)d=this.statistics[community][0],e=_.last(JSON.parse(this.statistics[community][1]),14),f=Date.parse(e[0].Date),$("#email_opens").append(this.liHiderFor("email_opens_graph_"+d,d)),$("#email_opens").append("<li class='graph full "+d+" email_opens_graph' id='email_opens_graph_"+d+"'></li>"),new Highcharts.Chart({chart:{renderTo:"email_opens_graph_"+d,defaultSeriesType:"column"},title:{text:"Email Statistics for "+d},xAxis:{type:"datetime"},yAxis:{min:0,title:{text:"Emails"}},tooltip:{formatter:function(){return""+this.series.name+": "+this.y+" ("+Math.round(this.percentage)+"%)"}},legend:{enabled:!0},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[{name:"Post Unopened",data:_.map(e,function(a){return Number(a.NeighborhoodPostEmailsSentToday)-Number(a.NeighborhoodPostEmailsOpenedToday)}),pointInterval:864e5,pointStart:f,stack:"posts"},{name:"Post Opened",data:_.map(e,function(a){return Number(a.NeighborhoodPostEmailsOpenedToday)}),pointInterval:864e5,pointStart:f,stack:"posts"},{name:"Daily Bulletin Unopened",data:_.map(e,function(a){return Number(a.DailyBulletinsSentToday)-Number(a.DailyBulletinsOpenedToday)}),pointInterval:864e5,pointStart:f,stack:"daily_bulletin"},{name:"Daily Bulletin Opened",data:_.map(e,function(a){return Number(a.DailyBulletinsOpenedToday)}),pointInterval:864e5,pointStart:f,stack:"daily_bulletin"},{name:"Group Post Unopened",data:_.map(e,function(a){return Number(a.GroupPostEmailsSentToday)-Number(a.GroupPostEmailsOpenedToday)}),pointInterval:864e5,pointStart:f,stack:"group_posts"},{name:"Group Post Opened",data:_.map(e,function(a){return Number(a.GroupPostEmailsOpenedToday)}),pointInterval:864e5,pointStart:f,stack:"group_posts"},{name:"Announcement Unopened",data:_.map(e,function(a){return Number(a.AnnouncementEmailsSentToday)-Number(a.AnnouncementEmailsOpenedToday)}),pointInterval:864e5,pointStart:f,stack:"announcements"},{name:"Announcement Opened",data:_.map(e,function(a){return Number(a.AnnouncementEmailsOpenedToday)}),pointInterval:864e5,pointStart:f,stack:"announcements"}],credits:{enabled:!1}});for(community in this.statistics)d=this.statistics[community][0],e=_.last(JSON.parse(this.statistics[community][1]),this.statistic_days),f=Date.parse(e[0].Date),$("#user_historical_engagement").append(this.liHiderFor("user_historical_engagement_graph_"+d,d)),$("#user_historical_engagement").append("<li class='graph full "+d+" user_historical_engagement_graph' id='user_historical_engagement_graph_"+d+"'></li>"),new Highcharts.Chart({chart:{renderTo:"user_historical_engagement_graph_"+d},title:{text:"User Historical Engagement for "+d},xAxis:{type:"datetime",title:{text:null}},yAxis:{min:0,max:100,title:{text:"Cumulative Percentage"}},tooltip:{enabled:!0},legend:{enabled:!0},series:[{name:"User Added Data",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersAddedDataPast6Months)/Number(a.UsersTotal)})},{name:"Neighborhood Post",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersPostedNeighborhoodPostPast6Months)/Number(a.UsersTotal)})},{name:"Reply",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersRepliedPast6Months)/Number(a.UsersTotal)})},{name:"Event",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersPostedEventPast6Months)/Number(a.UsersTotal)})},{name:"Announcement",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersPostedAnnouncementPast6Months)/Number(a.UsersTotal)})},{name:"Posted to Group",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersPostedGroupPostPast6Months)/Number(a.UsersTotal)})},{name:"Private Messaged",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersPrivateMessagedPast6Months)/Number(a.UsersTotal)})},{name:"Updated Profile",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersUpdatedProfilePast6Months)/Number(a.UsersTotal)})},{name:"Thanked",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersThankedPast6Months)/Number(a.UsersTotal)})},{name:"Metted",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return 100*Number(a.UsersMettedPast6Months)/Number(a.UsersTotal)})}],credits:{enabled:!1}}),this.showExecutiveSummary("global");for(community in this.statistics)d=this.statistics[community][0],e=_.last(JSON.parse(this.statistics[community][1]),this.statistic_days),f=Date.parse(e[0].Date),$("#neighborhood_post_types").append(this.liHiderFor("neighborhood_post_types_graph_"+d,d)),$("#neighborhood_post_types").append("<li class='graph full "+d+" neighborhood_post_types_graph' id='neighborhood_post_types_graph_"+d+"'></li>"),new Highcharts.Chart({chart:{renderTo:"neighborhood_post_types_graph_"+d,defaultSeriesType:"column"},title:{text:"Neighborhood Post Types for "+d},xAxis:{type:"datetime",title:{text:null}},yAxis:{min:0,title:{text:"Posts"}},tooltip:{enabled:!0},legend:{enabled:!0},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[{name:"Offers",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.OffersPosted)})},{name:"Requests",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.RequestsPosted)})},{name:"Meetups",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.MeetUpsPosted)})},{name:"Conversations",pointInterval:864e5,pointStart:f,data:_.map(e,function(a){return Number(a.ConversationsPosted)})}],credits:{enabled:!1}})},showSuccess:function(){this.render(),this.$("select.list").chosen(),this.$(".success").show(),this.$(".error").hide(),$(window).scrollTop(0)},showError:function(a){this.$(".error").text(a),this.$(".error").show(),this.$(".success").hide(),$(window).scrollTop(0)}}),GoogleContacts={contactsFeedUrl:"https://www.google.com/m8/feeds/contacts/default/full",maximumResultCount:500,contactsAvailable:!1,contactsService:undefined,contactsScope:"https://www.google.com/m8/feeds",callback:{},prepare:function(a){this.contactsService=new google.gdata.contacts.ContactsService("test-123"),window.googleContactsService=this.contactsService,window.GoogleContactsCallback=a,google.accounts.user.checkLogin(this.contactsScope)&&this.getContacts()},retrievePairedContacts:function(a){this.logMeIn(),this.getContacts()},logMeIn:function(){google.accounts.user.login(this.contactsScope)},getContacts:function(){this.callback={};var a=new google.gdata.contacts.ContactQuery(this.contactsFeedUrl);a.setMaxResults(this.maximumResultCount),window.googleContactsService.getContactFeed(a,this.handleContactsFeed,this.handleError)},handleContactsFeed:function(a){var b=a.feed.entry,c=[];for(var d=0;d<b.length;d++){var e=b[d],f=e.getTitle().getText(),g=e.getEmailAddresses(),h;for(var i=0;i<g.length;i++)h=g[i].getAddress();var j={full_name:f,name:f,email:h,avatar_url:undefined,first_name:_.first(f.split(" ")),last_name:_.last(f.split(" "))};c.push(j)}window.GoogleContactsCallback.success(c),window.GoogleContactsCallback=undefined},handleError:function(a){}},WindowsLiveContacts={prepare:function(a){window.WindowsLiveContactsCallback=a},retrievePairedContacts:function(a,b,c,d){$.ajax({type:"GET",contentType:"application/json",url:"/api/contacts/retrieve?ConsentToken="+a+"&exp="+b+"&lid="+c+"&delt="+d,success:function(a){var b=[];_.each(a,function(a){if(a.name&&a.emails.length>0){var c={full_name:a.name,name:a.name,email:a.emails[0],avatar_url:undefined,first_name:_.first(a.name.split(" ")),last_name:_.last(a.name.split(" "))};b.push(c)}}),window.WindowsLiveContactsCallback.success(b)}})},handleError:function(a){}},YahooContacts={prepare:function(a){window.YahooContactsCallback=a},retrievePairedContacts:function(a){$.ajax({type:"GET",contentType:"application/json",url:"/api/contacts/retrieve?oauth_verifier="+a,success:function(a){var b=[];_.each(a,function(a){if(a.name&&a.emails.length>0){var c={full_name:a.name,name:a.name,email:a.emails[0],avatar_url:undefined,first_name:_.first(a.name.split(" ")),last_name:_.last(a.name.split(" "))};b.push(c)}}),window.YahooContactsCallback.success(b)}})},handleError:function(a){}};$(function(){var a=window.location.pathname.split("/")[1];$("body").delegate("a[data-remote]","click",function(a){a.preventDefault();var b=a.currentTarget.pathname;Backbone.history.navigate(b,!0)});var b=$.getJSON("/api/communities/"+a,function(a){CommonPlace.community=new Community(a)}),c=$.getJSON("/api/account",function(a){CommonPlace.account=new Account(a)});$.when(c,b).then(function(){window.app=new Application,Backbone.history.start({pushState:Modernizr.history})}),function(){var a=document.createElement("script");a.src=document.location.protocol+"//connect.facebook.net/en_US/all.js",a.async=!0,document.getElementById("fb-root").appendChild(a)}()});var Application=Backbone.Router.extend({initialize:function(){Backbone.View.prototype.eventAggregator=_.extend({},Backbone.Events);var a=new CommonPlace.shared.HeaderView({el:$("#header")});a.render(),$("#notification").hide(),this.pages={faq:new FaqPage({el:$("#main")}),invite:new InvitePage({el:$("#main")}),discount:new DiscountPage({el:$("#main")}),community:new CommonPlace.CommunityPage({el:$("#main")}),inbox:new InboxPage({el:$("#main")}),outbox:new OutboxPage({el:$("#main")}),feed_inbox:new FeedInboxPage({el:$("#main")}),account:new AccountPage({el:$("#main")}),stats:new StatsPage({el:$("#main")})},_.invoke(this.pages,"unbind"),this.bindNewPosts()},routes:{":community/faq":"faq",":community/invite":"invite",":community/discount":"discount",":community":"community","":"community",":community/list/:tab":"communityWire",":community/share/:tab":"communityPostBox",":community/pages/:id":"showFeedPage",":community/groups/:id":"showGroupPage",":community/show/posts/:id":"showPost",":community/show/events/:id":"showEvent",":community/show/group_posts/:id":"showGroupPost",":community/show/announcements/:id":"showAnnouncement",":community/show/users/:id":"showUserWire",":community/show/transactions/:id":"showTransaction",":community/message/users/:id":"messageUser",":community/message/feeds/:id":"messageFeed",":community/inbox":"inbox",":community/outbox":"outbox",":community/feed_inbox":"feed_inbox",":community/account":"account",":community/registration":"showRegistration",":community/tour":"tour",":community/stats":"stats"},stats:function(a){CommonPlace.account.get("is_admin")?this.showPage("stats"):this.community()},faq:function(a){this.showPage("faq")},invite:function(a){this.showPage("invite")},discount:function(a){this.showPage("discount")},community:function(a){this.showPage("community"),this.pages.community.lists.switchTab("all_posts")},communityWire:function(a,b){this.showPage("community"),this.pages.community.lists.switchTab(b)},communityPostBox:function(a,b){this.community(),this.pages.community.postBox.switchTab(b)},showPost:function(a,b){this.showPage("community"),this.pages.community.lists.showPost(new Post({links:{self:"/posts/"+b}}))},showEvent:function(a,b){this.showPage("community"),this.pages.community.lists.showEvent(new Event({links:{self:"/events/"+b}}))},showTransaction:function(a,b){this.showPage("community"),this.pages.community.lists.showTransaction(new Transaction({links:{self:"/transactions/"+b}}))},showGroupPost:function(a,b){this.showPage("community"),this.pages.community.lists.showGroupPost(new GroupPost({links:{self:"/group_posts/"+b}}))},showFeedPage:function(a,b){this.showPage("community"),this.pages.community.lists.showFeedPage(b)},showFeedSubscribers:function(a,b){this.showPage("community"),this.pages.community.lists.showFeedSubscribers(b)},showGroupPage:function(a,b){this.showPage("community"),this.pages.community.lists.showGroupPage(b)},showAnnouncement:function(a,b){this.showPage("community"),this.pages.community.lists.showAnnouncement(new Announcement({links:{self:"/announcements/"+b}}))},showUserWire:function(a,b){this.showPage("community"),this.pages.community.lists.showUserWire(new User({links:{self:"/users/"+b}}))},messageUser:function(a,b){this.showPage("community");var c=new User({links:{self:"/users/"+b}});c.fetch({success:function(){var a=new MessageFormView({model:new Message({messagable:c})});a.render()}})},messageFeed:function(a,b){this.showPage("community");var c=new Feed({links:{self:"/feeds/"+b}});c.fetch({success:function(){var a=new MessageFormView({model:new Message({messagable:c})});a.render()}})},inbox:function(a){this.showPage("inbox")},outbox:function(a){this.showPage("outbox")},feed_inbox:function(a){this.showPage("feed_inbox")},account:function(a){this.showPage("account")},tour:function(a){this.community();var b=new CommonPlace.main.TourModal({el:$("#main"),template:"main_page.tour.modal"});b.render(),b.showPage("welcome")},showRegistration:function(a){this.community();var b=new CommonPlace.main.TourModal({el:$("#main"),template:"main_page.tour.modal"});b.render(),b.showPage("email")},showPage:function(a){var b=this.pages[a];this.currentPage!=b&&(this.currentPage&&this.currentPage.unbind(),this.currentPage=b,this.currentPage.bind(),this.currentPage.render())},bindNewPosts:function(){var a=this,b=CommonPlace.community,c=[b.posts,b.events,b.groupPosts,b.announcements,b.transactions];_.each(c,function(b){b.on("sync",function(){a.navigate("/",!0),a.community()})})}});